---
title: 组织结构管理
date: 2020-01-03 14:28:17
---
{% note info%}
组织结构以 "公司-部门-子部门-子子部门-……-用户" 的树状结构管理企业的公司、部门结构和用户信息。为确保用户正常使用，{% label danger@必须%}为每个用户在组织结构中设置一个默认的所属部门，每个用户均可以从属于多个部门角色。
{%endnote%}

## 公司设置

&emsp;&emsp;系统初始化时将在组织结构中创建一个唯一的公司，组织结构下所有的部门、子部门等等都以该公司为顶级公司。在组织组织结构页面左侧的组织结构树中选择公司，并点击页面上的{% label primary@编辑%}按钮，可以编辑公司名称。

## 部门设置

&emsp;&emsp;系统初始化时，系统将默认设置一个顶级部门，从属于默认的公司。用户可以在公司下创建其他的顶级部门，或在顶级部门下创建子部门。
&emsp;&emsp;在左侧导航栏中选择公司，并点击 {% label primary@新增%}- {% label primary@新增部门%} 按钮，在弹出窗口中创建新的顶级部门。顶级部门的上级部门为空，公司由系统默认设置为系统中的唯一公司，不允许修改。
&emsp;&emsp;创建顶级部门完成后，可以在左侧导航栏中选择顶级部门节点，继续创建子部门。
{% fullimg images/aportal-2020-03-27-15-34-36.png,  class, 80%,80% %}
{% note danger%}
    注1：在整个组织结构中，所有部门名称必须唯一，不允许重复
{%endnote%}

## 用户管理

### 用户列表

&emsp;&emsp;在组织结构树中点击部门节点时，在右侧列表中显示默认部门从属于该部门的所有用户信息。点击公司节点时，显示公司所有用户信息。
&emsp;&emsp;在用户列表上方的搜索框中输入用户名、电子邮件、电话号码等信息，可以对用户信息进行检索，检索结果将在用户列表中显示。
{% fullimg images/aportal-2020-03-27-23-36-06.png,  class, 80%,80% %}

### 新增/编辑/删除用户

&emsp;&emsp;在人员列表上方点击“新增-新增用户”按钮，开始在系统中创建新用户。
{% fullimg images/aportal-2020-03-27-23-37-38.png,  class, 80%,80% %}
&emsp;&emsp;在用户列表中选择某条用户后，点击列表上方的『编辑』按钮，在弹出窗口中对用户信息进行编辑。
{% fullimg images/aportal-2020-03-27-23-38-20.png,  class, 80%,80% %}
{% note danger%}
    注1：在整个组织结构中，所有用户的登录名必须唯一，不允许重复；
    注2：人员信息编辑页面显示的字段名称和顺序根据系统人员列表的<ssadmindata>视图决定，系统管理员可以根据实际业务需求在系统后台进行设置
{%endnote%}

### 导入/导出用户

#### 用户信息导入

&emsp;&emsp;组织结构中可以以Excel文件形式批量导入用户。导入用户前，在用户列表上方点击 {% label danger@导入%} 按钮，在弹出窗口中点击 {% label danger@模板下载%} 超链接下载用于用户信息导入的Excel模板。
{% fullimg images/aportal-2020-03-27-23-38-58.png,  class, 80%,80% %}

&emsp;&emsp;打开下载的Excel模板，在模板中填写需要导入的内容，随后再次点击『导入』按钮，并选择编辑后的Excel文件进行导入。
{% fullimg images/aportal-2020-03-27-23-39-38.png,  class, 80%,80% %}

{% note danger%}
    注1：Excel导入文件中，必须填写的字段包括“标题 – 用户姓名”，”Login Name – 登录帐号”，“Department – 所属部门”等；其中“Login Name – 登录帐号”不允许重复，如果重复系统将作为同一个用户导入，也就是说以最后一条导入的相同的Login Name的数据作为该用户的用户信息；
    注2：用户导入/导出Excel模板中包含的字段名和顺序由用户列表的<SSExportData>视图决定
{%endnote%}

#### 用户信息导出

&emsp;&emsp;在组织结构树中点击任意部门节点后，在右侧的用户列表中将列出该部门下的所有用户信息。点击用户信息列表上方的 {% label danger@导出%} 按钮，可以将该部门下的所有用户信息导出到Excel模板中。
&emsp;&emsp;在组织结构树中选择公司节点，再进行导出操作时，将导出组织结构中包含的所有用户信息。
&emsp;&emsp;导出的用户信息Excel文件也可以用户导入并批量更新用户信息。用户可以在导出的Excel文件中进行修改，随后执行导入操作。


## 用户角色管理

&emsp;&emsp;在组织结构的各个部门节点上，根据实际业务流程需求将用户组织成为不同的组，用于工作流的权限设置和审批、审阅流程节点设置。例如，在某个部门节点上设置“财务控制”角色，在流程设计过程中可以将相关的财务审核审批权限设置给这个角色，和该部门相关的流程可以自动流转到属于该角色的用户名下了。这种基于部门组织结构的用户分组操作就是用户角色管理。
&emsp;&emsp;系统中存在的所有角色名称都在SSO_Role列表中进行管理，该列表可以由管理员在后台管理。也可以由管理员将列表设置在系统提供的管理页面中，并授权给相关人员进行管理。
{% note danger%}
    注：角色名称在整个系统中应唯一，不允许重复的角色名称。
{%endnote%}
&emsp;&emsp;角色列表完成后，可以将角色和部门、用户进行关联。在左侧的组织结构树中选择某个部门节点，在右侧用户列表上方点击 {% label danger@角色%} 按钮，在弹出的“部门角色管理 – 部门名称”窗口中将显示所选择的部门节点上所有已经存在角色和相关用户。
{% fullimg images/aportal-2020-03-27-23-40-24.png,  class, 80%,80% %}
&emsp;&emsp;在“部门角色管理”窗口中点击 {% label danger@新建%} 按钮，可以开始为当前部门创建一个新的角色。
{% fullimg images/aportal-2020-03-27-23-40-47.png,  class, 80%,80% %}
&emsp;&emsp;在弹出的“部门角色用户管理 – 部门名称 – 新建”窗口右上方的角色名称列表中选择当前需要为该部门创建的角色名，随后点击左侧的 {% label danger@添加用户%} 按钮。
{% fullimg images/aportal-2020-03-27-23-41-13.png,  class, 80%,80% %}
&emsp;&emsp;在“用户选择”窗口左侧树中展开选择部门节点，或在上方搜索框中输入用户姓名、邮箱等信息进行检索，然后在右侧出现的部门用户列表中选择需要添加的用户。可以添加1个或多个用户，随后点击 {% label danger@确定%} 按钮保存并返回上一个页面。
{% fullimg images/aportal-2020-03-27-23-41-37.png,  class, 80%,80% %}
&emsp;&emsp;在“部门角色用户管理 – 部门名称 – 新建”窗口中将出现在前一个窗口中搜索并选择添加的用户列表。可以选择某个用户并点击 {% label danger@移除用户%} 按钮将该用户从当前角色中删除，或者点击 {% label danger@添加用户%} 用户按钮继续添加其他用户。完成角色用户的添加或删除操作后，可点击 {% label danger@确定%} 按钮保存当前的设置并退回上一窗口。
{% fullimg images/aportal-2020-03-27-23-42-04.png,  class, 80%,80% %}
&emsp;&emsp;在“部门角色管理 – 部门名称”窗口中列出了在前一窗口中设置的角色名和设置在该角色下的用户名。用户可以在列表中选择该角色，点击上方的 {% label danger@编辑%} 按钮对角色用户信息进行编辑，或点击 {% label danger@删除%} 按钮将当前选择的角色用户信息删除。
&emsp;&emsp;点击 {% label danger@确定%} 按钮可关闭当前的“部门角色管理 – 部门名称”窗口。
{% note danger%}
    注：系统仅支持角色和部门进行关联，不支持角色和公司关联。如果需要设置全公司的角色，可以在公司下设置一个顶级部门，并将公司范围的角色与该顶级部门关联。
{%endnote%}
&emsp;&emsp;在APortal系统中，每个用户都可以和多个用户角色关联，从而在不同的流程中，或同一个流程的不同节点被分配相应的权限。

## 用户组管理

&emsp;&emsp;用户组是对用户信息的另一种组织方式，相对于用户角色来说，用户组可以理解为是一种不关联任何部门节点的角色。每个用户都可以设置属于多个用户组。用户组也可用于工作流节点的审批人设置和授权。
&emsp;&emsp;在左侧导航上方点击 {% label danger@用户组%}，进入用户组显示和管理界面。左侧导航栏中将显示当前系统中已经创建的所有用户组列表。点击 {% label danger@新建组%} 按钮可创建新的组。
{% fullimg images/aportal-2020-03-27-23-42-47.png,  class, 50%,50% %}
&emsp;&emsp;组名称填写完成后点击 {% label danger@确定%} 按钮保存并关闭新建组弹出窗口。选中组后可以点击 {% label danger@编辑%} 按钮对组名称进行修改，或点击 {% label danger@添加用户%} 按钮在当前选中的组中增加用户。
{% fullimg images/aportal-2020-03-27-23-43-18.png,  class, 80%,80% %}
&emsp;&emsp;在用户选择窗口中输入关键字搜索用户，或通过左侧树状部门结构查找并选择用户后，点击 {% label danger@确定%} 按钮保存需要添加到用户组的所有用户。
{% fullimg images/aportal-2020-03-27-23-43-47.png,  class, 80%,80% %}
&emsp;&emsp;在用户列表中选择需要移除的用户，点击 {% label danger@移除用户%} 按钮将用户从当前组中移除。
{% note danger%}
    注：组名称在系统中必须唯一，不允许重复。
{%endnote%}