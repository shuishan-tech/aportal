var hsYTPlayers={},hsVimeoPlayers={},hsYTInit=function(){var i=[],a=!1;return function(e,t){if(!0===e){a=!0;for(var o=0;o<i.length;o++)i.shift()()}else"function"==typeof e&&(a?e():i[t?"unshift":"push"](e))}}(),hsVimeoInit=function(){var i=[],a=!1;return function(e,t){if(!0===e){a=!0;for(var o=0;o<i.length;o++)i.shift()()}else"function"==typeof e&&(a?e():i[t?"unshift":"push"](e))}}();function ratioCalc(e,t){var o=window.innerWidth,i=$(e).parents("[data-hs-bgv-id]").outerHeight(),a=$(e).parent("[data-hs-bgv-id]").outerWidth(),s=t*i,t=t*a;a<i?$(e).css({width:s,height:"130%"}):$(e).css({width:t,height:1600<o?.4*t:s})}function hsYTAPICreate(){var e,t;$('[data-hs-bgv-type="youtube"]').length&&((e=document.createElement("script")).src="//www.youtube.com/player_api",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))}function hsYTReady(e){e.target.mute();var t=e.target.a.width/e.target.a.height;ratioCalc(e.target.a,t),$(window).resize(function(){ratioCalc(e.target.a,t)}),$("*").on("blur change click dblclick error focus focusin focusout hover keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup resize scroll select submit",function(){ratioCalc(e.target.a,t)})}function hsYTPlay(e){e.data==YT.PlayerState.PLAYING&&setTimeout(function(){$(e.target.a).next().fadeOut(400)},3e3)}function onYouTubePlayerAPIReady(){hsYTInit(!0)}function hsVimeoAPICreate(){var e,t;$('[data-hs-bgv-type="vimeo"]').length&&((e=document.createElement("script")).src="//player.vimeo.com/api/player.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))}$.fn.hsBgVideo=function(e){hsYTAPICreate(),hsVimeoAPICreate();var t=$('[data-hs-bgv-type="youtube"]'),o=$('[data-hs-bgv-type="vimeo"]'),i=$(this);t.length&&(t.each(function(e){var t=$(this),o=t.data("hs-bgv-id"),i=t.data("hs-bgv-loop")?1:0,a=$('<div class="hs-video-preview" style="background-image: url(//img.youtube.com/vi/'+o+'/maxresdefault.jpg);"></div>');t.css("position","relative").prepend(a).prepend('<div id="hsYTPlayer'+e+'" class="hs-youtube hs-bg-video" data-hs-bgv-id="'+o+'" data-hs-bgv-loop="'+i+'"></div>')}),hsYTInit(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(".hs-youtube").each(function(e){var t=$(this).attr("id"),o=$(this).data("hs-bgv-id"),i=$(this).data("hs-bgv-loop")?1:0;return hsYTPlayers[e]=new YT.Player(t,{videoId:o,playerVars:{autoplay:1,controls:0,showinfo:0,enablejsapi:1,modestbranding:1,iv_load_policy:3,loop:i,playlist:o},events:{onReady:hsYTReady,onStateChange:hsYTPlay}})})})),o.length&&(o.each(function(e){var t=$(this),o=t.data("hs-bgv-id"),i=t.data("hs-bgv-loop")?1:0;$.getJSON("//www.vimeo.com/api/v2/video/"+o+".json?callback=?",function(e){e=e[0].thumbnail_large;t.prepend('<div class="hs-video-preview" style="background-image: url('+e+');"></div>')}),t.css("position","relative").prepend('<div id="hsVimeoPlayer'+e+'" class="hs-vimeo hs-bg-video" data-hs-bgv-id="'+o+'" data-hs-bgv-loop="'+i+'"></div>')}),hsVimeoInit(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(".hs-vimeo").each(function(t){var o=$(this).attr("id"),e=$(this).data("hs-bgv-id"),i=$(this).data("hs-bgv-loop")?1:0;hsVimeoPlayers[t]=new Vimeo.Player(o,{id:e,loop:i,title:!1,portrait:!1,byline:!1,autoplay:!0,autopause:!1}),hsVimeoPlayers[t].setVolume(0),hsVimeoPlayers[t].play().then(function(){var e=hsVimeoPlayers[t].element.width/hsVimeoPlayers[t].element.height;ratioCalc(hsVimeoPlayers[t].element,e),$(window).resize(function(){ratioCalc(hsVimeoPlayers[t].element,e)}),$("*").on("blur change click dblclick error focus focusin focusout hover keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup resize scroll select submit",function(){ratioCalc(hsVimeoPlayers[t].element,e)}),setTimeout(function(){$("#"+o).prev().fadeOut(400)},3e3)})})})),i.length&&i.not("[data-hs-bgv-type]").each(function(){var e=$(this),t=e.data("hs-bgv-path"),t='<video class="hs-html5 hs-bg-video" poster="" autoplay muted '+(e.data("hs-bgv-loop")?"loop ":"")+'><source src="'+t+'.mp4" type="video/mp4"><source src="'+t+'.webm" type="video/webm"><source src="'+t+'.ogv" type="video/ogg">Your browser doesn\'t support HTML5 video.</video>';e.css("position","relative").prepend(t)})},hsVimeoInit(!0);