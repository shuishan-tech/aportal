!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.rangePlugin=t()}(this,function(){"use strict";return function(n){return void 0===n&&(n={}),function(o){var i,u,a,s="",t={onParseConfig:function(){o.config.mode="range",s=o.config.altInput?o.config.altFormat:o.config.dateFormat},onReady:function(){var e;n.input?i=n.input instanceof Element?n.input:window.document.querySelector(n.input):((i=o._input.cloneNode()).removeAttribute("id"),i._flatpickr=void 0),!i.value||(e=o.parseDate(i.value))&&o.selectedDates.push(e),i.setAttribute("data-fp-omit",""),o._bind(i,["focus","click"],function(){o.selectedDates[1]&&(o.latestSelectedDateObj=o.selectedDates[1],o._setHoursFromDate(o.selectedDates[1]),o.jumpToDate(o.selectedDates[1])),u=!0,o.isOpen=!1,o.open(void 0,i)}),o._bind(o._input,["focus","click"],function(e){e.preventDefault(),o.isOpen=!1,o.open()}),o.config.allowInput&&o._bind(i,"keydown",function(e){"Enter"===e.key&&(o.setDate([o.selectedDates[0],i.value],!0,s),i.click())}),n.input||o._input.parentNode&&o._input.parentNode.insertBefore(i,o._input.nextSibling),o.config.ignoredFocusElements.push(i),o.config.allowInput?(o._input.removeAttribute("readonly"),i.removeAttribute("readonly")):i.setAttribute("readonly","readonly"),o._bind(o._input,"focus",function(){o.latestSelectedDateObj=o.selectedDates[0],o._setHoursFromDate(o.selectedDates[0]),u=!1,o.jumpToDate(o.selectedDates[0])}),o.config.allowInput&&o._bind(o._input,"keydown",function(e){"Enter"===e.key&&o.setDate([o._input.value,o.selectedDates[1]],!0,s)}),o.setDate(o.selectedDates,!1),t.onValueUpdate(o.selectedDates)},onPreCalendarPosition:function(){u&&(o._positionElement=i,setTimeout(function(){o._positionElement=o._input},0))},onChange:function(){o.selectedDates.length||setTimeout(function(){o.selectedDates.length||(i.value="",a=[])},10),u&&setTimeout(function(){i.focus()},0)},onDestroy:function(){n.input||i.parentNode&&i.parentNode.removeChild(i)},onValueUpdate:function(e){var t,n;i&&((a=!a||e.length>=a.length?e.concat():a).length>e.length&&(n=e[0],t=u?[a[0],n]:[n,a[1]],o.setDate(t,!1),a=t.concat()),t=(n=o.selectedDates.map(function(e){return o.formatDate(e,s)}))[0],o._input.value=void 0===t?"":t,n=n[1],i.value=void 0===n?"":n)}};return t}}});