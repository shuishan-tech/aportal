"use strict";module.exports=function(n){n.registerTask("testswarm",function(t,e,r){var s=require("testswarm"),a={},u=this.async(),i=/PR-(\d+)/.exec(t),o=n.file.readJSON(e).jquerymigrate,e=n.config("tests")[r],r=r||o.browserSets;"["===r[0]&&(r=JSON.parse(r)),i=i?"Pull <a href='https://github.com/jquery/jquery-migrate/pull/"+i[1]+"'>#"+i[1]+"</a>":"Commit <a href='https://github.com/jquery/jquery-migrate/commit/"+t+"'>"+t.substr(0,10)+"</a>",e.forEach(function(e){var r=e.split("+");a[e]=o.testUrl+t+"/test/index.html?plugin="+r[0]+"&jquery="+r[1]}),s.createClient({url:o.swarmUrl}).addReporter(s.reporters.cli).auth({id:o.authUsername,token:o.authToken}).addjob({name:i,runs:a,runMax:o.runMax,browserSets:r,timeout:18e5},function(e,r){e&&n.log.error(e),u(r)})})};