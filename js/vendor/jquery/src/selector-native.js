define(["./core","./var/document","./var/documentElement","./var/hasOwn","./var/indexOf"],function(i,a,e,o,r){"use strict";function t(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}var c,u,l=i.expando.split("").sort(d).join("")===i.expando,n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector,s=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function d(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)?e===a||e.ownerDocument===a&&i.contains(a,e)?-1:t===a||t.ownerDocument===a&&i.contains(a,t)?1:u?r.call(u,e)-r.call(u,t):0:4&n?-1:1)}function f(e){var t,n=[],o=0,r=0;if(c=!1,u=!l&&e.slice(0),e.sort(d),c){for(;t=e[r++];)t===e[r]&&(o=n.push(r));for(;o--;)e.splice(n[o],1)}return u=null,e}i.extend({uniqueSort:f,unique:f,escapeSelector:function(e){return(e+"").replace(s,t)},find:function(e,t,n,o){var r,c,u=0;if(n=n||[],!e||"string"!=typeof e)return n;if(1!==(c=(t=t||a).nodeType)&&9!==c)return[];if(o)for(;r=o[u++];)i.find.matchesSelector(r,e)&&n.push(r);else i.merge(n,t.querySelectorAll(e));return n},text:function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r)return e.textContent;if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=i.text(t);return n},contains:function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!n.contains(t))},isXMLDoc:function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),i.extend(i.find,{matches:function(e,t){return i.find(e,null,null,t)},matchesSelector:function(e,t){return n.call(e,t)},attr:function(e,t){var n=i.expr.attrHandle[t.toLowerCase()],n=n&&o.call(i.expr.attrHandle,t.toLowerCase())?n(e,t,i.isXMLDoc(e)):void 0;return void 0!==n?n:e.getAttribute(t)}})});