define(["../core","../data/var/dataPriv","../css/var/isHiddenWithinTree"],function(h,u,c){"use strict";var y={};function e(e,n){for(var t,i,s,o,r,d=[],l=0,a=e.length;l<a;l++)(i=e[l]).style&&(t=i.style.display,n?("none"===t&&(d[l]=u.get(i,"display")||null,d[l]||(i.style.display="")),""===i.style.display&&c(i)&&(d[l]=(r=o=void 0,o=(s=i).ownerDocument,r=s.nodeName,(s=y[r])||(o=o.body.appendChild(o.createElement(r)),s=h.css(o,"display"),o.parentNode.removeChild(o),"none"===s&&(s="block"),y[r]=s)))):"none"!==t&&(d[l]="none",u.set(i,"display",t)));for(l=0;l<a;l++)null!=d[l]&&(e[l].style.display=d[l]);return e}return h.fn.extend({show:function(){return e(this,!0)},hide:function(){return e(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){c(this)?h(this).show():h(this).hide()})}}),e});