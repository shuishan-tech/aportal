!function(r,a,s){"use strict";function l(t,e,n){var i=this;if(r.data(t,"cubeportfolio"))throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!");i.obj=t,i.$obj=r(t),r.data(i.obj,"cubeportfolio",i),e&&e.sortToPreventGaps!==s&&(e.sortByDimension=e.sortToPreventGaps,delete e.sortToPreventGaps),i.options=r.extend({},r.fn.cubeportfolio.options,e,i.$obj.data("cbp-options")),i.isAnimating=!0,i.defaultFilter=i.options.defaultFilter,i.registeredEvents=[],i.queue=[],i.addedWrapp=!1,r.isFunction(n)&&i.registerEvent("initFinish",n,!0);n=i.$obj.children();i.$obj.addClass("cbp"),0!==n.length&&!n.first().hasClass("cbp-item")||(i.wrapInner(i.obj,"cbp-wrapper"),i.addedWrapp=!0),i.$ul=i.$obj.children().addClass("cbp-wrapper"),i.wrapInner(i.obj,"cbp-wrapper-outer"),i.wrapper=i.$obj.children(".cbp-wrapper-outer"),i.blocks=i.$ul.children(".cbp-item"),i.blocksOn=i.blocks,i.wrapInner(i.blocks,"cbp-item-wrapper"),i.plugins={},r.each(l.plugins,function(t,e){e=e(i);e&&(i.plugins[t]=e)}),i.triggerEvent("afterPlugins"),i.removeAttrAfterStoreData=r.Deferred(),i.loadImages(i.$obj,i.display)}r.extend(l.prototype,{storeData:function(t,o){var a=this;o=o||0,t.each(function(t,e){var n=r(e),i=n.width(),e=n.height();n.data("cbp",{index:o+t,indexInitial:o+t,wrapper:n.children(".cbp-item-wrapper"),widthInitial:i,heightInitial:e,width:i,height:e,widthAndGap:i+a.options.gapVertical,heightAndGap:e+a.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})}),this.removeAttrAfterStoreData.resolve()},wrapInner:function(t,e){var n,i,o;if(e=e||"",!(t.length&&t.length<1))for(t.length===s&&(t=[t]),i=t.length-1;0<=i;i--){for(n=t[i],(o=a.createElement("div")).setAttribute("class",e);n.childNodes.length;)o.appendChild(n.childNodes[0]);n.appendChild(o)}},removeAttrImage:function(t){this.removeAttrAfterStoreData.then(function(){t.removeAttribute("width"),t.removeAttribute("height"),t.removeAttribute("style")})},loadImages:function(e,o){var a=this;requestAnimationFrame(function(){var t=e.find("img").map(function(t,e){return e.hasAttribute("width")&&e.hasAttribute("height")?(e.style.width=e.getAttribute("width")+"px",e.style.height=e.getAttribute("height")+"px",e.hasAttribute("data-cbp-src")||(null===a.checkSrc(e)?a.removeAttrImage(e):((n=r("<img>")).on("load.cbp error.cbp",function(){r(this).off("load.cbp error.cbp"),a.removeAttrImage(e)}),e.srcset?(n.attr("sizes",e.sizes||"100vw"),n.attr("srcset",e.srcset)):n.attr("src",e.src))),null):a.checkSrc(e);var n}),i=t.length;0!==i?r.each(t,function(t,e){var n=r("<img>");n.on("load.cbp error.cbp",function(){r(this).off("load.cbp error.cbp"),0===--i&&o.call(a)}),e.srcset?(n.attr("sizes",e.sizes),n.attr("srcset",e.srcset)):n.attr("src",e.src)}):o.call(a)})},checkSrc:function(t){var e=t.srcset,n=t.src;if(""===n)return null;var i=r("<img>");e?(i.attr("sizes",t.sizes||"100vw"),i.attr("srcset",e)):i.attr("src",n);i=i[0];return i.complete&&i.naturalWidth!==s&&0!==i.naturalWidth?null:i},display:function(){var t=this;t.width=t.$obj.outerWidth(),t.triggerEvent("initStartRead"),t.triggerEvent("initStartWrite"),0<t.width&&(t.storeData(t.blocks),t.layoutAndAdjustment()),t.triggerEvent("initEndRead"),t.triggerEvent("initEndWrite"),t.$obj.addClass("cbp-ready"),t.runQueue("delayFrame",t.delayFrame)},delayFrame:function(){var t=this;requestAnimationFrame(function(){t.resizeEvent(),t.triggerEvent("initFinish"),t.isAnimating=!1,t.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var e=this;l.private.resize.initEvent({instance:e,fn:function(){e.triggerEvent("beforeResizeGrid");var t=e.$obj.outerWidth();t&&e.width!==t&&(e.width=t,"alignCenter"===e.options.gridAdjustment&&(e.wrapper[0].style.maxWidth=""),e.layoutAndAdjustment(),e.triggerEvent("resizeGrid")),e.triggerEvent("resizeWindow")}})},gridAdjust:function(){var o=this;"responsive"===o.options.gridAdjustment?o.responsiveLayout():(o.blocks.removeAttr("style"),o.blocks.each(function(t,e){var n=r(e).data("cbp"),i=e.getBoundingClientRect(),e=o.columnWidthTruncate(i.right-i.left),i=Math.round(i.bottom-i.top);n.height=i,n.heightAndGap=i+o.options.gapHorizontal,n.width=e,n.widthAndGap=e+o.options.gapVertical}),o.widthAvailable=o.width+o.options.gapVertical),o.triggerEvent("gridAdjust")},layoutAndAdjustment:function(t){t&&(this.width=this.$obj.outerWidth()),this.gridAdjust(),this.layout()},layout:function(){var t=this;t.computeBlocks(t.filterConcat(t.defaultFilter)),"slider"===t.options.layoutMode?(t.sliderLayoutReset(),t.sliderLayout()):(t.mosaicLayoutReset(),t.mosaicLayout()),t.blocksOff.addClass("cbp-item-off"),t.blocksOn.removeClass("cbp-item-off").each(function(t,e){var n=r(e).data("cbp");n.left=n.leftNew,n.top=n.topNew,e.style.left=n.left+"px",e.style.top=n.top+"px"}),t.resizeMainContainer()},computeFilter:function(t){this.computeBlocks(t),this.mosaicLayoutReset(),this.mosaicLayout(),this.filterLayout()},filterLayout:function(){this.blocksOff.addClass("cbp-item-off"),this.blocksOn.removeClass("cbp-item-off").each(function(t,e){var n=r(e).data("cbp");n.left=n.leftNew,n.top=n.topNew,e.style.left=n.left+"px",e.style.top=n.top+"px"}),this.resizeMainContainer(),this.filterFinish()},filterFinish:function(){this.isAnimating=!1,this.$obj.trigger("filterComplete.cbp"),this.triggerEvent("filterFinish")},computeBlocks:function(t){var e=this;e.blocksOnInitial=e.blocksOn,e.blocksOn=e.blocks.filter(t),e.blocksOff=e.blocks.not(t),e.triggerEvent("computeBlocksFinish",t)},responsiveLayout:function(){var o=this;o.cols=o[r.isArray(o.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),o.columnWidth=o.columnWidthTruncate((o.width+o.options.gapVertical)/o.cols),o.widthAvailable=o.columnWidth*o.cols,"mosaic"===o.options.layoutMode&&o.getMosaicWidthReference(),o.blocks.each(function(t,e){var n=r(e).data("cbp"),i=1;"mosaic"===o.options.layoutMode&&(i=o.getColsMosaic(n.widthInitial)),i=o.columnWidth*i-o.options.gapVertical,e.style.width=i+"px",n.width=i,n.widthAndGap=i+o.options.gapVertical,e.style.height=""});var a=[];o.blocks.each(function(t,e){r.each(r(e).find("img").filter("[width][height]"),function(t,e){var n=0;r(e).parentsUntil(".cbp-item").each(function(t,e){e=r(e).width();if(0<e)return n=e,!1});var i=parseInt(e.getAttribute("width"),10),o=parseInt(e.getAttribute("height"),10),o=parseFloat((i/o).toFixed(10));a.push({el:e,width:n,height:Math.round(n/o)})})}),r.each(a,function(t,e){e.el.width=e.width,e.el.height=e.height,e.el.style.width=e.width+"px",e.el.style.height=e.height+"px"}),o.blocks.each(function(t,e){var n=r(e).data("cbp"),e=e.getBoundingClientRect(),e=Math.round(e.bottom-e.top);n.height=e,n.heightAndGap=e+o.options.gapHorizontal})},getMosaicWidthReference:function(){var n=[];this.blocks.each(function(t,e){e=r(e).data("cbp");n.push(e.widthInitial)}),n.sort(function(t,e){return t-e}),n[0]?this.mosaicWidthReference=n[0]:this.mosaicWidthReference=this.columnWidth},getColsMosaic:function(t){if(t===this.width)return this.cols;t=.79<=(t=t/this.mosaicWidthReference)%1?Math.ceil(t):Math.floor(t);return Math.min(Math.max(t,1),this.cols)},getColumnsAuto:function(){if(0===this.blocks.length)return 1;var t=this.blocks.first().data("cbp").widthInitial+this.options.gapVertical;return Math.max(Math.round(this.width/t),1)},getColumnsBreakpoints:function(){var n,t=this,i=t.width;return r.each(t.options.mediaQueries,function(t,e){if(i>=e.width)return n=e,!1}),n=n||t.options.mediaQueries[t.options.mediaQueries.length-1],t.triggerEvent("onMediaQueries",n.options),n.cols},columnWidthTruncate:function(t){return Math.floor(t)},resizeMainContainer:function(){var n,t=this,e=Math.max(t.freeSpaces.slice(-1)[0].topStart-t.options.gapHorizontal,0);"alignCenter"===t.options.gridAdjustment&&(n=0,t.blocksOn.each(function(t,e){e=r(e).data("cbp"),e=e.left+e.width;n<e&&(n=e)}),t.wrapper[0].style.maxWidth=n+"px"),e!==t.height&&(t.obj.style.height=e+"px",t.height!==s&&(l.private.modernBrowser?t.$obj.one(l.private.transitionend,function(){t.$obj.trigger("pluginResize.cbp")}):t.$obj.trigger("pluginResize.cbp")),t.height=e),t.triggerEvent("resizeMainContainer")},filterConcat:function(t){return t.replace(/\|/gi,"")},pushQueue:function(t,e){this.queue[t]=this.queue[t]||[],this.queue[t].push(e)},runQueue:function(t,e){t=this.queue[t]||[];r.when.apply(r,t).then(r.proxy(e,this))},clearQueue:function(t){this.queue[t]=[]},registerEvent:function(t,e,n){this.registeredEvents[t]||(this.registeredEvents[t]=[]),this.registeredEvents[t].push({func:e,oneTime:n||!1})},triggerEvent:function(t,e){var n,i,o=this;if(o.registeredEvents[t])for(n=0,i=o.registeredEvents[t].length;n<i;n++)o.registeredEvents[t][n].func.call(o,e),o.registeredEvents[t][n].oneTime&&(o.registeredEvents[t].splice(n,1),n--,i--)},addItems:function(t,e,i){var o=this;o.wrapInner(t,"cbp-item-wrapper"),o.$ul[i](t.addClass("cbp-item-loading").css({top:"100%",left:0})),l.private.modernBrowser?t.last().one(l.private.animationend,function(){o.addItemsFinish(t,e)}):o.addItemsFinish(t,e),o.loadImages(t,function(){var n;o.$obj.addClass("cbp-updateItems"),"append"===i?(o.storeData(t,o.blocks.length),r.merge(o.blocks,t)):(o.storeData(t),n=t.length,o.blocks.each(function(t,e){r(e).data("cbp").index=n+t}),o.blocks=r.merge(t,o.blocks)),o.triggerEvent("addItemsToDOM",t),o.triggerEvent("triggerSort"),o.layoutAndAdjustment(!0),o.elems&&l.public.showCounter.call(o.obj,o.elems)})},addItemsFinish:function(t,e){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),t.removeClass("cbp-item-loading"),r.isFunction(e)&&e.call(this,t),this.$obj.trigger("onAfterLoadMore.cbp",[t])},removeItems:function(t,e){var o=this;o.$obj.addClass("cbp-updateItems"),l.private.modernBrowser?t.last().one(l.private.animationend,function(){o.removeItemsFinish(t,e)}):o.removeItemsFinish(t,e),t.each(function(t,i){o.blocks.each(function(t,e){var n;i===e&&(n=r(e),o.blocks.splice(t,1),l.private.modernBrowser?(n.one(l.private.animationend,function(){n.remove()}),n.addClass("cbp-removeItem")):n.remove())})}),o.blocks.each(function(t,e){r(e).data("cbp").index=t}),o.triggerEvent("triggerSort"),o.layoutAndAdjustment(!0),o.elems&&l.public.showCounter.call(o.obj,o.elems)},removeItemsFinish:function(t,e){this.isAnimating=!1,this.$obj.removeClass("cbp-updateItems"),r.isFunction(e)&&e.call(this,t)}}),r.fn.cubeportfolio=function(t,e,n){return this.each(function(){if("object"==typeof t||!t)return l.public.init.call(this,t,e);if(l.public[t])return l.public[t].call(this,e,n);throw new Error("Method "+t+" does not exist on jquery.cubeportfolio.js")})},l.plugins={},r.fn.cubeportfolio.constructor=l}(jQuery,(window,document)),function(s){"use strict";var t=s.fn.cubeportfolio.constructor;s.extend(t.prototype,{mosaicLayoutReset:function(){var n=this;n.blocksAreSorted=!1,n.blocksOn.each(function(t,e){s(e).data("cbp").pack=!1,n.options.sortByDimension&&(e.style.height="")}),n.freeSpaces=[{leftStart:0,leftEnd:n.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}]},mosaicLayout:function(){for(var t=this,e=0,n=t.blocksOn.length;e<n;e++){var i=t.getSpaceIndexAndBlock();if(null===i)return t.mosaicLayoutReset(),t.blocksAreSorted=!0,t.sortBlocks(t.blocksOn,"widthAndGap","heightAndGap",!0),void t.mosaicLayout();t.generateF1F2(i.spaceIndex,i.dataBlock),t.generateG1G2G3G4(i.dataBlock),t.cleanFreeSpaces(),t.addHeightToBlocks()}t.blocksAreSorted&&t.sortBlocks(t.blocksOn,"topNew","leftNew")},getSpaceIndexAndBlock:function(){var t=this,r=null;return s.each(t.freeSpaces,function(n,i){var o=i.leftEnd-i.leftStart,a=i.topEnd-i.topStart;return t.blocksOn.each(function(t,e){e=s(e).data("cbp");if(!0!==e.pack)return e.widthAndGap<=o&&e.heightAndGap<=a?(e.pack=!0,r={spaceIndex:n,dataBlock:e},e.leftNew=i.leftStart,e.topNew=i.topStart,!1):void 0}),!t.blocksAreSorted&&t.options.sortByDimension&&0<n?(r=null,!1):null===r&&void 0}),r},generateF1F2:function(t,e){var n=this.freeSpaces[t],i={leftStart:n.leftStart+e.widthAndGap,leftEnd:n.leftEnd,topStart:n.topStart,topEnd:n.topEnd},n={leftStart:n.leftStart,leftEnd:n.leftEnd,topStart:n.topStart+e.heightAndGap,topEnd:n.topEnd};this.freeSpaces.splice(t,1),i.leftStart<i.leftEnd&&i.topStart<i.topEnd&&(this.freeSpaces.splice(t,0,i),t++),n.leftStart<n.leftEnd&&n.topStart<n.topEnd&&this.freeSpaces.splice(t,0,n)},generateG1G2G3G4:function(i){var o=this,a=[];s.each(o.freeSpaces,function(t,e){var n=o.intersectSpaces(e,i);null!==n?(o.generateG1(e,n,a),o.generateG2(e,n,a),o.generateG3(e,n,a),o.generateG4(e,n,a)):a.push(e)}),o.freeSpaces=a},intersectSpaces:function(t,e){var n={leftStart:e.leftNew,leftEnd:e.leftNew+e.widthAndGap,topStart:e.topNew,topEnd:e.topNew+e.heightAndGap};if(t.leftStart===n.leftStart&&t.leftEnd===n.leftEnd&&t.topStart===n.topStart&&t.topEnd===n.topEnd)return null;var i=Math.max(t.leftStart,n.leftStart),o=Math.min(t.leftEnd,n.leftEnd),e=Math.max(t.topStart,n.topStart),n=Math.min(t.topEnd,n.topEnd);return o<=i||n<=e?null:{leftStart:i,leftEnd:o,topStart:e,topEnd:n}},generateG1:function(t,e,n){t.topStart!==e.topStart&&n.push({leftStart:t.leftStart,leftEnd:t.leftEnd,topStart:t.topStart,topEnd:e.topStart})},generateG2:function(t,e,n){t.leftEnd!==e.leftEnd&&n.push({leftStart:e.leftEnd,leftEnd:t.leftEnd,topStart:t.topStart,topEnd:t.topEnd})},generateG3:function(t,e,n){t.topEnd!==e.topEnd&&n.push({leftStart:t.leftStart,leftEnd:t.leftEnd,topStart:e.topEnd,topEnd:t.topEnd})},generateG4:function(t,e,n){t.leftStart!==e.leftStart&&n.push({leftStart:t.leftStart,leftEnd:e.leftStart,topStart:t.topStart,topEnd:t.topEnd})},cleanFreeSpaces:function(){this.freeSpaces.sort(function(t,e){return t.topStart>e.topStart?1:t.topStart<e.topStart?-1:t.leftStart>e.leftStart?1:t.leftStart<e.leftStart?-1:0}),this.correctSubPixelValues(),this.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){for(var t,e,n=0,i=this.freeSpaces.length-1;n<i;n++)t=this.freeSpaces[n],(e=this.freeSpaces[n+1]).topStart-t.topStart<=1&&(e.topStart=t.topStart)},removeNonMaximalFreeSpaces:function(){var t=this;t.uniqueFreeSpaces(),t.freeSpaces=s.map(t.freeSpaces,function(n,i){return s.each(t.freeSpaces,function(t,e){if(i!==t)return e.leftStart<=n.leftStart&&e.leftEnd>=n.leftEnd&&e.topStart<=n.topStart&&e.topEnd>=n.topEnd?(n=null,!1):void 0}),n})},uniqueFreeSpaces:function(){var e=[];s.each(this.freeSpaces,function(t,n){s.each(e,function(t,e){if(e.leftStart===n.leftStart&&e.leftEnd===n.leftEnd&&e.topStart===n.topStart&&e.topEnd===n.topEnd)return n=null,!1}),null!==n&&e.push(n)}),this.freeSpaces=e},addHeightToBlocks:function(){var o=this;s.each(o.freeSpaces,function(t,i){o.blocksOn.each(function(t,e){var n=s(e).data("cbp");!0===n.pack&&o.intersectSpaces(i,n)&&-1==i.topStart-n.topNew-n.heightAndGap&&(e.style.height=n.height-1+"px")})})},sortBlocks:function(t,n,i,o){i=void 0===i?"leftNew":i,o=void 0===o?1:-1,t.sort(function(t,e){t=s(t).data("cbp"),e=s(e).data("cbp");return t[n]>e[n]?o:t[n]<e[n]?-o:t[i]>e[i]?o:t[i]<e[i]?-o:t.index>e.index?o:t.index<e.index?-o:void 0})}})}(jQuery,(window,document)),jQuery.fn.cubeportfolio.options={filters:"",search:"",layoutMode:"grid",sortByDimension:!1,drag:!0,auto:!1,autoTimeout:5e3,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(a,i,o){"use strict";var r=a.fn.cubeportfolio.constructor,s=a(i);r.private={publicEvents:function(e,n,i){var o=this;o.events=[],o.initEvent=function(t){0===o.events.length&&o.scrollEvent(),o.events.push(t)},o.destroyEvent=function(n){o.events=a.map(o.events,function(t,e){if(t.instance!==n)return t}),0===o.events.length&&s.off(e)},o.scrollEvent=function(){var t;s.on(e,function(){clearTimeout(t),t=setTimeout(function(){a.isFunction(i)&&i.call(o)||a.each(o.events,function(t,e){e.fn.call(e.instance)})},n)})}},checkInstance:function(t){var e=a.data(this,"cubeportfolio");if(!e)throw new Error("cubeportfolio is not initialized. Initialize it before calling "+t+" method!");return e.triggerEvent("publicMethod"),e},browserInfo:function(){var t,e=r.private,n=navigator.appVersion;-1!==n.indexOf("MSIE 8.")?e.browser="ie8":-1!==n.indexOf("MSIE 9.")?e.browser="ie9":-1!==n.indexOf("MSIE 10.")?e.browser="ie10":i.ActiveXObject||"ActiveXObject"in i?e.browser="ie11":/android/gi.test(n)?e.browser="android":/iphone|ipad|ipod/gi.test(n)?e.browser="ios":/chrome/gi.test(n)?e.browser="chrome":e.browser="",e.styleSupport("perspective"),t=e.styleSupport("transition"),e.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[t],n=e.styleSupport("animation"),e.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[n],e.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[n],e.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[n],e.transform=e.styleSupport("transform"),t&&n&&e.transform&&(e.modernBrowser=!0)},styleSupport:function(t){var e,n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1),i=o.createElement("div");return t in i.style?e=t:n in i.style&&(e=n),i=null,e}},r.private.browserInfo(),r.private.resize=new r.private.publicEvents("resize.cbp",50,function(){if(i.innerHeight==screen.height)return!0})}(jQuery,window,document),function(o){"use strict";var a=o.fn.cubeportfolio.constructor;a.public={init:function(t,e){new a(this,t,e)},destroy:function(t){var e=a.private.checkInstance.call(this,"destroy");e.triggerEvent("beforeDestroy"),o.removeData(this,"cubeportfolio"),e.blocks.removeData("cbp"),e.$obj.removeClass("cbp-ready").removeAttr("style"),e.$ul.removeClass("cbp-wrapper"),a.private.resize.destroyEvent(e),e.$obj.off(".cbp"),e.blocks.removeClass("cbp-item-off").removeAttr("style"),e.blocks.find(".cbp-item-wrapper").each(function(t,e){var n=o(e),e=n.children();e.length?e.unwrap():n.remove()}),e.destroySlider&&e.destroySlider(),e.$ul.unwrap(),e.addedWrapp&&e.blocks.unwrap(),0===e.blocks.length&&e.$ul.remove(),o.each(e.plugins,function(t,e){"function"==typeof e.destroy&&e.destroy()}),o.isFunction(t)&&t.call(e),e.triggerEvent("afterDestroy")},filter:function(t,e){var n,i=a.private.checkInstance.call(this,"filter");if(!i.isAnimating){if(i.isAnimating=!0,o.isFunction(e)&&i.registerEvent("filterFinish",e,!0),o.isFunction(t)){if(void 0===(n=t.call(i,i.blocks)))throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}else i.options.filterDeeplinking&&(e=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,""),location.href=e+"#cbpf="+encodeURIComponent(t),i.singlePage&&i.singlePage.url&&(i.singlePage.url=location.href)),i.defaultFilter=t,n=i.filterConcat(i.defaultFilter);i.triggerEvent("filterStart",n),i.singlePageInline&&i.singlePageInline.isOpen?i.singlePageInline.close("promise",{callback:function(){i.computeFilter(n)}}):i.computeFilter(n)}},showCounter:function(t,e){var n=a.private.checkInstance.call(this,"showCounter");o.isFunction(e)&&n.registerEvent("showCounterFinish",e,!0),(n.elems=t).each(function(){var t=o(this),e=n.blocks.filter(t.data("filter")).length;t.find(".cbp-filter-counter").text(e)}),n.triggerEvent("showCounterFinish",t)},appendItems:function(t,e){a.public.append.call(this,t,e)},append:function(t,e){var n=a.private.checkInstance.call(this,"append"),i=o(t).filter(".cbp-item");n.isAnimating||i.length<1?o.isFunction(e)&&e.call(n,i):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(i,e,"append")}}):n.addItems(i,e,"append"))},prepend:function(t,e){var n=a.private.checkInstance.call(this,"prepend"),i=o(t).filter(".cbp-item");n.isAnimating||i.length<1?o.isFunction(e)&&e.call(n,i):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.addItems(i,e,"prepend")}}):n.addItems(i,e,"prepend"))},remove:function(t,e){var n=a.private.checkInstance.call(this,"remove"),i=o(t).filter(".cbp-item");n.isAnimating||i.length<1?o.isFunction(e)&&e.call(n,i):(n.isAnimating=!0,n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){n.removeItems(i,e)}}):n.removeItems(i,e))},layout:function(t){var e=a.private.checkInstance.call(this,"layout");e.width=e.$obj.outerWidth(),e.isAnimating||e.width<=0||("alignCenter"===e.options.gridAdjustment&&(e.wrapper[0].style.maxWidth=""),e.storeData(e.blocks),e.layoutAndAdjustment()),o.isFunction(t)&&t.call(e)}}}(jQuery,(window,document)),function(h,t,b){"use strict";var v=h.fn.cubeportfolio.constructor;h.extend(v.prototype,{updateSliderPagination:function(){var t,e,n=this;if(n.options.showPagination){for(t=Math.ceil(n.blocksOn.length/n.cols),n.navPagination.empty(),e=t-1;0<=e;e--)h("<div/>",{class:"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(n.navPagination);n.navPaginationItems=n.navPagination.children()}n.enableDisableNavSlider()},destroySlider:function(){var t=this;"slider"===t.options.layoutMode&&(t.$obj.removeClass("cbp-mode-slider"),t.$ul.removeAttr("style"),t.$ul.off(".cbp"),h(b).off(".cbp"),t.options.auto&&t.stopSliderAuto())},nextSlider:function(t){var e=this;if(e.isEndSlider()){if(!e.isRewindNav())return;e.sliderActive=0}else e.options.scrollByPage?e.sliderActive=Math.min(e.sliderActive+e.cols,e.blocksOn.length-e.cols):e.sliderActive+=1;e.goToSlider()},prevSlider:function(t){var e=this;if(e.isStartSlider()){if(!e.isRewindNav())return;e.sliderActive=e.blocksOn.length-e.cols}else e.options.scrollByPage?e.sliderActive=Math.max(0,e.sliderActive-e.cols):--e.sliderActive;e.goToSlider()},jumpToSlider:function(t){var e=this,t=Math.min(t.index()*e.cols,e.blocksOn.length-e.cols);t!==e.sliderActive&&(e.sliderActive=t,e.goToSlider())},jumpDragToSlider:function(t){var e,n,i=this,o=0<t,a=i.options.scrollByPage?(e=i.cols*i.columnWidth,i.cols):(e=i.columnWidth,1);t=Math.abs(t),n=Math.floor(t/e)*a,20<t%e&&(n+=a),i.sliderActive=o?Math.min(i.sliderActive+n,i.blocksOn.length-i.cols):Math.max(0,i.sliderActive-n),i.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){return this.sliderActive+this.cols>this.blocksOn.length-1},goToSlider:function(){this.enableDisableNavSlider(),this.updateSliderPosition()},startSliderAuto:function(){var t=this;t.isDrag?t.stopSliderAuto():t.timeout=setTimeout(function(){t.nextSlider(),t.startSliderAuto()},t.options.autoTimeout)},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var t,e,n=this;n.isRewindNav()||(e=n.isStartSlider()?"addClass":"removeClass",n.navPrev[e]("cbp-nav-stop"),e=n.isEndSlider()?"addClass":"removeClass",n.navNext[e]("cbp-nav-stop")),n.options.showPagination&&(t=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.navPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(t).addClass("cbp-nav-pagination-active")),n.customPagination&&(t=n.options.scrollByPage?Math.ceil(n.sliderActive/n.cols):n.isEndSlider()?n.customPaginationItems.length-1:Math.floor(n.sliderActive/n.cols),n.customPaginationItems.removeClass(n.customPaginationClass).eq(t).addClass(n.customPaginationClass))},isRewindNav:function(){return!this.options.showNavigation||!(this.blocksOn.length<=this.cols)&&!!this.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var n=this;n.blocksOn.each(function(t,e){e=h(e).data("cbp");e.leftNew=n.columnWidth*t,e.topNew=0,n.sliderFreeSpaces.push({topStart:e.heightAndGap})}),n.getFreeSpacesForSlider(),n.$ul.width(n.columnWidth*n.blocksOn.length-n.options.gapVertical)},getFreeSpacesForSlider:function(){var t=this;t.freeSpaces=t.sliderFreeSpaces.slice(t.sliderActive,t.sliderActive+t.cols),t.freeSpaces.sort(function(t,e){return t.topStart>e.topStart?1:t.topStart<e.topStart?-1:void 0})},updateSliderPosition:function(){var t=this,e=-t.sliderActive*t.columnWidth;v.private.modernBrowser?t.$ul[0].style[v.private.transform]="translate3d("+e+"px, 0px, 0)":t.$ul[0].style.left=e+"px",t.getFreeSpacesForSlider(),t.resizeMainContainer()},dragSlider:function(){var e,n,i,o,a,r=this,s=h(b),l=!1,p={},c=!1;function d(t){r.$obj.removeClass("cbp-mode-slider-dragStart"),l=!0,0!==n?(i.one("click.cbp",function(t){return!1}),requestAnimationFrame(function(){r.jumpDragToSlider(n),r.$ul.one(v.private.transitionend,f)})):f.call(r),s.off(p.move),s.off(p.end)}function u(t){(8<(n=e-g(t).x)||n<-8)&&t.preventDefault(),r.isDrag=!0;t=o-n;n<0&&n<o?t=(o-n)/5:0<n&&o-n<-a&&(t=(a+o-n)/5-a),v.private.modernBrowser?r.$ul[0].style[v.private.transform]="translate3d("+t+"px, 0px, 0)":r.$ul[0].style.left=t+"px"}function f(){l=!1,r.isDrag=!1,r.options.auto&&(r.mouseIsEntered||r.startSliderAuto())}function g(t){return void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(t=t.originalEvent.touches[0]),{x:t.pageX,y:t.pageY}}r.isDrag=!1,"ontouchstart"in t||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?(p={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},c=!0):p={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},r.$ul.on(p.start,function(t){r.sliderItemsLength()||(c?0:t.preventDefault(),r.options.auto&&r.stopSliderAuto(),l?h(i).one("click.cbp",function(){return!1}):(i=h(t.target),e=g(t).x,n=0,o=-r.sliderActive*r.columnWidth,a=r.columnWidth*(r.blocksOn.length-r.cols),s.on(p.move,u),s.on(p.end,d),r.$obj.addClass("cbp-mode-slider-dragStart")))})},sliderLayoutReset:function(){this.freeSpaces=[],this.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(){for(var a=0,t=["moz","webkit"],e=0;e<t.length&&!window.requestAnimationFrame;e++)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-a)),o=window.setTimeout(function(){t(n+i)},i);return a=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(i){"use strict";var o=i.fn.cubeportfolio.constructor;function e(e){(this.parent=e).filterLayout=this.filterLayout,e.registerEvent("computeBlocksFinish",function(t){e.blocksOn2On=e.blocksOnInitial.filter(t),e.blocksOn2Off=e.blocksOnInitial.not(t)})}e.prototype.filterLayout=function(){var t=this;function e(){t.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(t,e){var n=i(e).data("cbp");n.left=n.leftNew,n.top=n.topNew,e.style.left=n.left+"px",e.style.top=n.top+"px",e.style[o.private.transform]=""}),t.blocksOff.addClass("cbp-item-off"),t.$obj.removeClass("cbp-animation-"+t.options.animationType),t.filterFinish()}t.$obj.addClass("cbp-animation-"+t.options.animationType),t.blocksOn2On.addClass("cbp-item-on2on").each(function(t,e){var n=i(e).data("cbp");e.style[o.private.transform]="translate3d("+(n.leftNew-n.left)+"px, "+(n.topNew-n.top)+"px, 0)"}),t.blocksOn2Off.addClass("cbp-item-on2off"),t.blocksOff2On=t.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(t,e){var n=i(e).data("cbp");e.style.left=n.leftNew+"px",e.style.top=n.topNew+"px"}),t.blocksOn2Off.length?t.blocksOn2Off.last().data("cbp").wrapper.one(o.private.animationend,e):t.blocksOff2On.length?t.blocksOff2On.last().data("cbp").wrapper.one(o.private.animationend,e):t.blocksOn2On.length?t.blocksOn2On.last().one(o.private.transitionend,e):e(),t.resizeMainContainer()},e.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},o.plugins.animationClassic=function(t){return!o.private.modernBrowser||i.inArray(t.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new e(t)}}(jQuery,(window,document)),function(o){"use strict";var a=o.fn.cubeportfolio.constructor;function e(t){(this.parent=t).filterLayout=this.filterLayout}e.prototype.filterLayout=function(){var i=this,t=i.$ul[0].cloneNode(!0);function e(){i.wrapper[0].removeChild(t),"sequentially"===i.options.animationType&&i.blocksOn.each(function(t,e){o(e).data("cbp").wrapper[0].style[a.private.animationDelay]=""}),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}t.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(t,i.$ul[0]),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(t,e){var n=o(e).data("cbp");n.left=n.leftNew,n.top=n.topNew,e.style.left=n.left+"px",e.style.top=n.top+"px","sequentially"===i.options.animationType&&(n.wrapper[0].style[a.private.animationDelay]=60*t+"ms")}),i.blocksOn.length?i.blocksOn.last().data("cbp").wrapper.one(a.private.animationend,e):i.blocksOnInitial.length?i.blocksOnInitial.last().data("cbp").wrapper.one(a.private.animationend,e):e(),i.resizeMainContainer()})},e.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},a.plugins.animationClone=function(t){return!a.private.modernBrowser||o.inArray(t.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new e(t)}}(jQuery,(window,document)),function(a){"use strict";var r=a.fn.cubeportfolio.constructor;function e(t){(this.parent=t).filterLayout=this.filterLayout}e.prototype.filterLayout=function(){var n=this,t=n.$ul.clone(!0,!0);t[0].setAttribute("class","cbp-wrapper-helper"),n.wrapper[0].insertBefore(t[0],n.$ul[0]);var i=t.find(".cbp-item").not(".cbp-item-off");function o(){n.wrapper[0].removeChild(t[0]),n.$obj.removeClass("cbp-animation-"+n.options.animationType),n.blocks.each(function(t,e){a(e).data("cbp").wrapper[0].style[r.private.animationDelay]=""}),n.filterFinish()}n.blocksAreSorted&&n.sortBlocks(i,"top","left"),i.children(".cbp-item-wrapper").each(function(t,e){e.style[r.private.animationDelay]=50*t+"ms"}),requestAnimationFrame(function(){n.$obj.addClass("cbp-animation-"+n.options.animationType),n.blocksOff.addClass("cbp-item-off"),n.blocksOn.removeClass("cbp-item-off").each(function(t,e){var n=a(e).data("cbp");n.left=n.leftNew,n.top=n.topNew,e.style.left=n.left+"px",e.style.top=n.top+"px",n.wrapper[0].style[r.private.animationDelay]=50*t+"ms"});var t=n.blocksOn.length,e=i.length;0===t&&0===e?o():(t<e?i.last().children(".cbp-item-wrapper"):n.blocksOn.last().data("cbp").wrapper).one(r.private.animationend,o),n.resizeMainContainer()})},e.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},r.plugins.animationCloneDelay=function(t){return!r.private.modernBrowser||a.inArray(t.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new e(t)}}(jQuery,(window,document)),function(i){"use strict";var o=i.fn.cubeportfolio.constructor;function e(t){(this.parent=t).filterLayout=this.filterLayout}e.prototype.filterLayout=function(){var t=this,e=t.$ul[0].cloneNode(!0);function n(){t.wrapper[0].removeChild(e),t.$obj.removeClass("cbp-animation-"+t.options.animationType),t.filterFinish()}e.setAttribute("class","cbp-wrapper-helper"),t.wrapper[0].insertBefore(e,t.$ul[0]),requestAnimationFrame(function(){t.$obj.addClass("cbp-animation-"+t.options.animationType),t.blocksOff.addClass("cbp-item-off"),t.blocksOn.removeClass("cbp-item-off").each(function(t,e){var n=i(e).data("cbp");n.left=n.leftNew,n.top=n.topNew,e.style.left=n.left+"px",e.style.top=n.top+"px"}),t.blocksOn.length?t.$ul.one(o.private.animationend,n):t.blocksOnInitial.length?i(e).one(o.private.animationend,n):n(),t.resizeMainContainer()})},e.prototype.destroy=function(){var t=this.parent;t.$obj.removeClass("cbp-animation-"+t.options.animationType)},o.plugins.animationWrapper=function(t){return!o.private.modernBrowser||i.inArray(t.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new e(t)}}(jQuery,(window,document)),function(t){"use strict";var e=t.fn.cubeportfolio.constructor;function n(t){var e=this,n=t.options;e.parent=t,e.captionOn=n.caption,t.registerEvent("onMediaQueries",function(t){t&&t.hasOwnProperty("caption")?e.captionOn!==t.caption&&(e.destroy(),e.captionOn=t.caption,e.init()):e.captionOn!==n.caption&&(e.destroy(),e.captionOn=n.caption,e.init())}),e.init()}n.prototype.init=function(){var t=this;""!=t.captionOn&&("expand"===t.captionOn||e.private.modernBrowser||(t.parent.options.caption=t.captionOn="minimal"),t.parent.$obj.addClass("cbp-caption-active cbp-caption-"+t.captionOn))},n.prototype.destroy=function(){this.parent.$obj.removeClass("cbp-caption-active cbp-caption-"+this.captionOn)},e.plugins.caption=function(t){return new n(t)}}(jQuery,(window,document)),function(r){"use strict";var t=r.fn.cubeportfolio.constructor;function e(a){(this.parent=a).registerEvent("initFinish",function(){a.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(t){var e,n,i,o;t.preventDefault(),a.isAnimating||(a.isAnimating=!0,i=r(this),e=i.next(),n=i.parent(),o={position:"relative",height:e.outerHeight(!0)},t={position:"relative",height:0},a.$obj.addClass("cbp-caption-expand-active"),n.hasClass("cbp-caption-expand-open")&&(i=t,t=o,o=i,n.removeClass("cbp-caption-expand-open")),e.css(o),a.$obj.one("pluginResize.cbp",function(){a.isAnimating=!1,a.$obj.removeClass("cbp-caption-expand-active"),0===o.height&&(n.removeClass("cbp-caption-expand-open"),e.attr("style",""))}),a.layoutAndAdjustment(!0),e.css(t),requestAnimationFrame(function(){n.addClass("cbp-caption-expand-open"),e.css(o),a.triggerEvent("gridAdjust"),a.triggerEvent("resizeGrid")}))})},!0)}e.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},t.plugins.captionExpand=function(t){return"expand"!==t.options.caption?null:new e(t)}}(jQuery,(window,document)),function(e){"use strict";var i=e.fn.cubeportfolio.constructor;function n(n){n.registerEvent("initEndWrite",function(){var t;n.width<=0||(t=e.Deferred(),n.pushQueue("delayFrame",t),n.blocksOn.each(function(t,e){e.style[i.private.animationDelay]=t*n.options.displayTypeSpeed+"ms"}),n.$obj.addClass("cbp-displayType-bottomToTop"),n.blocksOn.last().one(i.private.animationend,function(){n.$obj.removeClass("cbp-displayType-bottomToTop"),n.blocksOn.each(function(t,e){e.style[i.private.animationDelay]=""}),t.resolve()}))},!0)}i.plugins.displayBottomToTop=function(t){return i.private.modernBrowser&&"bottomToTop"===t.options.displayType&&0!==t.blocksOn.length?new n(t):null}}(jQuery,(window,document)),function(n){"use strict";var i=n.fn.cubeportfolio.constructor;function e(e){e.registerEvent("initEndWrite",function(){var t;e.width<=0||(t=n.Deferred(),e.pushQueue("delayFrame",t),e.obj.style[i.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeIn"),e.$obj.one(i.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeIn"),e.obj.style[i.private.animationDuration]="",t.resolve()}))},!0)}i.plugins.displayFadeIn=function(t){return!i.private.modernBrowser||"lazyLoading"!==t.options.displayType&&"fadeIn"!==t.options.displayType||0===t.blocksOn.length?null:new e(t)}}(jQuery,(window,document)),function(n){"use strict";var i=n.fn.cubeportfolio.constructor;function e(e){e.registerEvent("initEndWrite",function(){var t;e.width<=0||(t=n.Deferred(),e.pushQueue("delayFrame",t),e.obj.style[i.private.animationDuration]=e.options.displayTypeSpeed+"ms",e.$obj.addClass("cbp-displayType-fadeInToTop"),e.$obj.one(i.private.animationend,function(){e.$obj.removeClass("cbp-displayType-fadeInToTop"),e.obj.style[i.private.animationDuration]="",t.resolve()}))},!0)}i.plugins.displayFadeInToTop=function(t){return i.private.modernBrowser&&"fadeInToTop"===t.options.displayType&&0!==t.blocksOn.length?new e(t):null}}(jQuery,(window,document)),function(e){"use strict";var i=e.fn.cubeportfolio.constructor;function n(n){n.registerEvent("initEndWrite",function(){var t;n.width<=0||(t=e.Deferred(),n.pushQueue("delayFrame",t),n.blocksOn.each(function(t,e){e.style[i.private.animationDelay]=t*n.options.displayTypeSpeed+"ms"}),n.$obj.addClass("cbp-displayType-sequentially"),n.blocksOn.last().one(i.private.animationend,function(){n.$obj.removeClass("cbp-displayType-sequentially"),n.blocksOn.each(function(t,e){e.style[i.private.animationDelay]=""}),t.resolve()}))},!0)}i.plugins.displaySequentially=function(t){return i.private.modernBrowser&&"sequentially"===t.options.displayType&&0!==t.blocksOn.length?new n(t):null}}(jQuery,(window,document)),function(c){"use strict";var t=c.fn.cubeportfolio.constructor;function e(t){var e=this;e.parent=t,e.filters=c(t.options.filters),e.filterData=[],t.registerEvent("afterPlugins",function(t){e.filterFromUrl(),e.registerFilter()}),t.registerEvent("resetFiltersVisual",function(){var i=t.options.defaultFilter.split("|");e.filters.each(function(t,e){var n=c(e).find(".cbp-filter-item");n.removeClass("cbp-filter-item-active"),c.each(i,function(t,e){e=n.filter('[data-filter="'+e+'"]');if(e.length)return e.addClass("cbp-filter-item-active"),i.splice(t,1),!1})}),t.defaultFilter=t.options.defaultFilter})}e.prototype.registerFilter=function(){var s=this,l=s.parent,p=l.defaultFilter.split("|");s.wrap=s.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){c(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){c(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),s.filters.each(function(t,e){var n=c(e),i="*",o=n.find(".cbp-filter-item"),a={};n.hasClass("cbp-l-filters-dropdown")&&(a.wrap=n.find(".cbp-l-filters-dropdownWrap"),a.header=n.find(".cbp-l-filters-dropdownHeader"),a.headerText=a.header.text()),l.$obj.cubeportfolio("showCounter",o),c.each(p,function(t,e){if(o.filter('[data-filter="'+e+'"]').length)return i=e,p.splice(t,1),!1}),c.data(e,"filterName",i),s.filterData.push(e),s.filtersCallback(a,o.filter('[data-filter="'+i+'"]'),o);var r=e.getAttribute("data-filter-parent");r&&(n.removeClass("cbp-l-subfilters--active"),r===s.parent.defaultFilter&&n.addClass("cbp-l-subfilters--active")),o.on("click.cbp",function(){var t=c(this);t.hasClass("cbp-filter-item-active")||l.isAnimating||(s.filtersCallback(a,t,o),c.data(e,"filterName",t.data("filter")),(t=c.map(s.filterData,function(t,e){var n=c(t),i=t.getAttribute("data-filter-parent");i&&(i===c.data(s.filterData[0],"filterName")?n.addClass("cbp-l-subfilters--active"):(n.removeClass("cbp-l-subfilters--active"),c.data(t,"filterName","*"),n.find(".cbp-filter-item").removeClass("cbp-filter-item-active")));t=c.data(t,"filterName");return""!==t&&"*"!==t?t:null})).length<1&&(t=["*"]),t=t.join("|"),l.defaultFilter!==t&&l.$obj.cubeportfolio("filter",t))})})},e.prototype.filtersCallback=function(t,e,n){c.isEmptyObject(t)||(t.wrap.trigger("mouseleave.cbp"),t.headerText?t.headerText="":t.header.html(e.html())),n.removeClass("cbp-filter-item-active"),e.addClass("cbp-filter-item-active")},e.prototype.filterFromUrl=function(){var t=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==t&&(this.parent.defaultFilter=decodeURIComponent(t[1]))},e.prototype.destroy=function(){this.filters.find(".cbp-filter-item").off(".cbp"),this.wrap.off(".cbp")},t.plugins.filters=function(t){return""===t.options.filters?null:new e(t)}}(jQuery,(window,document)),function(o){"use strict";function e(n){var e=n.options.gapVertical,i=n.options.gapHorizontal;n.registerEvent("onMediaQueries",function(t){n.options.gapVertical=t&&t.hasOwnProperty("gapVertical")?t.gapVertical:e,n.options.gapHorizontal=t&&t.hasOwnProperty("gapHorizontal")?t.gapHorizontal:i,n.blocks.each(function(t,e){e=o(e).data("cbp");e.widthAndGap=e.width+n.options.gapVertical,e.heightAndGap=e.height+n.options.gapHorizontal})})}o.fn.cubeportfolio.constructor.plugins.changeGapOnMediaQueries=function(t){return new e(t)}}(jQuery,(window,document)),function(a){"use strict";var n={},t=a.fn.cubeportfolio.constructor;function e(t){var e=this;e.parent=t,e.options=a.extend({},n,e.parent.options.plugins.inlineSlider),e.runInit(),t.registerEvent("addItemsToDOM",function(){e.runInit()})}function r(t){var e=this;t.hasClass("cbp-slider-inline-ready")||(t.addClass("cbp-slider-inline-ready"),e.items=t.find(".cbp-slider-wrapper").children(".cbp-slider-item"),e.active=e.items.filter(".cbp-slider-item--active").index(),e.total=e.items.length-1,e.updateLeft(),t.find(".cbp-slider-next").on("click.cbp",function(t){t.preventDefault(),e.active<e.total?(e.active++,e.updateLeft()):e.active===e.total&&(e.active=0,e.updateLeft())}),t.find(".cbp-slider-prev").on("click.cbp",function(t){t.preventDefault(),0<e.active?(e.active--,e.updateLeft()):0===e.active&&(e.active=e.total,e.updateLeft())}))}r.prototype.updateLeft=function(){var n=this;n.items.removeClass("cbp-slider-item--active"),n.items.eq(n.active).addClass("cbp-slider-item--active"),n.items.each(function(t,e){e.style.left=t-n.active+"00%"})},e.prototype.runInit=function(){var o=this;o.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(t,e){var n=a(e),i=n.find(".cbp-slider-item--active").find("img")[0];i.hasAttribute("data-cbp-src")?o.parent.$obj.on("lazyLoad.cbp",function(t,e){e.src===i.src&&new r(n)}):new r(n)})},e.prototype.destroy=function(){this.parent.$obj.find(".cbp-slider-next").off("click.cbp"),this.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),this.parent.$obj.off("lazyLoad.cbp"),this.parent.$obj.find(".cbp-slider-inline").each(function(t,e){e=a(e);e.removeClass("cbp-slider-inline-ready");e=e.find(".cbp-slider-item");e.removeClass("cbp-slider-item--active"),e.removeAttr("style"),e.eq(0).addClass("cbp-slider-item--active")})},t.plugins.inlineSlider=function(t){return new e(t)}}(jQuery,(window,document)),function(a,t){"use strict";var n={loadingClass:"cbp-lazyload",threshold:400},o=a.fn.cubeportfolio.constructor,e=a(t);function i(t){var e=this;e.parent=t,e.options=a.extend({},n,e.parent.options.plugins.lazyLoad),t.registerEvent("initFinish",function(){e.loadImages(),t.registerEvent("resizeMainContainer",function(){e.loadImages()}),t.registerEvent("filterFinish",function(){e.loadImages()}),o.private.lazyLoadScroll.initEvent({instance:e,fn:e.loadImages})},!0)}o.private.lazyLoadScroll=new o.private.publicEvents("scroll.cbplazyLoad",50),i.prototype.loadImages=function(){var o=this,t=o.parent.$obj.find("img").filter("[data-cbp-src]");0!==t.length&&(o.screenHeight=e.height(),t.each(function(t,e){var n,i=a(e.parentNode);o.isElementInScreen(e)?(n=e.getAttribute("data-cbp-src"),null===o.parent.checkSrc(a("<img>").attr("src",n))?(o.removeLazyLoad(e,n),i.removeClass(o.options.loadingClass)):(i.addClass(o.options.loadingClass),a("<img>").on("load.cbp error.cbp",function(){o.removeLazyLoad(e,n,i)}).attr("src",n))):i.addClass(o.options.loadingClass)}))},i.prototype.removeLazyLoad=function(t,e,n){var i=this;t.src=e,t.removeAttribute("data-cbp-src"),i.parent.removeAttrImage(t),i.parent.$obj.trigger("lazyLoad.cbp",t),n&&(o.private.modernBrowser?a(t).one(o.private.transitionend,function(){n.removeClass(i.options.loadingClass)}):n.removeClass(i.options.loadingClass))},i.prototype.isElementInScreen=function(t){var e=t.getBoundingClientRect(),t=e.bottom+this.options.threshold,e=this.screenHeight+t-(e.top-this.options.threshold);return 0<=t&&t<=e},i.prototype.destroy=function(){o.private.lazyLoadScroll.destroyEvent(this)},o.plugins.lazyLoad=function(t){return new i(t)}}(jQuery,window,document),function(r,a){"use strict";var e={element:"",action:"click",loadItems:3},s=r.fn.cubeportfolio.constructor;function n(t){var n=this;n.parent=t,n.options=r.extend({},e,n.parent.options.plugins.loadMore),n.loadMore=r(n.options.element).find(".cbp-l-loadMore-link"),0!==n.loadMore.length&&(n.loadItems=n.loadMore.find(".cbp-l-loadMore-loadItems"),"0"===n.loadItems.text()&&n.loadMore.addClass("cbp-l-loadMore-stop"),t.registerEvent("filterStart",function(e){n.populateItems().then(function(){var t=n.items.filter(n.parent.filterConcat(e)).length;0<t?(n.loadMore.removeClass("cbp-l-loadMore-stop"),n.loadItems.html(t)):n.loadMore.addClass("cbp-l-loadMore-stop")})}),n[n.options.action]())}n.prototype.populateItems=function(){var n=this;return n.items?r.Deferred().resolve():(n.items=r(),r.ajax({url:n.loadMore.attr("href"),type:"GET",dataType:"HTML"}).done(function(t){t=r.map(t.split(/\r?\n/),function(t,e){return r.trim(t)}).join("");0!==t.length&&r.each(r.parseHTML(t),function(t,e){r(e).hasClass("cbp-item")?n.items=n.items.add(e):r.each(e.children,function(t,e){r(e).hasClass("cbp-item")&&(n.items=n.items.add(e))})})}).fail(function(){n.items=null,n.loadMore.removeClass("cbp-l-loadMore-loading")}))},n.prototype.populateInsertItems=function(t){var n=this,i=[],o=n.parent.defaultFilter,a=0;n.items.each(function(t,e){return a!==n.options.loadItems&&void(o&&"*"!==o&&!r(e).filter(n.parent.filterConcat(o)).length||(i.push(e),n.items[t]=null,a++))}),n.items=n.items.map(function(t,e){return e}),0!==i.length?n.parent.$obj.cubeportfolio("append",i,t):n.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop")},n.prototype.click=function(){var e=this;function n(){e.loadMore.removeClass("cbp-l-loadMore-loading");var t=e.parent.defaultFilter,t=(t&&"*"!==t?e.items.filter(e.parent.filterConcat(t)):e.items).length;0===t?e.loadMore.addClass("cbp-l-loadMore-stop"):e.loadItems.html(t)}e.loadMore.on("click.cbp",function(t){t.preventDefault(),e.parent.isAnimating||e.loadMore.hasClass("cbp-l-loadMore-stop")||(e.loadMore.addClass("cbp-l-loadMore-loading"),e.populateItems().then(function(){e.populateInsertItems(n)}))})},n.prototype.auto=function(){var e=this,n=r(a),i=!1;function t(){var t;i||e.loadMore.hasClass("cbp-l-loadMore-stop")||(t=e.loadMore.offset().top-200,n.scrollTop()+n.height()<t||(i=!0,e.populateItems().then(function(){e.populateInsertItems(o)}).fail(function(){i=!1})))}function o(){var t=e.parent.defaultFilter,t=(t&&"*"!==t?e.items.filter(e.parent.filterConcat(t)):e.items).length;0===t?e.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop"):(e.loadItems.html(t),n.trigger("scroll.loadMore")),i=!1,0===e.items.length&&(s.private.loadMoreScroll.destroyEvent(e),e.parent.$obj.off("filterComplete.cbp"))}s.private.loadMoreScroll=new s.private.publicEvents("scroll.loadMore",100),e.parent.$obj.one("initComplete.cbp",function(){e.loadMore.addClass("cbp-l-loadMore-loading").on("click.cbp",function(t){t.preventDefault()}),s.private.loadMoreScroll.initEvent({instance:e,fn:function(){e.parent.isAnimating||t()}}),e.parent.$obj.on("filterComplete.cbp",function(){t()}),t()})},n.prototype.destroy=function(){this.loadMore.off(".cbp"),s.private.loadMoreScroll&&s.private.loadMoreScroll.destroyEvent(this)},s.plugins.loadMore=function(t){var e=t.options.plugins;return t.options.loadMore&&(e.loadMore||(e.loadMore={}),e.loadMore.element=t.options.loadMore),t.options.loadMoreAction&&(e.loadMore||(e.loadMore={}),e.loadMore.action=t.options.loadMoreAction),e.loadMore&&void 0!==e.loadMore.selector&&(e.loadMore.element=e.loadMore.selector,delete e.loadMore.selector),e.loadMore&&e.loadMore.element?new n(t):null}}(jQuery,window,document),function(c,d,u){"use strict";var l=c.fn.cubeportfolio.constructor,p={delay:0},e={init:function(t,e){var i,n,o,a,r,s=this;if(s.cubeportfolio=t,s.type=e,s.isOpen=!1,s.options=s.cubeportfolio.options,"lightbox"===e&&(s.cubeportfolio.registerEvent("resizeWindow",function(){s.resizeImage()}),s.localOptions=c.extend({},p,s.cubeportfolio.options.plugins.lightbox)),"singlePageInline"===e)return s.height=0,s.createMarkupSinglePageInline(),s.cubeportfolio.registerEvent("resizeGrid",function(){s.isOpen&&s.close()}),s.options.singlePageInlineDeeplinking&&(s.url=location.href,"#"===s.url.slice(-1)&&(s.url=s.url.slice(0,-1)),o=(n=s.url.split("#cbpi=")).shift(),c.each(n,function(t,n){if(s.cubeportfolio.blocksOn.each(function(t,e){e=c(e).find(s.options.singlePageInlineDelegate+'[href="'+n+'"]');if(e.length)return i=e,!1}),i)return!1}),i&&s.cubeportfolio.registerEvent("initFinish",function(){s.openSinglePageInline(s.cubeportfolio.blocksOn,i[0])},!0)),void(s.localOptions=c.extend({},p,s.cubeportfolio.options.plugins.singlePageInline));s.createMarkup(),"singlePage"===e&&(s.cubeportfolio.registerEvent("resizeWindow",function(){var t;!s.options.singlePageStickyNavigation||0<(t=s.contentWrap[0].clientWidth)&&(s.navigationWrap.width(t),s.navigation.width(t))}),s.options.singlePageDeeplinking&&(s.url=location.href,"#"===s.url.slice(-1)&&(s.url=s.url.slice(0,-1)),o=(n=s.url.split("#cbp=")).shift(),c.each(n,function(t,n){if(s.cubeportfolio.blocksOn.each(function(t,e){e=c(e).find(s.options.singlePageDelegate+'[href="'+n+'"]');if(e.length)return i=e,!1}),i)return!1}),i?(s.url=o,r=(o=i).attr("data-cbp-singlePage"),a=[],r?a=o.closest(c(".cbp-item")).find('[data-cbp-singlePage="'+r+'"]'):s.cubeportfolio.blocksOn.each(function(t,e){e=c(e);e.not(".cbp-item-off")&&e.find(s.options.singlePageDelegate).each(function(t,e){c(e).attr("data-cbp-singlePage")||a.push(e)})}),s.openSinglePage(a,i[0])):n.length&&((r=u.createElement("a")).setAttribute("href",n[0]),s.openSinglePage([r],r))),s.localOptions=c.extend({},p,s.cubeportfolio.options.plugins.singlePage))},createMarkup:function(){var a=this,t="";if("singlePage"===a.type&&"left"!==a.options.singlePageAnimation&&(t=" cbp-popup-singlePage-"+a.options.singlePageAnimation),a.wrap=c("<div/>",{class:"cbp-popup-wrap cbp-popup-"+a.type+t,"data-action":"lightbox"===a.type?"close":""}).on("click.cbp",function(t){var e;a.stopEvents||(e=c(t.target).attr("data-action"),a[e]&&(a[e](),t.preventDefault()))}),"singlePage"===a.type?(a.contentWrap=c("<div/>",{class:"cbp-popup-content-wrap"}).appendTo(a.wrap),"ios"===l.private.browser&&a.contentWrap.css("overflow","auto"),a.content=c("<div/>",{class:"cbp-popup-content"}).appendTo(a.contentWrap)):a.content=c("<div/>",{class:"cbp-popup-content"}).appendTo(a.wrap),c("<div/>",{class:"cbp-popup-loadingBox"}).appendTo(a.wrap),"ie8"===l.private.browser&&(a.bg=c("<div/>",{class:"cbp-popup-ie8bg","data-action":"lightbox"===a.type?"close":""}).appendTo(a.wrap)),"singlePage"===a.type&&!1===a.options.singlePageStickyNavigation?a.navigationWrap=c("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(a.contentWrap):a.navigationWrap=c("<div/>",{class:"cbp-popup-navigation-wrap"}).appendTo(a.wrap),a.navigation=c("<div/>",{class:"cbp-popup-navigation"}).appendTo(a.navigationWrap),a.closeButton=c("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(a.navigation),a.nextButton=c("<div/>",{class:"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(a.navigation),a.prevButton=c("<div/>",{class:"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(a.navigation),"singlePage"===a.type){a.options.singlePageCounter&&(a.counter=c(a.options.singlePageCounter).appendTo(a.navigation),a.counter.text("")),a.content.on("click.cbp",a.options.singlePageDelegate,function(t){t.preventDefault();for(var e,n=a.dataArray.length,i=this.getAttribute("href"),o=0;o<n;o++)if(a.dataArray[o].url===i){e=o;break}void 0===e?((t=u.createElement("a")).setAttribute("href",i),a.dataArray=[{url:i,element:t}],a.counterTotal=1,a.nextButton.hide(),a.prevButton.hide(),a.singlePageJumpTo(0)):a.singlePageJumpTo(e-a.current)});var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e={passive:!0}}});d.addEventListener("testPassive",null,n),d.removeEventListener("testPassive",null,n)}catch(t){}t="onwheel"in u.createElement("div")?"wheel":"mousewheel";a.contentWrap[0].addEventListener(t,function(t){t.stopImmediatePropagation()},e)}c(u).on("keydown.cbp",function(t){a.isOpen&&(a.stopEvents||(f&&t.stopImmediatePropagation(),37===t.keyCode?a.prev():39===t.keyCode?a.next():27===t.keyCode&&a.close()))})},createMarkupSinglePageInline:function(){var n=this;n.wrap=c("<div/>",{class:"cbp-popup-singlePageInline"}).on("click.cbp",function(t){var e;n.stopEvents||(e=c(t.target).attr("data-action"))&&n[e]&&(n[e](),t.preventDefault())}),n.content=c("<div/>",{class:"cbp-popup-content"}).appendTo(n.wrap),n.navigation=c("<div/>",{class:"cbp-popup-navigation"}).appendTo(n.wrap),n.closeButton=c("<div/>",{class:"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(n.navigation)},destroy:function(){var t=this,e=c("body");c(u).off("keydown.cbp"),e.off("click.cbp",t.options.lightboxDelegate),e.off("click.cbp",t.options.singlePageDelegate),t.content.off("click.cbp",t.options.singlePageDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.singlePageInlineDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.lightboxDelegate),t.cubeportfolio.$obj.off("click.cbp",t.options.singlePageDelegate),t.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),t.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),t.wrap.remove()},openLightbox:function(t,e){var r,s=this,l=0,p=[];if(!s.isOpen){if(f=!0,s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],(s.current=null)===(r=e.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");c.each(t,function(t,e){var n,i=e.getAttribute("href"),o=i,a="isImage";if(-1===c.inArray(i,p)){if(r===i)s.current=l;else if(!s.options.lightboxGallery)return;/youtu\.?be/i.test(i)?(1===(n=i.lastIndexOf("v=")+2)&&(n=i.lastIndexOf("/")+1),n=i.substring(n),/autoplay=/i.test(n)||(n+="&autoplay=1"),o="//www.youtube.com/embed/"+(n=n.replace(/\?|&/,"?")),a="isYoutube"):/vimeo\.com/i.test(i)?(n=i.substring(i.lastIndexOf("/")+1),/autoplay=/i.test(n)||(n+="&autoplay=1"),o="//player.vimeo.com/video/"+(n=n.replace(/\?|&/,"?")),a="isVimeo"):/www\.ted\.com/i.test(i)?(o="http://embed.ted.com/talks/"+i.substring(i.lastIndexOf("/")+1)+".html",a="isTed"):/soundcloud\.com/i.test(i)?(o=i,a="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(i)?(o=-1!==i.indexOf("|")?i.split("|"):i.split("%7C"),a="isSelfHostedVideo"):/\.mp3$/i.test(i)&&(o=i,a="isSelfHostedAudio"),s.dataArray.push({src:o,title:e.getAttribute(s.options.lightboxTitleSrc),type:a}),l++}p.push(i)}),s.counterTotal=s.dataArray.length,1===s.counterTotal?(s.nextButton.hide(),s.prevButton.hide(),s.dataActionImg=""):(s.nextButton.show(),s.prevButton.show(),s.dataActionImg='data-action="next"'),s.wrap.appendTo(u.body),s.scrollTop=c(d).scrollTop(),s.originalStyle=c("html").attr("style"),c("html").css({overflow:"hidden",marginRight:d.innerWidth-c(u).width()}),s.wrap.addClass("cbp-popup-transitionend"),s.wrap.show(),t=s.dataArray[s.current],s[t.type](t)}},openSinglePage:function(t,e){var i,o,a=this,r=0,s=[];if(!a.isOpen){if(a.cubeportfolio.singlePageInline&&a.cubeportfolio.singlePageInline.isOpen&&a.cubeportfolio.singlePageInline.close(),a.isOpen=!0,a.stopEvents=!1,a.dataArray=[],(a.current=null)===(i=e.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");c.each(t,function(t,e){var n=e.getAttribute("href");-1===c.inArray(n,s)&&(i===n&&(a.current=r),a.dataArray.push({url:n,element:e}),r++),s.push(n)}),a.counterTotal=a.dataArray.length,1===a.counterTotal?(a.nextButton.hide(),a.prevButton.hide()):(a.nextButton.show(),a.prevButton.show()),a.wrap.appendTo(u.body),a.scrollTop=c(d).scrollTop(),a.contentWrap.scrollTop(0),a.wrap.show(),a.finishOpen=2,a.navigationMobile=c(),a.wrap.one(l.private.transitionend,function(){c("html").css({overflow:"hidden",marginRight:d.innerWidth-c(u).width()}),a.wrap.addClass("cbp-popup-transitionend"),a.options.singlePageStickyNavigation&&(a.wrap.addClass("cbp-popup-singlePage-sticky"),a.navigationWrap.width(a.contentWrap[0].clientWidth)),a.finishOpen--,a.finishOpen<=0&&a.updateSinglePageIsOpen.call(a)}),"ie8"!==l.private.browser&&"ie9"!==l.private.browser||(c("html").css({overflow:"hidden",marginRight:d.innerWidth-c(u).width()}),a.wrap.addClass("cbp-popup-transitionend"),a.options.singlePageStickyNavigation&&(a.navigationWrap.width(a.contentWrap[0].clientWidth),setTimeout(function(){a.wrap.addClass("cbp-popup-singlePage-sticky")},1e3)),a.finishOpen--),a.wrap.addClass("cbp-popup-loading"),a.wrap.offset(),a.wrap.addClass("cbp-popup-singlePage-open"),a.options.singlePageDeeplinking&&(a.url=a.url.split("#cbp=")[0],location.href=a.url+"#cbp="+a.dataArray[a.current].url),c.isFunction(a.options.singlePageCallback)&&a.options.singlePageCallback.call(a,a.dataArray[a.current].url,a.dataArray[a.current].element),"ios"===l.private.browser&&(o=a.contentWrap[0]).addEventListener("touchstart",function(){var t=o.scrollTop,e=o.scrollHeight,n=t+o.offsetHeight;0===t?o.scrollTop=1:n===e&&(o.scrollTop=t-1)})}},openSinglePageInline:function(t,e,n){var i,o,a,r,s=this;if(n=n||!1,s.fromOpen=n,s.storeBlocks=t,s.storeCurrentBlock=e,s.isOpen)return i=s.cubeportfolio.blocksOn.index(c(e).closest(".cbp-item")),void(s.dataArray[s.current].url!==e.getAttribute("href")||s.current!==i?s.cubeportfolio.singlePageInline.close("open",{blocks:t,currentBlock:e,fromOpen:!0}):s.close());if(s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],(s.current=null)===(i=e.getAttribute("href")))throw new Error("HEI! Your clicked element doesn't have a href attribute.");o=c(e).closest(".cbp-item")[0],t.each(function(t,e){o===e&&(s.current=t)}),s.dataArray[s.current]={url:i,element:e},c(s.dataArray[s.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),s.counterTotal=t.length,s.wrap.insertBefore(s.cubeportfolio.wrapper),s.topDifference=0,"top"===s.options.singlePageInlinePosition?(s.blocksToMove=t,s.top=0):"bottom"===s.options.singlePageInlinePosition?(s.blocksToMove=c(),s.top=s.cubeportfolio.height):"above"===s.options.singlePageInlinePosition?(a=c(t[s.current]).data("cbp").top,s.top=a,t.each(function(t,e){var n=c(e).data("cbp"),e=n.top,n=e+n.heightAndGap;a<=e||n>s.top&&(s.top=n,s.topDifference=s.top-a)}),s.blocksToMove=c(),t.each(function(t,e){(t===s.current||(t=c(e).data("cbp")).top+t.heightAndGap>s.top)&&(s.blocksToMove=s.blocksToMove.add(e))}),s.top=Math.max(s.top-s.options.gapHorizontal,0)):(e=c(t[s.current]).data("cbp"),r=e.top+e.heightAndGap,s.top=r,s.blocksToMove=c(),t.each(function(t,e){var n=c(e).data("cbp"),i=n.top,o=i+n.height;o<=r||(i>=r-n.height/2?s.blocksToMove=s.blocksToMove.add(e):r<o&&i<r&&(o>s.top&&(s.top=o),o-r>s.topDifference&&(s.topDifference=o-r)))})),s.wrap[0].style.height=s.wrap.outerHeight(!0)+"px",s.deferredInline=c.Deferred(),s.options.singlePageInlineInFocus?(s.scrollTop=c(d).scrollTop(),t=s.cubeportfolio.$obj.offset().top+s.top-100,s.scrollTop!==t?c("html,body").animate({scrollTop:t},350).promise().then(function(){s.resizeSinglePageInline(),s.deferredInline.resolve()}):(s.resizeSinglePageInline(),s.deferredInline.resolve())):(s.resizeSinglePageInline(),s.deferredInline.resolve()),s.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),s.wrap.css({top:s.top}),s.options.singlePageInlineDeeplinking&&(s.url=s.url.split("#cbpi=")[0],location.href=s.url+"#cbpi="+s.dataArray[s.current].url),c.isFunction(s.options.singlePageInlineCallback)&&s.options.singlePageInlineCallback.call(s,s.dataArray[s.current].url,s.dataArray[s.current].element)},resizeSinglePageInline:function(){var n=this;n.height=0===n.top||n.top===n.cubeportfolio.height?n.wrap.outerHeight(!0):n.wrap.outerHeight(!0)-n.options.gapHorizontal,n.height+=n.topDifference,n.storeBlocks.each(function(t,e){l.private.modernBrowser?e.style[l.private.transform]="":e.style.marginTop=""}),n.blocksToMove.each(function(t,e){l.private.modernBrowser?e.style[l.private.transform]="translate3d(0px, "+n.height+"px, 0)":e.style.marginTop=n.height+"px"}),n.cubeportfolio.obj.style.height=n.cubeportfolio.height+n.height+"px"},revertResizeSinglePageInline:function(){this.deferredInline=c.Deferred(),this.storeBlocks.each(function(t,e){l.private.modernBrowser?e.style[l.private.transform]="":e.style.marginTop=""}),this.cubeportfolio.obj.style.height=this.cubeportfolio.height+"px"},appendScriptsToWrap:function(i){var o=this,a=0,r=function(t){var e=u.createElement("script"),n=t.src;e.type="text/javascript",e.readyState?e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,i[++a]&&r(i[a]))}:e.onload=function(){i[++a]&&r(i[a])},n?e.src=n:e.text=t.text,o.content[0].appendChild(e)};r(i[0])},updateSinglePage:function(t,e,n){var i=this;i.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===n&&i.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),i.counter&&(n=c(i.getCounterMarkup(i.options.singlePageCounter,i.current+1,i.counterTotal)),i.counter.text(n.text())),i.fromAJAX={html:t,scripts:e},i.finishOpen--,i.finishOpen<=0&&i.updateSinglePageIsOpen.call(i)},updateSinglePageIsOpen:function(){var t,e=this;e.wrap.addClass("cbp-popup-ready"),e.wrap.removeClass("cbp-popup-loading"),e.content.html(e.fromAJAX.html),e.fromAJAX.scripts&&e.appendScriptsToWrap(e.fromAJAX.scripts),e.fromAJAX={},e.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(t=e.content.find(".cbp-slider")).length?(t.find(".cbp-slider-item").addClass("cbp-item"),e.slider=t.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):e.slider=null,e.checkForSocialLinks(e.content),e.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(t){this.createFacebookShare(t.find(".cbp-social-fb")),this.createTwitterShare(t.find(".cbp-social-twitter")),this.createGooglePlusShare(t.find(".cbp-social-googleplus")),this.createPinterestShare(t.find(".cbp-social-pinterest"))},createFacebookShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(d.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(d.location.href)+"&text="+encodeURIComponent(u.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(t){t.length&&!t.attr("onclick")&&t.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(d.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(t){var e,n;t.length&&!t.attr("onclick")&&(e="",(n=this.content.find("img")[0])&&(e=n.src),t.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(d.location.href)+"&media="+e+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;"))},updateSinglePageInline:function(t,e){var n=this;n.content.html(t),e&&n.appendScriptsToWrap(e),n.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),0!==n.localOptions.delay?setTimeout(function(){n.singlePageInlineIsOpen.call(n)},n.localOptions.delay):n.singlePageInlineIsOpen.call(n)},singlePageInlineIsOpen:function(){var e=this;function n(){e.wrap.addClass("cbp-popup-singlePageInline-ready"),e.wrap[0].style.height="",e.resizeSinglePageInline(),e.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}e.cubeportfolio.loadImages(e.wrap,function(){var t=e.content.find(".cbp-slider");t.length?(t.find(".cbp-slider-item").addClass("cbp-item"),t.one("initComplete.cbp",function(){e.deferredInline.done(n)}),t.on("pluginResize.cbp",function(){e.deferredInline.done(n)}),e.slider=t.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(e.slider=null,e.deferredInline.done(n)),e.checkForSocialLinks(e.content)})},isImage:function(t){var e=this;new Image;e.tooggleLoading(!0),e.cubeportfolio.loadImages(c('<div><img src="'+t.src+'"></div>'),function(){e.updateImagesMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal)),e.tooggleLoading(!1)})},isVimeo:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isYoutube:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isTed:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isSoundCloud:function(t){var e=this;e.updateVideoMarkup(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isSelfHostedVideo:function(t){var e=this;e.updateSelfHostedVideo(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},isSelfHostedAudio:function(t){var e=this;e.updateSelfHostedAudio(t.src,t.title,e.getCounterMarkup(e.options.lightboxCounter,e.current+1,e.counterTotal))},getCounterMarkup:function(t,e,n){if(!t.length)return"";var i={current:e,total:n};return t.replace(/\{\{current}}|\{\{total}}/gi,function(t){return i[t.slice(2,-2)]})},updateSelfHostedVideo:function(t,e,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");for(var i='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">',o=0;o<t.length;o++)/(\.mp4)/i.test(t[o])?i+='<source src="'+t[o]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(t[o])?i+='<source src="'+t[o]+'" type="video/ogg">':/(\.webm)/i.test(t[o])&&(i+='<source src="'+t[o]+'" type="video/webm">');i+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+n+"</div></div>",this.content.html(i),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateSelfHostedAudio:function(t,e,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");n='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+t+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+n+"</div></div>";this.content.html(n),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateVideoMarkup:function(t,e,n){this.wrap.addClass("cbp-popup-lightbox-isIframe");n='<div class="cbp-popup-lightbox-iframe"><iframe src="'+t+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+n+"</div></div>";this.content.html(n),this.wrap.addClass("cbp-popup-ready"),this.preloadNearbyImages()},updateImagesMarkup:function(t,e,n){var i=this;i.wrap.removeClass("cbp-popup-lightbox-isIframe");n='<div class="cbp-popup-lightbox-figure"><img src="'+t+'" class="cbp-popup-lightbox-img" '+i.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(e?'<div class="cbp-popup-lightbox-title">'+e+"</div>":"")+n+"</div></div>";i.content.html(n),i.wrap.addClass("cbp-popup-ready"),i.resizeImage(),i.preloadNearbyImages()},next:function(){this[this.type+"JumpTo"](1)},prev:function(){this[this.type+"JumpTo"](-1)},lightboxJumpTo:function(t){var e=this;e.current=e.getIndex(e.current+t),e[(e=e.dataArray[e.current]).type](e)},singlePageJumpTo:function(t){var e=this;e.current=e.getIndex(e.current+t),c.isFunction(e.options.singlePageCallback)&&(e.resetWrap(),e.contentWrap.scrollTop(0),e.wrap.addClass("cbp-popup-loading"),e.slider&&l.private.resize.destroyEvent(c.data(e.slider[0],"cubeportfolio")),e.options.singlePageCallback.call(e,e.dataArray[e.current].url,e.dataArray[e.current].element),e.options.singlePageDeeplinking&&(location.href=e.url+"#cbp="+e.dataArray[e.current].url))},resetWrap:function(){var t=this;"singlePage"===t.type&&t.options.singlePageDeeplinking&&(location.href=t.url+"#"),"singlePageInline"===t.type&&t.options.singlePageInlineDeeplinking&&(location.href=t.url+"#")},getIndex:function(t){return(t%=this.counterTotal)<0&&(t=this.counterTotal+t),t},close:function(e,t){var n=this;function i(){n.slider&&l.private.resize.destroyEvent(c.data(n.slider[0],"cubeportfolio")),n.content.html(""),n.wrap.detach(),n.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),n.isOpen=!1,"promise"===e&&c.isFunction(t.callback)&&t.callback.call(n.cubeportfolio)}function o(){var t=c(d).scrollTop();n.resetWrap(),c(d).scrollTop(t),n.options.singlePageInlineInFocus&&"promise"!==e?c("html,body").animate({scrollTop:n.scrollTop},350).promise().then(function(){i()}):i()}"singlePageInline"===n.type?"open"===e?(n.wrap.removeClass("cbp-popup-singlePageInline-ready"),c(n.dataArray[n.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),n.isOpen=!1,n.openSinglePageInline(t.blocks,t.currentBlock,t.fromOpen)):(n.height=0,n.revertResizeSinglePageInline(),n.wrap.removeClass("cbp-popup-singlePageInline-ready"),n.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),n.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),l.private.modernBrowser?n.wrap.one(l.private.transitionend,function(){o()}):o()):"singlePage"===n.type?(n.resetWrap(),n.stopScroll=!0,n.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),c("html").css({overflow:"",marginRight:"",position:""}),c(d).scrollTop(n.scrollTop),"ie8"!==l.private.browser&&"ie9"!==l.private.browser||(n.slider&&l.private.resize.destroyEvent(c.data(n.slider[0],"cubeportfolio")),n.content.html(""),n.wrap.detach(),n.isOpen=!1),n.wrap.one(l.private.transitionend,function(){n.slider&&l.private.resize.destroyEvent(c.data(n.slider[0],"cubeportfolio")),n.content.html(""),n.wrap.detach(),n.isOpen=!1})):(f=!1,n.originalStyle?c("html").attr("style",n.originalStyle):c("html").css({overflow:"",marginRight:""}),c(d).scrollTop(n.scrollTop),n.slider&&l.private.resize.destroyEvent(c.data(n.slider[0],"cubeportfolio")),n.content.html(""),n.wrap.detach(),n.isOpen=!1)},tooggleLoading:function(t){this.stopEvents=t,this.wrap[t?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){var t,e;this.isOpen&&(e=(t=this.content.find("img")).parent(),e=c(d).height()-(e.outerHeight(!0)-e.height())-this.content.find(".cbp-popup-lightbox-bottom").outerHeight(!0),t.css("max-height",e+"px"))},preloadNearbyImages:function(){for(var t=this,e=[t.getIndex(t.current+1),t.getIndex(t.current+2),t.getIndex(t.current+3),t.getIndex(t.current-1),t.getIndex(t.current-2),t.getIndex(t.current-3)],n=e.length-1;0<=n;n--)"isImage"===t.dataArray[e[n]].type&&t.cubeportfolio.checkSrc(t.dataArray[e[n]])}};function n(t){var e=this;!1===(e.parent=t).options.lightboxShowCounter&&(t.options.lightboxCounter=""),!1===t.options.singlePageShowCounter&&(t.options.singlePageCounter=""),t.registerEvent("initStartRead",function(){e.run()},!0)}var f=!1,i=!1,o=!1;n.prototype.run=function(){var a=this,r=a.parent,t=c(u.body);r.lightbox=null,r.options.lightboxDelegate&&!i&&(i=!0,r.lightbox=Object.create(e),r.lightbox.init(r,"lightbox"),t.on("click.cbp",r.options.lightboxDelegate,function(t){t.preventDefault();var e=c(this),n=e.attr("data-cbp-lightbox"),i=a.detectScope(e),t=i.data("cubeportfolio"),o=[];t?t.blocksOn.each(function(t,e){e=c(e);e.not(".cbp-item-off")&&e.find(r.options.lightboxDelegate).each(function(t,e){(!n||c(e).attr("data-cbp-lightbox")===n)&&o.push(e)})}):o=n?i.find(r.options.lightboxDelegate+"[data-cbp-lightbox="+n+"]"):i.find(r.options.lightboxDelegate),r.lightbox.openLightbox(o,e[0])})),r.singlePage=null,r.options.singlePageDelegate&&!o&&(o=!0,r.singlePage=Object.create(e),r.singlePage.init(r,"singlePage"),t.on("click.cbp",r.options.singlePageDelegate,function(t){t.preventDefault();var e=c(this),n=e.attr("data-cbp-singlePage"),i=a.detectScope(e),t=i.data("cubeportfolio"),o=[];t?t.blocksOn.each(function(t,e){e=c(e);e.not(".cbp-item-off")&&e.find(r.options.singlePageDelegate).each(function(t,e){(!n||c(e).attr("data-cbp-singlePage")===n)&&o.push(e)})}):o=n?i.find(r.options.singlePageDelegate+"[data-cbp-singlePage="+n+"]"):i.find(r.options.singlePageDelegate),r.singlePage.openSinglePage(o,e[0])})),r.singlePageInline=null,r.options.singlePageInlineDelegate&&(r.singlePageInline=Object.create(e),r.singlePageInline.init(r,"singlePageInline"),r.$obj.on("click.cbp",r.options.singlePageInlineDelegate,function(t){t.preventDefault();var e=c.data(this,"cbp-locked"),t=c.data(this,"cbp-locked",+new Date);(!e||300<t-e)&&r.singlePageInline.openSinglePageInline(r.blocksOn,this)}))},n.prototype.detectScope=function(t){var e,n=t.closest(".cbp-popup-singlePageInline");return n.length||(n=t.closest(".cbp-popup-singlePage")).length?(e=t.closest(".cbp",n[0])).length?e:n:(e=t.closest(".cbp")).length?e:c(u.body)},n.prototype.destroy=function(){var t=this.parent;c(u.body).off("click.cbp"),o=i=!1,t.lightbox&&t.lightbox.destroy(),t.singlePage&&t.singlePage.destroy(),t.singlePageInline&&t.singlePageInline.destroy()},l.plugins.popUp=function(t){return new n(t)}}(jQuery,window,document),function(r){"use strict";var t=r.fn.cubeportfolio.constructor;function e(t){var n=this;n.parent=t,n.searchInput=r(t.options.search),n.searchInput.each(function(t,e){var n=(n=e.getAttribute("data-search"))||"*";r.data(e,"searchData",{value:e.value,el:n})});var i=null;n.searchInput.on("keyup.cbp paste.cbp",function(t){t.preventDefault();var e=r(this);clearTimeout(i),i=setTimeout(function(){n.runEvent.call(n,e)},350)}),n.searchNothing=n.searchInput.siblings(".cbp-search-nothing").detach(),n.searchNothingHeight=null,n.searchNothingHTML=n.searchNothing.html(),n.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(t){t.preventDefault(),n.runEvent.call(n,r(this).prev().val(""))})}e.prototype.runEvent=function(t){var n=this,i=t.val(),o=t.data("searchData"),a=new RegExp(i,"i");o.value===i||n.parent.isAnimating||(0<(o.value=i).length?t.attr("value",i):t.removeAttr("value"),n.parent.$obj.cubeportfolio("filter",function(t){var e=t.filter(function(t,e){if(-1<r(e).find(o.el).text().search(a))return!0});return 0===e.length&&n.searchNothing.length?(t=n.searchNothingHTML.replace("{{query}}",i),n.searchNothing.html(t),n.searchNothing.appendTo(n.parent.$obj),null===n.searchNothingHeight&&(n.searchNothingHeight=n.searchNothing.outerHeight(!0)),n.parent.registerEvent("resizeMainContainer",function(){n.parent.height=n.parent.height+n.searchNothingHeight,n.parent.obj.style.height=n.parent.height+"px"},!0)):n.searchNothing.detach(),n.parent.triggerEvent("resetFiltersVisual"),e},function(){t.trigger("keyup.cbp")}))},e.prototype.destroy=function(){this.searchInput.off(".cbp"),this.searchInput.next(".cbp-search-icon").off(".cbp"),this.searchInput.each(function(t,e){r.removeData(e)})},t.plugins.search=function(t){return""===t.options.search?null:new e(t)}}(jQuery,(window,document)),function(i){"use strict";var n={pagination:"",paginationClass:"cbp-pagination-active"},t=i.fn.cubeportfolio.constructor;function e(t){var e=this;e.parent=t,e.options=i.extend({},n,e.parent.options.plugins.slider);t=i(e.options.pagination);0<t.length&&(e.parent.customPagination=t,e.parent.customPaginationItems=t.children(),e.parent.customPaginationClass=e.options.paginationClass,e.parent.customPaginationItems.on("click.cbp",function(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),e.parent.sliderStopEvents||e.parent.jumpToSlider(i(this))})),e.parent.registerEvent("gridAdjust",function(){e.sliderMarkup.call(e.parent),e.parent.registerEvent("gridAdjust",function(){e.updateSlider.call(e.parent)})},!0)}e.prototype.sliderMarkup=function(){var n=this;n.sliderStopEvents=!1,n.sliderActive=0,n.$obj.one("initComplete.cbp",function(){n.$obj.addClass("cbp-mode-slider")}),n.nav=i("<div/>",{class:"cbp-nav"}),n.nav.on("click.cbp","[data-slider-action]",function(t){var e;t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),n.sliderStopEvents||(t=(e=i(this)).attr("data-slider-action"),n[t+"Slider"]&&n[t+"Slider"](e))}),n.options.showNavigation&&(n.controls=i("<div/>",{class:"cbp-nav-controls"}),n.navPrev=i("<div/>",{class:"cbp-nav-prev","data-slider-action":"prev"}).appendTo(n.controls),n.navNext=i("<div/>",{class:"cbp-nav-next","data-slider-action":"next"}).appendTo(n.controls),n.controls.appendTo(n.nav)),n.options.showPagination&&(n.navPagination=i("<div/>",{class:"cbp-nav-pagination"}).appendTo(n.nav)),(n.controls||n.navPagination)&&n.nav.appendTo(n.$obj),n.updateSliderPagination(),n.options.auto&&(n.options.autoPauseOnHover&&(n.mouseIsEntered=!1,n.$obj.on("mouseenter.cbp",function(t){n.mouseIsEntered=!0,n.stopSliderAuto()}).on("mouseleave.cbp",function(t){n.mouseIsEntered=!1,n.startSliderAuto()})),n.startSliderAuto()),n.options.drag&&t.private.modernBrowser&&n.dragSlider()},e.prototype.updateSlider=function(){this.updateSliderPosition(),this.updateSliderPagination()},e.prototype.destroy=function(){var t=this;t.parent.customPaginationItems&&t.parent.customPaginationItems.off(".cbp"),(t.parent.controls||t.parent.navPagination)&&(t.parent.nav.off(".cbp"),t.parent.nav.remove())},t.plugins.slider=function(t){return"slider"!==t.options.layoutMode?null:new e(t)}}(jQuery,(window,document)),function(p){"use strict";var t={element:""},e=p.fn.cubeportfolio.constructor;function n(e){var n=this;n.parent=e,n.options=p.extend({},t,n.parent.options.plugins.sort),n.element=p(n.options.element),0!==n.element.length&&(n.sort="",n.sortBy="string:asc",n.element.on("click.cbp",".cbp-sort-item",function(t){t.preventDefault(),n.target=t.target,p(n.target).hasClass("cbp-l-dropdown-item--active")||e.isAnimating||(n.processSort(),e.$obj.cubeportfolio("filter",e.defaultFilter))}),e.registerEvent("triggerSort",function(){n.target&&(n.processSort(),e.$obj.cubeportfolio("filter",e.defaultFilter))}),n.dropdownWrap=n.element.find(".cbp-l-dropdown-wrap").on({"mouseover.cbp":function(){p(this).addClass("cbp-l-dropdown-wrap--open")},"mouseleave.cbp":function(){p(this).removeClass("cbp-l-dropdown-wrap--open")}}),n.dropdownHeader=n.element.find(".cbp-l-dropdown-header"))}n.prototype.processSort=function(){var i=this,t=i.parent,e=(l=i.target).hasAttribute("data-sort"),n=l.hasAttribute("data-sortBy");if(e&&n)i.sort=l.getAttribute("data-sort"),i.sortBy=l.getAttribute("data-sortBy");else if(e)i.sort=l.getAttribute("data-sort");else{if(!n)return;i.sortBy=l.getAttribute("data-sortBy")}var o,a,n=i.sortBy.split(":"),r="string",s=1;"int"===n[0]?r="int":"float"===n[0]&&(r="float"),"desc"===n[1]&&(s=-1),i.sort?(o=[],t.blocks.each(function(t,e){var n=p(e),e=n.find(i.sort).text();"int"===r&&(e=parseInt(e,10)),"float"===r&&(e=parseFloat(e,10)),o.push({sortText:e,data:n.data("cbp")})}),o.sort(function(t,e){t=t.sortText,e=e.sortText;return"string"===r&&(t=t.toUpperCase(),e=e.toUpperCase()),t<e?-s:e<t?s:0}),p.each(o,function(t,e){e.data.index=t})):(a=[],-1===s&&(t.blocks.each(function(t,e){a.push(p(e).data("cbp").indexInitial)}),a.sort(function(t,e){return e-t})),t.blocks.each(function(t,e){e=p(e).data("cbp");e.index=-1===s?a[e.indexInitial]:e.indexInitial})),t.sortBlocks(t.blocks,"index"),i.dropdownWrap.trigger("mouseleave.cbp");var l=p(i.target),t=p(i.target).parent();t.hasClass("cbp-l-dropdown-list")?(i.dropdownHeader.html(l.html()),l.addClass("cbp-l-dropdown-item--active").siblings(".cbp-l-dropdown-item").removeClass("cbp-l-dropdown-item--active")):t.hasClass("cbp-l-direction")&&(0===l.index()?t.addClass("cbp-l-direction--second").removeClass("cbp-l-direction--first"):t.addClass("cbp-l-direction--first").removeClass("cbp-l-direction--second"))},n.prototype.destroy=function(){this.element.off("click.cbp")},e.plugins.sort=function(t){return new n(t)}}(jQuery,(window,document));