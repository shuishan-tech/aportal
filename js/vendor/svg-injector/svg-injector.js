!function(v,t){"use strict";var i="file:"===v.location.protocol,r=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");function o(t){return t.cloneNode(!0)}function a(t,e){n[t]=n[t]||[],n[t].push(e)}function l(e){for(var t=0,r=n[e].length;t<r;t++)!function(t){setTimeout(function(){n[e][t](o(u[e]))},0)}(t)}function s(g,h,t,m){var e,b=g.getAttribute("data-src")||g.getAttribute("src");/\.svg/i.test(b)?r?-1===w.indexOf(g)&&(w.push(g),g.setAttribute("src",""),function(t,r){if(void 0!==u[t])u[t]instanceof SVGSVGElement?r(o(u[t])):a(t,r);else{if(!v.XMLHttpRequest)return r("Browser does not support XMLHttpRequest");u[t]={},a(t,r);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(404===n.status||null===n.responseXML)return r("Unable to load SVG file: "+t),i&&r("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),r(),!1;if(!(200===n.status||i&&0===n.status))return r("There was a problem injecting the SVG: "+n.status+" "+n.statusText),!1;if(n.responseXML instanceof Document)u[t]=n.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){try{var e=(new DOMParser).parseFromString(n.responseText,"text/xml")}catch(t){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return r("Unable to parse SVG file: "+t),!1;u[t]=e.documentElement}l(t)}},n.open("GET",t),n.overrideMimeType&&n.overrideMimeType("text/xml"),n.send()}}(b,function(i){if(void 0===i||"string"==typeof i)return m(i),!1;var t=g.getAttribute("id");t&&i.setAttribute("id",t);t=g.getAttribute("title");t&&i.setAttribute("title",t);t=[].concat(i.getAttribute("class")||[],"injected-svg",g.getAttribute("class")||[]).join(" ");i.setAttribute("class",function(t){for(var e={},r=(t=t.split(" ")).length,n=[];r--;)e.hasOwnProperty(t[r])||(e[t[r]]=1,n.unshift(t[r]));return n.join(" ")}(t));t=g.getAttribute("style");t&&i.setAttribute("style",t);t=[].filter.call(g.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});y.call(t,function(t){t.name&&t.value&&i.setAttribute(t.name,t.value)});var o,a,l,s,u={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(u).forEach(function(t){a=u[t];for(var n,e=0,r=(o=i.querySelectorAll("defs "+t+"[id]")).length;e<r;e++)l=o[e].id,s=l+"-"+A,y.call(a,function(t){for(var e=0,r=(n=i.querySelectorAll("["+t+'*="'+l+'"]')).length;e<r;e++)n[e].setAttribute(t,"url(#"+s+")")}),o[e].id=s}),i.removeAttribute("xmlns:a");for(var e,r=i.querySelectorAll("script"),n=[],c=0,f=r.length;c<f;c++)(e=r[c].getAttribute("type"))&&"application/ecmascript"!==e&&"application/javascript"!==e||(e=r[c].innerText||r[c].textContent,n.push(e),i.removeChild(r[c]));if(0<n.length&&("always"===h||"once"===h&&!x[b])){for(var p=0,d=n.length;p<d;p++)new Function(n[p])(v);x[b]=!0}t=i.querySelectorAll("style");y.call(t,function(t){t.textContent+=""}),g.parentNode.replaceChild(i,g),delete w[w.indexOf(g)],g=null,A++,m(i)})):(e=g.getAttribute("data-fallback")||g.getAttribute("data-png"))?(g.setAttribute("src",e),m(null)):t?(g.setAttribute("src",t+"/"+b.split("/").pop().replace(".svg",".png")),m(null)):m("This browser does not support SVG and no PNG fallback was defined."):m("Attempted to inject a file with a non-svg extension: "+b)}function e(e,t,r){var n,i=(t=t||{}).evalScripts||"always",o=t.pngFallback||!1,a=t.each;void 0!==e.length?(n=0,y.call(e,function(t){s(t,i,o,function(t){a&&"function"==typeof a&&a(t),r&&e.length===++n&&r(n)})})):e?s(e,i,o,function(t){a&&"function"==typeof a&&a(t),r&&r(1),e=null}):r&&r(0)}var y=Array.prototype.forEach||function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var r=this.length>>>0,n=0;n<r;++n)n in this&&t.call(e,this[n],n,this)},u={},A=0,w=[],n=[],x={};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=e:"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof v&&(v.SVGInjector=e)}(window,document);