GMaps.prototype.getFromFusionTables=function(e){var r=e.events;delete e.events;var s=new google.maps.FusionTablesLayer(e);for(var a in r)!function(a){google.maps.event.addListener(s,a,function(e){r[a].apply(this,[e])})}(a);return this.layers.push(s),s},GMaps.prototype.loadFromFusionTables=function(e){var a=this.getFromFusionTables(e);return a.setMap(this.map),a},GMaps.prototype.getFromKML=function(e){var a=e.url,r=e.events;delete e.url,delete e.events;var s=new google.maps.KmlLayer(a,e);for(var t in r)!function(a){google.maps.event.addListener(s,a,function(e){r[a].apply(this,[e])})}(t);return this.layers.push(s),s},GMaps.prototype.loadFromKML=function(e){var a=this.getFromKML(e);return a.setMap(this.map),a},GMaps.prototype.addLayer=function(e,a){var r,s,t;switch(a=a||{},e){case"weather":this.singleLayers.weather=r=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=r=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=r=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=r=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=r=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=r=new google.maps.panoramio.PanoramioLayer,r.setTag(a.filter),delete a.filter,a.click&&google.maps.event.addListener(r,"click",function(e){a.click(e),delete a.click});break;case"places":this.singleLayers.places=r=new google.maps.places.PlacesService(this.map),(a.search||a.nearbySearch||a.radarSearch)&&(s={bounds:a.bounds||null,keyword:a.keyword||null,location:a.location||null,name:a.name||null,radius:a.radius||null,rankBy:a.rankBy||null,types:a.types||null},a.radarSearch&&r.radarSearch(s,a.radarSearch),a.search&&r.search(s,a.search),a.nearbySearch&&r.nearbySearch(s,a.nearbySearch)),a.textSearch&&(t={bounds:a.bounds||null,location:a.location||null,query:a.query||null,radius:a.radius||null},r.textSearch(t,a.textSearch))}if(void 0!==r)return"function"==typeof r.setOptions&&r.setOptions(a),"function"==typeof r.setMap&&r.setMap(this.map),r},GMaps.prototype.removeLayer=function(e){if("string"==typeof e&&void 0!==this.singleLayers[e])this.singleLayers[e].setMap(null),delete this.singleLayers[e];else for(var a=0;a<this.layers.length;a++)if(this.layers[a]===e){this.layers[a].setMap(null),this.layers.splice(a,1);break}};