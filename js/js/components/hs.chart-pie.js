!function(l){"use strict";l.HSCore.components.HSChartPie={_baseConfig:{bounds:-100,debounce:10,rtl:!1,wrpClass:"u-circles-wrap",textClass:"u-circles-text",valueStrokeClass:"u-circles-valueStroke",maxValueStrokeClass:"u-circles-maxValueStroke",styleWrapper:!0,styleText:!0},pageCollection:l(),appearCollectionIds:[],init:function(e,t){if(this.collection=e&&l(e).length?l(e):l(),l(e).length)return this.config=t&&l.isPlainObject(t)?l.extend({},this._baseConfig,t):this._baseConfig,this.config.itemSelector=e,this.initCircles(),this.pageCollection},initCircles:function(){var e=this.pageCollection.last(),i=0,c=this;e.length&&(i=+e.attr("id").substring(e.attr("id").lastIndexOf("-")+1)),this.collection.each(function(e,t){var a=l(t),t="hs-pie-"+(i+(e+1)),e=0;a.attr("id",t),a.data("circles-scroll-animate")?(a.data("reminded-value",a.data("circles-value")||0),c.appearCollectionIds.push("#"+t)):e=a.data("circles-value")||0;e=Circles.create({id:t,radius:a.data("circles-radius")||80,value:e,maxValue:a.data("circles-max-value")||100,width:a.data("circles-stroke-width")||10,text:function(e){return"iconic"==a.data("circles-type")?a.data("circles-icon"):"prefix"===a.data("circles-additional-text-type")?a.data("circles-secondary-text")?(a.data("circles-additional-text")||"")+(a.data("circles-is-hide-value")?"":e)+'<div style="margin-top: '+(a.data("circles-divider-space")/2+"px"||"0")+"; margin-bottom: "+(a.data("circles-divider-space")/2+"px"||"0")+';"></div><div style="font-weight: '+a.data("circles-secondary-font-weight")+"; font-size: "+a.data("circles-secondary-font-size")+"px; color: "+a.data("circles-secondary-color")+';">'+a.data("circles-secondary-text")+"</div>":(a.data("circles-additional-text")||"")+(a.data("circles-is-hide-value")?"":e):a.data("circles-secondary-text")?(a.data("circles-is-hide-value")?"":e)+(a.data("circles-additional-text")||"")+'<div style="margin-top: '+(a.data("circles-divider-space")/2+"px"||"0")+"; margin-bottom: "+(a.data("circles-divider-space")/2+"px"||"0")+';"></div><div style="font-weight: '+a.data("circles-secondary-font-weight")+"; font-size: "+a.data("circles-secondary-font-size")+"px; color: "+a.data("circles-secondary-color")+';">'+a.data("circles-secondary-text")+"</div>":(a.data("circles-is-hide-value")?"":e)+(a.data("circles-additional-text")||"")},colors:[a.data("circles-bg-color")||"#377dff",a.data("circles-fg-color")||"#e7eaf3"],duration:a.data("circles-duration")||1e3,wrpClass:a.data("circles-wrp-class")||c.config.wrpClass,textClass:a.data("circles-text-class")||c.config.textClass,valueStrokeClass:c.config.valueStrokeClass,maxValueStrokeClass:c.config.maxValueStrokeClass,styleWrapper:c.config.styleWrapper,styleText:c.config.styleText});a.data("circle",e),a.find('[class="'+(a.data("circles-text-class")||c.config.textClass)+'"]').css({"font-size":a.data("circles-font-size"),"font-weight":a.data("circles-font-weight"),color:a.data("circles-color"),"line-height":"normal",height:"auto",top:"",left:""}),c.config.rtl&&a.find("svg").css("transform","matrix(-1, 0, 0, 1, 0, 0)"),a.data("circles-fg-stroke-linecap")&&a.find('[class="'+c.config.valueStrokeClass+'"]').attr("stroke-linecap",a.data("circles-fg-stroke-linecap")),a.data("circles-fg-stroke-miterlimit")&&a.find('[class="'+c.config.valueStrokeClass+'"]').attr("stroke-miterlimit",a.data("circles-fg-stroke-miterlimit")),c.pageCollection=c.pageCollection.add(a)}),c.appearCollectionIds.length&&c._initAppear()},_initAppear:function(){var e=this;appear({bounds:e.config.bounds,debounce:e.config.debounce,elements:function(){return document.querySelectorAll(e.appearCollectionIds.join(","))},appear:function(e){(e=l(e)).data("circle").update(e.data("reminded-value"))}})},get:function(e){return e&&l.isNumeric(e)?this.pageCollection.eq(e):this.pageCollection},getById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e):null},getCircleAPI:function(e){return e&&l.isNumeric(e)&&this.pageCollection.eq(e).length?this.pageCollection.eq(e).data("circle"):null},getCircleAPIById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e).data("circle"):null}}}(jQuery);