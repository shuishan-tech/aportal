!function(h){"use strict";function a(t,e){this.element=t,this.config=e,this._items=h(),this._makeItems(),this._bindEvents()}function n(t,o){var a=this;this.element=t,this.config=o,Object.defineProperty(this,"section",{value:h(a.element.attr("href"))}),Object.defineProperty(this,"offset",{get:function(){var t=o.parent,e=getComputedStyle(t.get(0)),i=e.position,n=a.section.offset().top;return!t.length||"fixed"!=i&&"absolute"!=i||0!=parseInt(e.top)||(n=n-t.outerHeight()-parseInt(e.marginTop)),a.config.over.length&&(n-=a.config.over.outerHeight()),n}})}h.HSCore.components.HSScrollNav={_baseConfig:{duration:400,easing:"linear",over:h(),sectionClass:"u-scroll-nav-section",customOffsetTop:0,activeItemClass:"active",activeSectionClass:"active",afterShow:function(){},beforeShow:function(){},parent:h(".u-header")},_pageCollection:h(),init:function(t,n){var o=this;return t&&t.length?(t.each(function(t,e){var i=h(e),e=n&&h.isPlainObject(n)?h.extend(!0,{},o._baseConfig,n,i.data()):h.extend(!0,{},o._baseConfig,i.data());i.data("HSScrollNav")||(i.data("HSScrollNav",new a(i,e)),o._pageCollection=o._pageCollection.add(i))}),h(window).on("scroll.HSScrollNav",function(){o._pageCollection.each(function(t,e){h(e).data("HSScrollNav").highlight()})}).trigger("scroll.HSScrollNav"),t):h()}},a.prototype._makeItems=function(){var i=this;this.element.find('a[href^="#"]').each(function(t,e){e=h(e);e.data("HSScrollNavSection")||(e.data("HSScrollNavSection",new n(e,i.config)),i._items=i._items.add(e))})},a.prototype._bindEvents=function(){var s=this;this.element.on("click.HSScrollNav",'a[href^="#"]',function(t){var e=this,i=h(this).data("HSScrollNavSection"),n=h(s.element).parent(),o=n.attr("id"),a=window.innerWidth,c=Boolean(s.element[0].dataset.mobileDestroy);a<=769&&!0===c?(h('[data-target="#'+o+'"]').trigger("click"),h('[data-target="#'+o+'"] > .u-hamburger__box').removeClass("is-active"),n.on("hidden.bs.collapse",function(){s._lockHightlight=!0,s.current&&s.current.unhighlight(),e.blur(),s.current=h(e).data("HSScrollNavSection"),s.current.highlight(),i.show(function(){s._lockHightlight=!1})})):(s._lockHightlight=!0,s.current&&s.current.unhighlight(),e.blur(),s.current=h(e).data("HSScrollNavSection"),s.current.highlight(),i.show(function(){s._lockHightlight=!1})),t.preventDefault()})},a.prototype.highlight=function(){var i,n;if(this._items.length&&!this._lockHightlight){if((n=h(window).scrollTop())+h(window).height()===h(document).height())return this.current=this._items.last().data("HSScrollNavSection"),this.unhighlight(),this.current.highlight(),void this.current.changeHash();this._items.each(function(t,e){e=h(e).data("HSScrollNavSection"),e.section;n>e.offset&&(i=e)}),i&&this.current!==i&&(this.unhighlight(),i.highlight(),this.current&&i.changeHash(),this.current=i)}},a.prototype.unhighlight=function(){this._items.each(function(t,e){h(e).data("HSScrollNavSection").unhighlight()})},n.prototype.show=function(t){var e=this;this.section.length&&(e.config.beforeShow.call(e.section),this.changeHash(),h("html, body").stop().animate({scrollTop:e.offset+e.config.customOffsetTop},{duration:e.config.duration,easing:e.config.easing,complete:function(){h("html, body").stop().animate({scrollTop:e.offset+e.config.customOffsetTop},{duration:e.config.duration,easing:e.config.easing,complete:function(){e.config.afterShow.call(e.section),h.isFunction(t)&&t()}})}}))},n.prototype.changeHash=function(){this.section.attr("id",""),h(this.config.sectionClass).removeClass(this.config.activeSectionClass),this.section.addClass(this.config.activeSectionClass),window.location.hash=this.element.attr("href"),this.section.attr("id",this.element.attr("href").slice(1))},n.prototype.highlight=function(){var t=this.element.parent("li");t.length&&t.addClass(this.config.activeItemClass)},n.prototype.unhighlight=function(){var t=this.element.parent("li");t.length&&t.removeClass(this.config.activeItemClass)}}(jQuery);