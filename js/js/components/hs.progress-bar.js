!function(a){"use strict";a.HSCore.components.HSProgressBar={_baseConfig:{bounds:-100,debounce:10,time:1e3,fps:60,rtl:!1,direction:"horizontal",useProgressElement:!1,indicatorSelector:"progress-bar-indicator",moveElementSelector:!1,moveElementTo:"currentPosition",onChange:function(e){},beforeUpdate:function(){},afterUpdate:function(){},onMoveElementChange:function(e){},beforeMoveElementUpdate:function(){},afterMoveElementUpdate:function(){}},_pageCollection:a(),init:function(e,t){if(e&&a(e).length)return this.extendHorizontalProgressBar(),this.extendVerticalProgressBar(),this._initProgressBar(e,t&&a.isPlainObject(t)?a.extend(!0,{},this._baseConfig,t):this._baseConfig)},_initProgressBar:function(e,o){var i=this,r=a();return appear({bounds:o.bounds,debounce:o.debounce,init:function(){a(e).each(function(e,t){var n=a(t);"horizontal"===o.direction?n.data("ProgressBar",new i.HorizontalProgressBar(n,o)):n.data("ProgressBar",new i.VerticalProgressBar(n,o)),r=r.add(n),i._pageCollection=i._pageCollection.add(n)})},elements:function(){return document.querySelectorAll(e)},appear:function(e){a(e).data("ProgressBar").update(a(e).data("value"))}}),r},HorizontalProgressBar:function(e,t){this.element=e,this.indicator=this.element.find(t.indicatorSelector),this.config=t,this.moveElement=t.moveElementSelector?e.parent().find(t.moveElementSelector):a(),this.moveElement.length&&(t.rtl?this.moveElement.css({left:"auto",right:0,"margin-right":this.moveElement.outerWidth()/-2}):this.moveElement.css({left:0,"margin-left":this.moveElement.outerWidth()/-2})),this.config.useProgressElement?(this.element.data("value",this.element.attr("value")),this.element.attr("value",0)):(this.element.data("value",this.indicator.length?Math.round(this.indicator.outerWidth()/this.element.outerWidth()*100):0),this.indicator.css("width","0%"))},VerticalProgressBar:function(e,t){this.element=e,this.config=t,this.indicator=e.find(t.indicatorSelector),this.indicator.length&&(e.data("value",parseInt(this.indicator.css("height"),10)/this.indicator.parent().outerHeight()*100),this.indicator.css("height",0))},extendHorizontalProgressBar:function(){this.HorizontalProgressBar.prototype.update=function(t){var e,n,o,i,r,a,l=this;this.config.useProgressElement?(e=this.config.time/this.config.fps,n=parseInt(t/e,10),(o=0)==n&&(n=1),(l=this).config.beforeUpdate.call(this.element),this.moveElement.length&&this.config.beforeMoveElementUpdate.call(this.moveElement),l.config.moveElementSelector&&"end"==l.config.moveElementTo&&((i=0)==(r=parseInt(100/e,10))&&(r=1),a=setInterval(function(){l.moveSubElement(i+=r),l.moveElement.length&&l.config.onMoveElementChange.call(l.moveElement,i+=r),100<i&&(clearInterval(a),l.moveSubElement(100),l.moveElement.length&&l.config.afterMoveElementUpdate.call(l.moveElement))},e)),this.element.data("intervalId",setInterval(function(){var e=o+=n;l.element.attr("value",e),l.config.onChange.call(l.element,e),l.config.moveElementSelector&&"currentPosition"==l.config.moveElementTo&&l.moveSubElement(e),t<o&&(l.element.attr("value",t),l.config.moveElementSelector&&"currentPosition"==l.config.moveElementTo&&l.moveSubElement(t),clearInterval(l.element.data("intervalId")),l.config.afterUpdate.call(l.element))},e))):this.indicator.length&&this.indicator.stop().animate({width:t+"%"},{duration:l.config.time,complete:function(){l.config.afterUpdate.call(l.element)}})},this.HorizontalProgressBar.prototype.moveSubElement=function(e,t){this.moveElement.length&&this.moveElement.css(this.config.rtl?"right":"left",e+"%")}},extendVerticalProgressBar:function(){this.VerticalProgressBar.prototype.update=function(e){this.indicator.stop().animate({height:e+"%"})}},get:function(){return this._pageCollection},getAPI:function(e){return this._pageCollection.eq(e).length?this._pageCollection.eq(e).data("ProgressBar"):null}}}(jQuery);