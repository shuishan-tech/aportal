var searchFunc=function(e,n,s){"use strict";$.ajax({url:e,dataType:"xml",success:function(e){var t=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),e=document.getElementById(n);function r(){$("#local-search-result").remove();var u='<ul class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s\-]+/);if(!(this.value.trim().length<=0)){let e=$('<div id="local-search-result"></div>');e.appendTo("#"+s),t.forEach(function(e){var r,t,n,s=!0,l=e.title.trim().toLowerCase(),i=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),a=e.url,c=-1,o=-1;""!=l&&""!=i&&h.forEach(function(e,t){r=l.indexOf(e),c=i.indexOf(e),r<0&&c<0?s=!1:(c<0&&(c=0),0==t&&(o=c))}),s&&0<=o&&(u+="<li><a href='"+a+"' class='search-result-title'>"+l+"</a>",t=e.content.trim().replace(/<[^>]+>/g,""),a=o+80,(e=o-20)<0&&(e=0),0==e&&(a=100),a>t.length&&(a=t.length),n=t.substr(e,a),h.forEach(function(e){var t=new RegExp(e,"gi");n=n.replace(t,'<em class="search-keyword">'+e+"</em>")}),u+='<p class="search-result">'+n+"...</p>",u+="</li>")}),u+="</ul>",e[0].innerHTML=u}}e&&(e.addEventListener("blur",function(){$("#local-search-result").fadeTo("slow",.01,function(){$(this).slideUp("slow",function(){$(this).remove()})})}),e.addEventListener("input",r),e.addEventListener("click",r))}})};