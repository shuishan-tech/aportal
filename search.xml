<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
  
  
    
    
    <entry>
      <title></title>
      <link href="/aportal/about.html"/>
      <url>/aportal/about.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/aportal/aboutus.html"/>
      <url>/aportal/aboutus.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/aportal/contacts.html"/>
      <url>/aportal/contacts.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/aportal/customers.html"/>
      <url>/aportal/customers.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/aportal/index.html"/>
      <url>/aportal/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/aportal/index1.html"/>
      <url>/aportal/index1.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>关于 APortal</title>
      <link href="/aportal/docs/about/index.html"/>
      <url>/aportal/docs/about/index.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;APortal是上海水杉网络有限公司基于微软SharePoint平台设计和开发的工作流平台。其主要功能模块包括：用户和组织结构设置，工作流设计，工作流表单设计，工作流中心等。<br>&emsp;&emsp;APortal系统的目标是帮助企业用户在基于Office 365部署的SharePoint Online站点或企业自行部署和管理的SharePoint服务器上快速搭建功能强大，操作灵活的工作流平台。除了工作流平台实施，企业用户还可以基于APortal系统快速开发和实施企业内部常见的业务系统。</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>常见问题</title>
      <link href="/aportal/docs/common/index.html"/>
      <url>/aportal/docs/common/index.html</url>
      
        <content type="html"><![CDATA[<p>本节包含以下内容：</p><ul><li><a href="install365.html">创建 SharePint 网站集</a></li></ul>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>新建 SharePint 网站集和网站</title>
      <link href="/aportal/docs/common/install365.html"/>
      <url>/aportal/docs/common/install365.html</url>
      
        <content type="html"><![CDATA[<h2 id="什么是-Office-365？"><a href="#什么是-Office-365？" class="headerlink" title="什么是 Office 365？"></a>什么是 Office 365？</h2><blockquote class="callout border-warning bg-soft-warning">              <p>由于各个国家的政策和法规有所不同，所以 Office 365 在全球一共有 4 个版本：</p><ul><li>全球版</li><li>美国政府版</li><li>德国版</li><li>处于中国的世纪互联运营版</li></ul><p>以下内容以全球版 E5 开发者版本 为基础进行介绍。</p>            </blockquote><p>Office 365 是微软为企业打造的完整的办公云服务，它不仅包含最新版的 Office 软件，同时满足企业对于企业级邮件处理（Exchange Online）、  文件分享（SharePoint Online）、即时消息和可视网络会议（Skype for Business）的需求。Office 365 将帮助您的企业实现办公的运维、管理  和使用体验的革新，为您的企业带来更灵活、高效、更安全可靠的云办公方式。 </p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15765712301730.jpg' ></img></div><!-- <img width=500 src="images/media/15765646706398/15765712301730.jpg" > --><!-- ![-w1440](images/media/15765646706398/15765712301730.jpg =500x500) --><p>Office 365 中包含了很多企业应用产品，其中常见的有 Word，Excel，PowerPoint，Exchange，Skype，SharePoint 等。熟悉微软企业应用体系的用户可以看出来，这其实就是之前企业内部应用微软产品的云端系列，如果熟悉企业信息协同的用户一眼就能看到 SharePoint 这个产品，这是过去二十年微软在企业内部信息协同的拳头产品，如今也可以依托云端运行，APortal 当前版本就是针对 SharePoint Online 进行技术和业务的增强。</p><p>要使用 APortal 提供的功能，首先需要有一个 SharePoint Online 网站，下面就介绍如何创建一个 SharePoint Online 网站。</p><h2 id="创建网站"><a href="#创建网站" class="headerlink" title="创建网站"></a>创建网站</h2><blockquote class="callout border-info bg-soft-info">              <p>APortal 支持在现有网站上进行部署，但是为了业务的独立性和连续性，我们强烈建议重新创建新的 <code>Tenant</code> 和子网站。特别是对 Aporta 进行评估和试用的用户，我们推荐在新的 <code>TenantSite</code>下的子网站上进行。</p>            </blockquote><h3 id="创建前的准备"><a href="#创建前的准备" class="headerlink" title="创建前的准备"></a>创建前的准备</h3><blockquote class="callout border-warning bg-soft-warning">              <p>您需要有租户管理员账号和密码。</p>            </blockquote><h3 id="使用浏览器创建"><a href="#使用浏览器创建" class="headerlink" title="使用浏览器创建"></a>使用浏览器创建</h3><p>打开浏览器，输入SharePoint Online 管理中心地址：<br><a href="https://yourtenantname-admin.sharepoint.cn/" target="_blank" rel="noopener external nofollow noreferrer">https://yourtenantname-admin.sharepoint.cn/</a></p><blockquote class="callout border-info bg-soft-info">              <p>以我们地址为例<br><a href="https://aportaldev-admin.sharepoint.com/。" target="_blank" rel="noopener external nofollow noreferrer">https://aportaldev-admin.sharepoint.com/。</a></p>            </blockquote><p>管理中心主页：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15765696856194.jpg' ></img></div><!-- ![-w1434](images/media/15765646706398/15765696856194.jpg) --><p>点击左侧菜单中的 <code>活动站点</code>，然后点击右侧内容中的 <code>创建</code> 按钮；</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766329020992.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766329020992.jpg) --><p>选择 <code>团队网站</code></p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766329750362.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766329750362.jpg) --><p>输入 <code>站点名称</code>，<code>组所有者</code>和<code>选择网站语言</code>，点击<code>下一步</code></p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766330369238.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766330369238.jpg) --><p>等待网站集创建完成：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766330656810.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766330656810.jpg) --><p>创建完成后，通过地址 <a href="https://aportaldev.sharepoint.com/sites/uat" target="_blank" rel="noopener external nofollow noreferrer">https://aportaldev.sharepoint.com/sites/uat</a> 访问创建好的网站集和网站：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766332481009.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766332481009.jpg) --><p>为了方便对 APortal 进行评估，建议在网站集下创建子网站进行，这样就不用频繁需要租户管理员进行操作。</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766333633951.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766333633951.jpg) --><p>点击创建子网站，填写创建子网站的相关内容，使用默认选项，点击页面下方的<code>创建</code>按钮：</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766334768686.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766334768686.jpg) --><p>创建完成后，会跳转到新创建的子网站首页，表示准备工作已经就绪。</p><div width='100%' class='text-center'><img class='pb-4 text-center aaa' height='80%' width='80%' src='images/media/15765646706398/15766336022347.jpg' ></img></div><!-- ![-w1440](images/media/15765646706398/15766336022347.jpg) --><h3 id="使用脚本创建"><a href="#使用脚本创建" class="headerlink" title="使用脚本创建"></a>使用脚本创建</h3><h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>文档书写规范</title>
      <link href="/aportal/docs/common/writting.html"/>
      <url>/aportal/docs/common/writting.html</url>
      
        <content type="html"><![CDATA[<h2 id="Tags"><a href="#Tags" class="headerlink" title="Tags"></a>Tags</h2><p>Tag 是基于 Hexo实现的自定义书写标签模板，根据 APortal 文档的需求，我们实现了下面几种 Tag。</p><h3 id="img-Tag"><a href="#img-Tag" class="headerlink" title="img Tag"></a>img Tag</h3><p>居中插入图片。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% fullimg images&#x2F;media&#x2F;15765646706398&#x2F;15765712301730.jpg,  class, 80%,80% %&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-info bg-soft-info">              <p>img Tag 的参数说明：图片路径，类名，宽度，高度。<br>注意：除了图片路径为必填外，其余的都属于非必填（宽度和高度如只填一个的话宽高默认相等），且imgtag为单标签不需要end结束标签</p>            </blockquote><p>效果：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/media/15765646706398/15765712301730.jpg' ></img></div><h3 id="label-Tag"><a href="#label-Tag" class="headerlink" title="label Tag"></a>label Tag</h3><p>为文字添加标签背景。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label primary@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-primary text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label secondary@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-secondary text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label success@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-success text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label danger@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-danger text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label warning@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-warning text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label info@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-info text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label dark@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-dark text-white">APortal</span><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% label body@APortal%&#125;</span><br></pre></td></tr></table></figure><span class="p-1 rounded mb-2 bg-body text-white">APortal</span><h3 id="note-Tag"><a href="#note-Tag" class="headerlink" title="note Tag"></a>note Tag</h3><p>内容注释块。</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note primary%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-primary bg-soft-primary">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note secondary%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-secondary bg-soft-secondary">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note success%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-success bg-soft-success">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note danger%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-danger bg-soft-danger">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note warning%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-warning bg-soft-warning">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note info%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-info bg-soft-info">              <p>APortal for Office 365.</p>            </blockquote><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% note dark%&#125;</span><br><span class="line">    APortal for Office 365.</span><br><span class="line">&#123;%endnote%&#125;</span><br></pre></td></tr></table></figure><blockquote class="callout border-dark bg-soft-dark">              <p>APortal for Office 365.</p>            </blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>示例项目</title>
      <link href="/aportal/docs/example/index.html"/>
      <url>/aportal/docs/example/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>开始使用</title>
      <link href="/aportal/docs/gettingstarted/index.html"/>
      <url>/aportal/docs/gettingstarted/index.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;本章从安装APortal开始，介绍如何基于APortal平台逐步完成一个工作流的配置和发布。</p><p><img src="images/aportal-2020-07-08-14-51-53.png" alt=""></p><p>&emsp;&emsp;本章使用的例子：费用报销流程，在APortal完成安装后，该流程将作为3个流程样例之一被部署到用户站点上。</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>设置</title>
      <link href="/aportal/docs/gettingstarted/initialization.html"/>
      <url>/aportal/docs/gettingstarted/initialization.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;在安装好 APortal 管理工具，且设置好启用 APortal 功能的 SharePoint Online 网站后，需要对网站进行初始设置，为下一步创建表单和流程做准备。</p><h2 id="系统参数设置"><a href="#系统参数设置" class="headerlink" title="系统参数设置"></a>系统参数设置</h2><p>&emsp;&emsp;在系统参数列表SSF_Parameters中存在下列基本参数。</p><table style="width: 90%; border: 2px solid rgba(119,131,143,.1);">    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>参数名称 <br>Title</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>参数类 <br>Parameter Type</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>值类型 <br>Value Type</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>值 <br>Value</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>说明</b></td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSF_CurrentVersion</td>        <td style="border: 2px solid rgba(119,131,143,.1);">1</td>        <td style="border: 2px solid rgba(119,131,143,.1);">3</td>        <td style="border: 2px solid rgba(119,131,143,.1);">V1</td>        <td style="border: 2px solid rgba(119,131,143,.1);">用于控制包括界面菜单，工作流中心导航栏等界面元素的刷新。</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSF_DateOnlyFormat</td>        <td style="border: 2px solid rgba(119,131,143,.1);">1</td>        <td style="border: 2px solid rgba(119,131,143,.1);">3</td>        <td style="border: 2px solid rgba(119,131,143,.1);">YYYY/MM/DD</td>        <td style="border: 2px solid rgba(119,131,143,.1);">系统中显示的日期格式。</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSF_DateTimeFormat</td>        <td style="border: 2px solid rgba(119,131,143,.1);">1</td>        <td style="border: 2px solid rgba(119,131,143,.1);">3</td>        <td style="border: 2px solid rgba(119,131,143,.1);">YYYY/MM/DD HH:mm</td>        <td style="border: 2px solid rgba(119,131,143,.1);">系统中显示的日期+时间格式。</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_ApprovalEmailSubject</td>        <td style="border: 2px solid rgba(119,131,143,.1);">1</td>        <td style="border: 2px solid rgba(119,131,143,.1);">3</td>        <td style="border: 2px solid rgba(119,131,143,.1);">参照《系统邮件模板设置》</td>        <td style="border: 2px solid rgba(119,131,143,.1);">系统中用于发送审批任务提醒的电子邮件标题和内容模板。</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_ApprovalEmailBody</td>        <td style="border: 2px solid rgba(119,131,143,.1);">1</td>        <td style="border: 2px solid rgba(119,131,143,.1);">6</td>        <td style="border: 2px solid rgba(119,131,143,.1);">参照《系统邮件模板设置》</td>        <td style="border: 2px solid rgba(119,131,143,.1);">系统中用于发送审批任务提醒的电子邮件标题和内容模板。</td>    </tr></table><h2 id="组织结构和用户"><a href="#组织结构和用户" class="headerlink" title="组织结构和用户"></a>组织结构和用户</h2><p>&emsp;&emsp;APortal安装完成后，将在站点上创建1个公司 – APortal Company、1个部门 – APortal、1个用户 – Admin。通过下面的页面进入APortal组织结构管理模块：</p><blockquote class="callout border-info bg-soft-info">              <p>站点URL/SitePages/orgcenter.aspx</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-09-13-12-40.png' ></img></div><h3 id="编辑公司"><a href="#编辑公司" class="headerlink" title="编辑公司"></a>编辑公司</h3><p>&emsp;&emsp;每个APortal站点仅支持一个公司，如果需要修改默认的公司名称（APortal），可在左侧组织结构树中选择顶点 <span class="p-1 rounded mb-2 bg-primary text-white">APortal Company</span>，然后点击 <span class="p-1 rounded mb-2 bg-primary text-white">编辑</span> 进入公司信息编辑页面，编辑公司名称，简称，邮件等信息，完成后点击 <span class="p-1 rounded mb-2 bg-primary text-white">保存</span> 按钮保存修改的信息。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-09-13-14-28.png' ></img></div><h3 id="编辑部门"><a href="#编辑部门" class="headerlink" title="编辑部门"></a>编辑部门</h3><p>&emsp;&emsp;如果有更多的分子公司，工厂，事业部等，可以以公司下的部门形式构建。如果需要修改系统默认创建的部门名称，可从左侧组织结构树中点击选择 <span class="p-1 rounded mb-2 bg-primary text-white">APortal</span>，然后点击 <span class="p-1 rounded mb-2 bg-primary text-white">编辑</span> 进入部门信息编辑页面，编辑部门名称、上级部门（如果是根部门则无上级部门），部门代码，部门精力等属性，编辑完成后点击 <span class="p-1 rounded mb-2 bg-primary text-white">保存</span> 按钮保存编辑后的部门信息。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-09-13-15-48.png' ></img></div><h3 id="编辑用户"><a href="#编辑用户" class="headerlink" title="编辑用户"></a>编辑用户</h3><p>&emsp;&emsp;APortal安装完成后，用户需要将APortal创建的第一个用户：Admin，与站点的管理员帐号联系起来，方法是：</p><ul><li>在左侧组织结构树中选择APortal部门，右侧将显示APortal部门下的用户列表</li><li>从用户列表中选择名为 <span class="p-1 rounded mb-2 bg-primary text-white">Admin</span> 的用户，点击『编辑』按钮编辑Admin用户信息，将 <span class="p-1 rounded mb-2 bg-primary text-white">Login Name</span> 字段的值修改为实际站点管理员帐号，例如：<a href="mailto:admin@aportaldev.onmicrosoft.com" rel="external nofollow noreferrer">admin@aportaldev.onmicrosoft.com</a>。</li><li>编辑完成后点击 <span class="p-1 rounded mb-2 bg-primary text-white">保存</span> 按钮保存编辑后的用户信息，如下图：</li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-09-13-17-39.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>请注意，每个用户都必须关联一个部门，上述Admin用户已经默认关联了名为APortal的部门。除非已经在系统中维护了实际的业务部门，否则不要删除或修改Admin用户的部门。</p>            </blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>安装</title>
      <link href="/aportal/docs/gettingstarted/installation.html"/>
      <url>/aportal/docs/gettingstarted/installation.html</url>
      
        <content type="html"><![CDATA[<h2 id="导语"><a href="#导语" class="headerlink" title="导语"></a>导语</h2><p>&emsp;&emsp;在安装 APortal 管理工具之前，请仔细阅读前一章，根据实际需求谨慎选择安装环境，安装 APortal 会在相应的网站生成列表和推送网站资源，如果是已经存在的生产网站，可能会造成不可逆转的数据混淆。</p><h2 id="安装-APortal-管理工具"><a href="#安装-APortal-管理工具" class="headerlink" title="安装 APortal 管理工具"></a>安装 APortal 管理工具</h2><p>&emsp;&emsp;以管理员身份打开PowerShell，在命令行窗口中执行下面的命令安装APortal.PowerShell工具：</p><blockquote class="callout border-info bg-soft-info">              <p>准备好安装环境后，安装过程就十分简单，只需要运行安装命令即可。</p>            </blockquote><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装最新版本</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> APortal.PowerShell</span><br><span class="line"><span class="comment"># 安装特定版本， 版本号根据实际情况进行修改</span></span><br><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> APortal.PowerShell <span class="literal">-RequiredVersion</span> <span class="number">0.0</span>.<span class="number">9</span></span><br></pre></td></tr></table></figure><p>&emsp;&emsp;开始安装后根据系统的安全设置，可能会出现下面的提示信息：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-09-11-35-18.png' ></img></div><p>&emsp;&emsp;输入 <code>Y</code> 或 <code>A</code> 后，自定下载包安装。安装完成后，可以使用命令确认模块是否安装正确。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Get-Module</span> <span class="literal">-Name</span> APortal.PowerShell <span class="literal">-ListAvailable</span></span><br></pre></td></tr></table></figure><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-09-11-38-11.png' ></img></div><p>&emsp;&emsp;如果APortal.PowerShell安装完成，则上面的命令行执行后将列出系统中已经安装的APortal.PowerShell版本，如果多次安装可能会有多个版本存在，系统默认使用最新版本（版本号最大）。</p><h2 id="使用-APortal-管理工具"><a href="#使用-APortal-管理工具" class="headerlink" title="使用 APortal 管理工具"></a>使用 APortal 管理工具</h2><blockquote class="callout border-info bg-soft-info">              <p>安装好 <code>APortal.PowerShell</code> 模块后，就可以使用模块包中提供的命令对网站进行设置 APortal。下面介绍 APortal.PowerShell 模块中包含的可用命令。</p>            </blockquote><h3 id="Set-APortalWeb"><a href="#Set-APortalWeb" class="headerlink" title="Set-APortalWeb"></a>Set-APortalWeb</h3><blockquote class="callout border-info bg-soft-info">              <p>这是 <code>APortal.PowerShell</code> 模块中提供的最主要命令，用于设置SharePoint Online网站的 APortal 功能，会在用户输入的网站地址对应的网站上推送列表，网站资源，列表数据等一系列的网站数据。</p>            </blockquote><ol><li><p>输入命令</p> <figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 国际网站</span></span><br><span class="line"><span class="built_in">Set-APortalWeb</span> https://yourtenantname.sharepoint.com/sites/web/subweb</span><br><span class="line"><span class="comment"># 世纪互联网站</span></span><br><span class="line"><span class="built_in">Set-APortalWeb</span> https://yourtenantname.sharepoint.cn/sites/web/subweb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了提升安装速度，APortal.Powershell 安装资源包国内外分别存放了全量资源包，</span></span><br><span class="line"><span class="comment"># 根据当前网络环境用户可以选择安装时使用国内还是海外资源包。</span></span><br><span class="line"><span class="comment"># 不使用Globle 参数默认使用国内资源包。</span></span><br><span class="line"><span class="comment"># 以下是选择海外资源包的命令：</span></span><br><span class="line"><span class="built_in">Set-APortalWeb</span> https://yourtenantname.sharepoint.com/sites/web/subweb <span class="literal">-Globle</span></span><br></pre></td></tr></table></figure></li><li><p>在弹出的身份认证窗口中输入网站管理员身份信息</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/media/15779286287197/15779316086252.jpg' ></img></div></li><li><p>确认管理员身份后命令开始执行，直到推送结束</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/media/15779286287197/15779323142997.jpg' ></img></div></li></ol>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>准备</title>
      <link href="/aportal/docs/gettingstarted/preinstallation.html"/>
      <url>/aportal/docs/gettingstarted/preinstallation.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;开始之前，需要完成下列准备工作。</p><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><ul><li>一个基于Office 365 SharePoint Online平台的网站集（Site Collection），并拥有该网站集的管理员账号。</li><li>基于上条所述网站集创建了一个子网站用于承载APortal工作流平台相关的数据和页面。<blockquote class="callout border-info bg-soft-info">              <p>例如： <a href="https://YourCompanyName.SharePoint.com/sites/SiteCollectionName/workflow" target="_blank" rel="noopener external nofollow noreferrer">https://YourCompanyName.SharePoint.com/sites/SiteCollectionName/workflow</a></p>            </blockquote></li><li>一台安装Windows 10或Windows Server 2012以上操作系统，可运行Windows PowerShell，可连接Internet的计算机。</li><li>确定Windows PowerShell版本为5.0或5.1。</li><li>确定.Net Framework 版本为4.5或以上（不支持.Net Core）。</li></ul><h2 id="PowerShell-执行环境准备"><a href="#PowerShell-执行环境准备" class="headerlink" title="PowerShell 执行环境准备"></a>PowerShell 执行环境准备</h2><p>&emsp;&emsp;为了 APortal 命令行管理工具安装顺利，需要在安装前检查当前 PowerShell 执行环境一些参数，如下：</p><h3 id="TLS-设置"><a href="#TLS-设置" class="headerlink" title="TLS 设置"></a>TLS 设置</h3><p>&emsp;&emsp;从 2020 年 4 月开始，PowerShell Gallery 只支持 TLS 1.2 版本，参考 PowerShell 技术博客 <a href="https://devblogs.microsoft.com/powershell/powershell-gallery-tls-support/" target="_blank" rel="noopener external nofollow noreferrer">PowerShell Gallery TLS Support</a>。因此在执行安装 APortal 管理工具前需要设置当前执行环境的 TLS 版本为 1.2。</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">[<span class="type">Net.ServicePointManager</span>]::SecurityProtocol = [<span class="type">Net.SecurityProtocolType</span>]::Tls12</span><br></pre></td></tr></table></figure><h3 id="Execution-Policies-设置"><a href="#Execution-Policies-设置" class="headerlink" title="Execution Policies 设置"></a>Execution Policies 设置</h3><p>&emsp;&emsp;PowerShell Execution Policies 是一项安全功能，可控制 PowerShell 加载配置文件和运行脚本的条件。 此功能有助于防止执行恶意脚本。具体信息请参考: <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-7" target="_blank" rel="noopener external nofollow noreferrer">About Execution Policies</a>。</p><p>&emsp;&emsp;安装 APortal 管理工具需要设置当前用户的执行权限，具体代码如下：</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Set-ExecutionPolicy</span> <span class="literal">-Scope</span> CurrentUser <span class="literal">-ExecutionPolicy</span> RemoteSigned</span><br></pre></td></tr></table></figure><h3 id="IE-增强的安全配置设置"><a href="#IE-增强的安全配置设置" class="headerlink" title="IE 增强的安全配置设置"></a>IE 增强的安全配置设置</h3><p>&emsp;&emsp;在 Windows Server 上，为了降低服务器暴露于来自基于 Web 内容的潜在攻击的风险，默认情况下 IE 增加的安全配置处于开启状态， 不能通过 IE 浏览器 打开非信任的网页链接。安装 APortal 管理工具后，使用<code>Set-APortalWeb</code>命令设置 SharePoint Online 网站，需要使用 Web 登录，因此，需要关闭 IE 增强的安全配置，让浏览器能够打开您需要配置 APortal 的网站。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-09-10-42-26.png' ></img></div><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-07-09-10-49-36.png' ></img></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>工作流中心</title>
      <link href="/aportal/docs/introduction/center.html"/>
      <url>/aportal/docs/introduction/center.html</url>
      
        <content type="html"><![CDATA[<blockquote class="callout border-info bg-soft-info">              <p>APortal系统默认的工作流中心页面可以从下面的地址访问：网站URL/sitepages/workflowcenterhome.aspx 。</p>            </blockquote><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><p>&emsp;&emsp;工作流中心页面的标题部分包括左上角的企业图标和文字标题。其中企业图标存储在这个目录下：网站URL/siteassets/img，图片文件名为：”logo white.png”。可以根据需要使用企业图标替换 该文件。图片尺寸建议为：200（宽）x 50（高），透明背景。<br>&emsp;&emsp;文字标题为SharePoint网站的标题，可以在SharePoint网站设置页面中进行编辑。</p><h2 id="菜单和个人信息"><a href="#菜单和个人信息" class="headerlink" title="菜单和个人信息"></a>菜单和个人信息</h2><p>&emsp;&emsp;右上角为系统菜单，菜单信息存储在/Lists/SSF_Menu列表中。系统创建时，默认导入的菜单包括：</p><ul><li><strong>首页</strong></li><li><strong>系统设置</strong>  <blockquote class="callout border-info bg-soft-info">              <ul><li>工作流设计</li><li>组织结构设计</li><li>表单设计</li><li>系统管理</li><li>网站设置</li></ul>            </blockquote></li></ul><p>&emsp;&emsp;管理员可以在/Lists/SSF_Menu列表中根据实际业务需要对菜单进行添加和修改。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-12-40.png' ></img></div><ul><li><strong>标题/中文/英文</strong>  <blockquote class="callout border-info bg-soft-info">              <p>菜单标题，中英文标题在多语言环境下显示。</p>            </blockquote></li><li><strong>Url</strong>  <blockquote class="callout border-info bg-soft-info">              <p>菜单链接，可以填入相对路径或绝对路径；相对路径相对于SharePoint Online网站根站点，通常是：<a href="https://yourcompany.sharepoint.com" target="_blank" rel="noopener external nofollow noreferrer">https://yourcompany.sharepoint.com</a> 。</p>            </blockquote></li><li><strong>Display Order</strong>  <blockquote class="callout border-info bg-soft-info">              <p>显示顺序。</p>            </blockquote></li><li><strong>Parent Menu</strong>  <blockquote class="callout border-info bg-soft-info">              <p>上级菜单，系统可支持两级菜单选择。</p>            </blockquote></li><li><strong>Open in new window</strong>  <blockquote class="callout border-info bg-soft-info">              <p>是否在新窗口/标签页打开该链接。</p>            </blockquote></li></ul><blockquote class="callout border-danger bg-soft-danger">              <p>注：如果不希望将系统管理菜单公开给所有用户，通常可以使用SharePoint权限设置，将SSF_Menu中的相关条目的权限删除，仅网站集/网站管理员可见，或授权给特定的SharePoint用户组。</p>            </blockquote><p>&emsp;&emsp;通过点击页面右上角用户图标，在弹出层中将显示当前用户个人信息，包括用户的姓名，电子邮件，电话号码，职位名称，所属部门等。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-04-02-10-16-42.png' ></img></div><p>&emsp;&emsp;在个人信息弹出层中，用户可以从“简体中文/English”中选择自己需要的界面语言。点击“代理设置”可以设置工作流任务代理，参照《工作流中心/工作流任务代理》的说明。</p><h2 id="导航栏"><a href="#导航栏" class="headerlink" title="导航栏"></a>导航栏</h2><p>&emsp;&emsp;工作流中心左侧导航栏包含3个区域：</p><ul><li>待办任务</li><li>我的申请</li><li>可用工作流</li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-04-02-10-18-55.png' ></img></div><p>&emsp;&emsp;任务待办包含2个列表，分别是“待处理”和“已处理”。“待处理”是指需要当前用户审批的工作流任务，任务由工作流引擎根据流程进行创建和分发，用户在任务列表中可以看到自己的任务，点击链接可以打开任务进行处理。处理完成的任务可以到“已处理”列表中查询。<br>&emsp;&emsp;我的申请是指当前用户填写发起的所有流程单据，包含3个列表，分别是“草稿”、“进行中”和“已完成”。用户填写后没有提交，在表单上点击保存的单据，将出现在“草稿”列表中。用户可以从草稿列表找到已经填写的单据继续填写并提交，也可以删除草稿。提交后流程还未完成的单据显示在“进行中”列表下。流程已完成或终止的单据显示在“已完成”列表下。<br>&emsp;&emsp;系统管理员可以通过在系统参数（/Lists/SSF_Parameters）设置下面的参数控制是否在工作流中心页面的导航栏区域显示“任务待办”和“我的申请”。</p><p>&emsp;&emsp;可设置参数如下：</p><ul><li>SSF_ShowTask  <blockquote class="callout border-success bg-soft-success">              <p>控制是否显示“任务待办”。</p><ul><li>参数类别： 系统参数（值=1）</li><li>参数值类型： 是/否（值=5）</li></ul>            </blockquote></li><li>SSF_ShowApplication  <blockquote class="callout border-success bg-soft-success">              <p>控制是否显示“我的申请”。</p><ul><li>参数类别： 系统参数（值=1）</li><li>参数值类型： 是/否（值=5</li></ul>            </blockquote></li></ul><p>&emsp;&emsp;在“任务待办”和“我的申请”下方，根据当前系统中的工作流权限设置，显示当前用户有权限查看和发起的所有流程类别和流程。</p><h2 id="单据列表"><a href="#单据列表" class="headerlink" title="单据列表"></a>单据列表</h2><p>&emsp;&emsp;<strong>任务待办/待处理列</strong>表根据SSW_Workflow列表的SSPending视图和SSW_WorkflowTask列表的SSPending视图结合的视图显示。在SSW_Workflow.WorkflowNumber字段下显示可打开工作流表单的超链接。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-30-43.png' ></img></div><p>&emsp;&emsp;<strong>任务待办/已处理列表</strong>根据SSW_Workflow列表的SSProcessed视图和SSW_WorkflowTask列表的SSProcessed视图结合的视图显示。在SSW_Workflow.WorkflowNumber字段下显示可打开工作流表单的超链接。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-31-39.png' ></img></div><p>&emsp;&emsp;<strong>我的申请/草稿列表</strong>显示的是SSW_Workflow列表的SSDraft视图，在SSW_Workflow.WorkflowNumber字段下显示可打开工作流表单的超链接。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-32-30.png' ></img></div><p>&emsp;&emsp;<strong>我的申请/进行中列表</strong>显示的是SSW_Workflow列表的SSUnfinished视图，在SSW_Workflow.WorkflowNumber字段下显示可打开工作流表单的超链接。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-33-03.png' ></img></div><p>&emsp;&emsp;<strong>我的申请/已完成列表</strong>显示的是SSW_Workflow列表的SSFinished视图，在SSW_Workflow.WorkflowNumber字段下显示可打开工作流表单的超链接。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-34-13.png' ></img></div><p>&emsp;&emsp;工作流中心的单据列表中根据工作流设计器中设计的工作流或自定义列表显示相应的列表内容。</p><h2 id="工作流任务委派"><a href="#工作流任务委派" class="headerlink" title="工作流任务委派"></a>工作流任务委派</h2><p>&emsp;&emsp;在“任务待办/待处理”列表中，用户可以将未完成的任务委派给其他用户完成。进入列表后，选择需要委派的任务（1次只允许选择1行），点击列表上方的『委派』按钮，在弹出的任务委派窗口中选择被委派的用户后，点击『保存』按钮完成委派。一个任务可以同时委派给多个用户，被委派的用户处理该任务在系统中等同于原用户处理了该任务。<br>&emsp;&emsp;委派完成后，原任务从当前用户的待处理任务列表中消失，系统将重新生成任务并分配给被委派的一个或多个用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-39-21.png' ></img></div><h2 id="工作流任务代理"><a href="#工作流任务代理" class="headerlink" title="工作流任务代理"></a>工作流任务代理</h2><p>&emsp;&emsp;使用工作流任务代理功能，是的用户可以将系统分配给自己的工作流任务，在指定的时间范围内自动分配给其他的指定用户。<br>&emsp;&emsp;在工作流中心页面右上角点击用户图标，在弹出页面中选择“代理设置”，在弹出窗口中设置工作流任务代理。</p><ul><li><strong>用户</strong>  <blockquote class="callout border-success bg-soft-success">              <p>默认为当前用户，不可修改。</p>            </blockquote></li><li><strong>代理用户</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择需要将任务委派到的目标用户，可以多选。</p>            </blockquote></li><li><strong>开始日期</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择代理开始的日期，从该日期的0点开始生效。</p>            </blockquote></li><li><strong>结束日期</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择代理结束的日期，到该日期的0点截止失效。</p>            </blockquote></li><li><strong>工作流类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择需要进行自动委派的工作流类型。</p>            </blockquote></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>文字说明。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-10-41-40.png' ></img></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>自定义开发</title>
      <link href="/aportal/docs/introduction/development.html"/>
      <url>/aportal/docs/introduction/development.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>使用详解</title>
      <link href="/aportal/docs/introduction/index.html"/>
      <url>/aportal/docs/introduction/index.html</url>
      
        <content type="html"><![CDATA[<p>本节包含以下内容：</p><ul><li><a href="orgchart.html">组织结构管理</a></li><li><a href="workflow.html">工作流设计</a></li><li><a href="form.html">表单设计</a></li><li><a href="center.html">工作流中心</a></li><li><a href="weapp.md">微信小程序</a></li><li><a href="admin.html">系统管理</a></li></ul>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序</title>
      <link href="/aportal/docs/introduction/weapp.html"/>
      <url>/aportal/docs/introduction/weapp.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;APortal用户可以使用APortal微信小程序随时查询和自己相关的任务、单据信息，并对待办任务进行审批处理。</p><h2 id="APortal小程序入口"><a href="#APortal小程序入口" class="headerlink" title="APortal小程序入口"></a>APortal小程序入口</h2><p>&emsp;&emsp;通过个人微信搜索公众号 <span class="p-1 rounded mb-2 bg-primary text-white">APortal工作流平台</span>，关注并进入公众号。在公众号右下角点击 <span class="p-1 rounded mb-2 bg-primary text-white">关于我们</span> 菜单项，在弹出的子菜单中选择 <span class="p-1 rounded mb-2 bg-primary text-white">小程序入口</span>，即可进入APortal小程序。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-29-57.png' ></img></div><h2 id="小程序登录"><a href="#小程序登录" class="headerlink" title="小程序登录"></a>小程序登录</h2><p>&emsp;&emsp;首次进入APortal小程序时，用户需要使用本人的手机号码进行验证，以便小程序将用户微信帐号和APortal平台上的用户身份进行关联。进行验证的手机号码需要和APortal系统中登记的手机号码一致。</p><h3 id="手机号码登记"><a href="#手机号码登记" class="headerlink" title="手机号码登记"></a>手机号码登记</h3><p>&emsp;&emsp;用户如果在APortal中还没有登记过手机号码，可以通过浏览器登录APortal系统，点击右上角用户图标，在弹出 <span class="p-1 rounded mb-2 bg-primary text-white">我的账户</span> 的页面点击编辑按钮，在弹出的个人账户信息页面中输入手机号码并保存。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-07-11-09-34-24.png' ></img></div><h3 id="小程序登录-1"><a href="#小程序登录-1" class="headerlink" title="小程序登录"></a>小程序登录</h3><p>&emsp;&emsp;首次登录小程序时，用户将被导向APortal小程序验证页面。在APortal小程序验证页面输入手机号码后，点击 <span class="p-1 rounded mb-2 bg-primary text-white">获取验证码</span> 按钮，验证码系统将向该手机号码发送验证码。用户输入正确的验证码后，点击 <span class="p-1 rounded mb-2 bg-primary text-white">验证</span> 按钮。如果通过验证，则小程序页面转向 <span class="p-1 rounded mb-2 bg-primary text-white">我的任务</span> 。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-36-14.png' ></img></div><p>已经通过验证的手机再次登录小程序时，无需再次验证。如果要退出当前的用户登录，可以在小程序的设置页面点击 <span class="p-1 rounded mb-2 bg-danger text-white">注销</span> 按钮。</p><h2 id="小程序操作"><a href="#小程序操作" class="headerlink" title="小程序操作"></a>小程序操作</h2><p>&emsp;&emsp;APortal小程序分为3个主要功能区域，通过点击页面下方的三个标签页进行功能切换：</p><ul><li>我的任务 – 用户在APortal平台上的待审批任务列表，根据任务状态区分为 <span class="p-1 rounded mb-2 bg-primary text-white">待审批</span> 和 <span class="p-1 rounded mb-2 bg-primary text-white">已审批</span> 两个部分。</li><li>我的单据 – 用户在APortal平台提交的所有单据列表，根据单据状态分为 <span class="p-1 rounded mb-2 bg-primary text-white">进行中</span> 和 <span class="p-1 rounded mb-2 bg-primary text-white">已完成</span>。</li><li>设置 – 小程序功能设置。</li></ul><h4 id="我的任务"><a href="#我的任务" class="headerlink" title="我的任务"></a>我的任务</h4><p>&emsp;&emsp;在我的任务页面中，用户可以查看等待自己审批的单据，或是已经审批过的单据。进入我的任务页面时，默认列出等待当前用户审批的所有单据。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-39-08.png' ></img></div><p>&emsp;&emsp;在 <span class="p-1 rounded mb-2 bg-primary text-white">我的任务</span> 页面，用户可以通过点击左上角的菜单按钮，在弹出菜单中选择 <span class="p-1 rounded mb-2 bg-primary text-white">我的任务/已审批</span> 进入已审批任务列表页面。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-48-33.png' ></img></div><p>&emsp;&emsp;用户可以点击单据区块打开页面中查看单据详情，并进行审批操作。单据详情页面中包含3个区域：</p><h5 id="单据信息"><a href="#单据信息" class="headerlink" title="单据信息"></a>单据信息</h5><blockquote class="callout border-info bg-soft-info">              <p>包含单据主表信息。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-40-13.png' ></img></div><h5 id="明细"><a href="#明细" class="headerlink" title="明细"></a>明细</h5><blockquote class="callout border-info bg-soft-info">              <p>如果该单据包含明细信息，则在明细区域列出单据所有的明细信息供审批人员查看。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-42-07.png' ></img></div><h5 id="工作流"><a href="#工作流" class="headerlink" title="工作流"></a>工作流</h5><blockquote class="callout border-info bg-soft-info">              <p>和单据相关的工作流流转信息，用户可以查看在自己之前其他审批人员提交的审批意见。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-43-14.png' ></img></div><p>&emsp;&emsp;审批用户可以点击页面下方的 <span class="p-1 rounded mb-2 bg-primary text-white">同意</span> 或 <span class="p-1 rounded mb-2 bg-danger text-white">拒绝</span> 或其他按钮（根据流程设置出现），对单据进行审批处理。在弹出窗口内输入审批意见（可选）后点击 <span class="p-1 rounded mb-2 bg-primary text-white">确定</span> 按钮提交审批。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-44-51.png' ></img></div><h4 id="我的单据"><a href="#我的单据" class="headerlink" title="我的单据"></a>我的单据</h4><p>&emsp;&emsp;在我的单据页面上列出当前用户提交的所有单据，根据单据状态分为 <span class="p-1 rounded mb-2 bg-primary text-white">进行中</span> 和 <span class="p-1 rounded mb-2 bg-primary text-white">已完成</span> 两个部分，进入 <span class="p-1 rounded mb-2 bg-primary text-white">我的单据</span> 列表时默认显示进行中的单据。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-51-12.png' ></img></div><p>&emsp;&emsp;在列表中点击单据进入单据详情页面查看单据信息，单据信息页面包含单据主表信息，明细信息（如果有）和工作流信息3个区域。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-52-06.png' ></img></div><p>&emsp;&emsp;在我的单据页面左上角点击菜单按钮，选择 <span class="p-1 rounded mb-2 bg-primary text-white">已完成单据</span>，可切换到已完成单据列表页面，列出所有当前用户提交，且单据状态为已完成的单据。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-52-53.png' ></img></div><h2 id="小程序设置"><a href="#小程序设置" class="headerlink" title="小程序设置"></a>小程序设置</h2><p>&emsp;&emsp;在APortal小程序中点击 <span class="p-1 rounded mb-2 bg-primary text-white">设置</span> 标签，进入 <span class="p-1 rounded mb-2 bg-primary text-white">设置</span> 页面。在我的信息页面中列出当前用户的主要信息。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-54-20.png' ></img></div><h4 id="切换语言"><a href="#切换语言" class="headerlink" title="切换语言"></a>切换语言</h4><p>&emsp;&emsp;如果需要切换界面语言，可点击 <span class="p-1 rounded mb-2 bg-primary text-white">语言</span> 按钮，从页面下方显示的中文/英文中选择需要的界面语言。选择后，APortal小程序的界面语言随之切换。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-55-47.png' ></img></div><h4 id="帐号注销"><a href="#帐号注销" class="headerlink" title="帐号注销"></a>帐号注销</h4><p>&emsp;&emsp;如果需要从当前帐号注销，可点击 <span class="p-1 rounded mb-2 bg-primary text-white">我的信息</span> 页面下方的 <span class="p-1 rounded mb-2 bg-primary text-white">注销</span> 按钮，确认后可从当前帐号注销.</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-07-11-09-57-14.png' ></img></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>设计表单</title>
      <link href="/aportal/docs/thefirstworkflow/designform.html"/>
      <url>/aportal/docs/thefirstworkflow/designform.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;打开APortal表单设计器，访问地址为：</p><blockquote class="callout border-info bg-soft-info">              <p>站点URL/designer/designer.aspx</p>            </blockquote><p>&emsp;&emsp;在表单设计器中选择刚创建的列表：SS_Expense，在左侧将出现APortal默认安装包含的名为Expense的表单，点击该表单名称后在右侧显示已经配置好的表单设计页面，如下图：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-44-14.png' ></img></div><p>&emsp;&emsp;点击 <span class="p-1 rounded mb-2 bg-primary text-white">表单属性</span> 按钮，查看表单属性：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-45-55.png' ></img></div><ul><li>FormId – 表单ID，该ID在系统中必须唯一，用于和工作流进行关联；建议使用相关的工作流类型ID作为后缀；</li><li>isWorkflowForm – 标记该表单是否和工作流关联，如果设置为否，则表单页面上将不能选择工作流字段；</li><li>Width – 表单宽度，可以设置百分比（%）或绝对宽度（以px为单位）；</li><li>autoClose – 设置页面提示信息的自动关闭时间，以毫秒为单位，默认值为5秒（5000）；</li><li>position – 设置页面提示信息的出现位置；</li><li>Global Js – 显示系统默认提供的通用脚本，表单自定义代码可引用该脚本。</li></ul><p>&emsp;&emsp;审批控件，用于工作流审批操作：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-47-40.png' ></img></div><p>&emsp;&emsp;费用报销标签，包含工作流字段和表单信息： </p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-48-14.png' ></img></div><p>&emsp;&emsp;工作流信息在单据提交后自动生成，包含下列字段：</p><ul><li>工作流编号</li><li>申请人</li><li>提交时间</li><li>申请进度</li></ul><p>&emsp;&emsp;表单信息，包含下列字段：</p><ul><li>标题 – 对应Title字段</li><li>备注 – 对应Remark字段</li><li>附件 – 对应SSF_Attachment_1字段<div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-49-28.png' ></img></div></li></ul><p>&emsp;&emsp;费用明细标签，包含下列内容：</p><ul><li>费用明细列表，用于保存具体的费用信息；</li><li>费用明细表单，包含标题、费用类型、费用日期、金额、费用说明等，如下图所示：<div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-50-45.png' ></img></div></li><li>金额 – 明细表单的金额合计值，使用页面脚本代码实现；</li><li>大写金额 – 金额转为中文大写，使用页面脚本代码实现；</li></ul><p>&emsp;&emsp;审批历史，在已提交的流程单据上显示单据提交后到目前为止的审批节点、审批用户以及相关的开始、结束时间和审核操作，审核意见，审批人员上传的附件（如果有）等信息，如下图：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-51-30.png' ></img></div><p>&emsp;&emsp;表单设计、调整完成后，点击『保存表单』按钮，当页面上方出现保存表单表单成功的提示信息时，表示表单设计已经保存。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-07-10-12-52-03.png' ></img></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>设计流程并发布</title>
      <link href="/aportal/docs/thefirstworkflow/designworkflow.html"/>
      <url>/aportal/docs/thefirstworkflow/designworkflow.html</url>
      
        <content type="html"><![CDATA[<h2 id="设计流程"><a href="#设计流程" class="headerlink" title="设计流程"></a>设计流程</h2><p>&emsp;&emsp;通过下面的URL打开部署在当前站点的流程设计器：</p><blockquote class="callout border-info bg-soft-info">              <p>站点URL/sitepages/workflowdesigner.aspx</p>            </blockquote><h3 id="工作流设置"><a href="#工作流设置" class="headerlink" title="工作流设置"></a>工作流设置</h3><p>&emsp;&emsp;进入流程设计器后，点击左侧导航栏：常用流程-费用报销，右侧页面中将显示费用报销流程相关信息。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-53-56.png' ></img></div><h4 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h4><ul><li>标题 – 费用报销</li><li>中文标题 – 费用报销</li><li>英文标题 – Expense</li><li>日文标题 – 空白，如果需要可编辑补充；</li><li>工作流类型 – 常用流程，如果需要可编辑选择；</li><li>工作流类型ID – 1002，如果需要可编辑，注意该ID在当前站点的所有工作流中需保持唯一；</li><li>当前版本 – 费用报销V1；</li><li>SEQFormat，SEQKeyFormat – 工作流编号生成规则，均为空白，默认生成规则为『流程缩写-6位数年月-6位流水号』，例如：EXP-202006-000001，其中的流水号以年月为单位进行重置；</li><li>备注</li></ul><h4 id="权限设定"><a href="#权限设定" class="headerlink" title="权限设定"></a>权限设定</h4><ul><li>可编辑公司 – 如果选择可编辑公司，则代表全公司用户均可以在系统中发起这个流程；</li><li>可编辑部门 – 属于被选择部门的用户可以发起这个流程；</li><li>可编辑角色 – 属于被选择角色的用户可以发起这个流程；</li><li>可查看角色 – 属于被选择角色的用户可以查看到和自己相关（发起、审批、审阅或被分享）的所有流程单据；</li><li>部门查看角色 – 属于被选择角色的用户可以查看到属于自己部门的所有流程单据；</li><li>部门和子部门查看角色 – 属于被选择角色的用户可以查看到属于自己部门以及所有下属子部门的所有流程单据；</li><li>公司查看角色 – 属于被选择角色的用户可以看到全公司所有流程单据。</li></ul><h4 id="重定向设置"><a href="#重定向设置" class="headerlink" title="重定向设置"></a>重定向设置</h4><ul><li>链接类型 – 工作流列表；</li><li>链接属性 – 设置工作流列表显示视图为SSFormView_1002，在工作流列表中可进行搜索的字段：<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">"DisplayView"</span>:<span class="string">"SSFormView_1002"</span>,<span class="attr">"SearchFields"</span>:<span class="string">"SSW_WorkflowNumber,SSW_Applicant_Text,SSW_CurrentStatus_Text,Title"</span>&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="工作流版本"><a href="#工作流版本" class="headerlink" title="工作流版本"></a>工作流版本</h3><p>&emsp;&emsp;流程信息查看/编辑完成后，点击左侧导航栏：常用流程-费用报销-费用报销V1，在右侧内容区域将显示当前选择的流程图形，如下图：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-58-50.png' ></img></div><p>&emsp;&emsp;点击页面上方的编辑按钮，在弹出窗口中显示工作流版本信息：</p><h4 id="基本信息-1"><a href="#基本信息-1" class="headerlink" title="基本信息"></a>基本信息</h4><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-12-59-40.png' ></img></div><ul><li>标题</li><li>中文标题</li><li>英文标题</li><li>日文标题</li><li>工作流类型 – 费用报销</li><li>工作流版本 – 1，工作流版本号码每次发布新版本时自动升级；</li><li>流程缩写 – EXP，流程缩写用于生成单据编号时作为前缀使用，例如：EXP-202006-000001；</li><li>FormURL – Form_1002，此处填写表单设计器中设计的表单的表单ID；</li><li>子表链接（SubListURL）– 如果需要在工作流列表上导出列表数据时同时将关联的子表数据导出，则配置这个参数，例如：/Lists/SS_ExpenseDetail；</li><li>备注</li></ul><h4 id="审批任务提醒"><a href="#审批任务提醒" class="headerlink" title="审批任务提醒"></a>审批任务提醒</h4><p>&emsp;&emsp;设置当前流程用于审批任务提醒的邮件标题和邮件内容模板，如果不设置则引用系统参数列表（/Lists/SSF_Parameters）中设置的SSW_ApprovalEmailSubject和SSW_ApprovalEmailBody参数作为默认的审批任务提醒邮件模板。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-13-00-50.png' ></img></div><h4 id="审批超时提醒"><a href="#审批超时提醒" class="headerlink" title="审批超时提醒"></a>审批超时提醒</h4><p>&emsp;&emsp;设置当前流程用于审批任务超时提醒的邮件标题和邮件内容模板，如果不设置则引用系统参数列表（/Lists/SSF_Parameters）中设置的SSW_ApprovalEmailSubject和SSW_ApprovalEmailBody参数作为默认的审批任务超时提醒邮件模板。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-13-02-11.png' ></img></div><h4 id="流程节点设置"><a href="#流程节点设置" class="headerlink" title="流程节点设置"></a>流程节点设置</h4><ul><li>启动节点 – 节点角色定义为『发起人』；</li><li>直线经理审批 – 节点角色定义为『发起人的直线经理』；</li><li>是否需要二级审批 – 逻辑判断节点，判断单据总金额是否大于5000，如果大于5000（逻辑判断公式：$SYW.Amount&gt;5000）则需二级审批，否则（逻辑判断公式：$SYW.Amount&lt;=5000）审批结束；</li><li>二级审批 – 节点角色定义为『最后审批人的直线经理』，根据流程设置，前一个审批人为发起人的直线经理，因此这个设置代表发起人的上两级经理；此外，将二级审批的同意分支设置为默认分支，如果当前节点审批人为空（发起人的上两级经理不存在），则自动跳过二级审批节点；</li><li>通知申请人 – 节点角色定义为『发起人』，在审批结束后给流程发起人发送通知邮件；</li><li>结束节点 – 流程结束</li></ul><h2 id="发布流程"><a href="#发布流程" class="headerlink" title="发布流程"></a>发布流程</h2><p>流程定义完成后，点击 <span class="p-1 rounded mb-2 bg-primary text-white">发布</span> 按钮，将当前流程定义发布为费用报销流程的最新版本：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-13-04-21.png' ></img></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>第一支流程</title>
      <link href="/aportal/docs/thefirstworkflow/index.html"/>
      <url>/aportal/docs/thefirstworkflow/index.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;完成了前述的准备工作后，接下来开始完成创建列表、设计表单、设计流程、创建并提交第一个流程单据。<br>&emsp;&emsp;APortal的安装包在系统中已经默认安装了3个流程相关的列表、流程设计、表单设计，包括：</p><ul><li>测试流程，流程类型ID=1000，对应的列表包括SS_Form和SS_FormDetail。</li><li>休假申请流程，流程类型ID=1001，对应列表为SS_Leave。</li><li>费用报销流程，流程类型ID=1002，对应列表为SS_Expense和SS_ExpenseDetail。</li></ul><p>本节以 <code>费用报销流程</code> 为例，完整介绍如何从列表定义开始实施一个APortal流程。</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>提交流程</title>
      <link href="/aportal/docs/thefirstworkflow/submitworkflow.html"/>
      <url>/aportal/docs/thefirstworkflow/submitworkflow.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;从下面的URL登录工作流中心页面：</p><blockquote class="callout border-info bg-soft-info">              <p>站点URL/sitepages/workflowcenterhome.aspx#/home/SSW4</p>            </blockquote><p>&emsp;&emsp;从左侧导航栏点击 <span class="p-1 rounded mb-2 bg-primary text-white">常用流程-费用报销</span> 进入费用报销列表后，点击列表上方的 <span class="p-1 rounded mb-2 bg-primary text-white">+新建</span> 按钮，在弹出窗口中填写费用报销单据：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-13-17-10.png' ></img></div><p>&emsp;&emsp;单据信息填写完成后，点击 <span class="p-1 rounded mb-2 bg-primary text-white">提交</span> 按钮提交该单据（也可以点击 <span class="p-1 rounded mb-2 bg-primary text-white">保存</span> 按钮将单据保存为草稿，等待下次继续填写）。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-07-10-13-17-38.png' ></img></div><p>&emsp;&emsp;提交成功后，单据进入Starting状态，等待APortal工作流引擎启动该流程，并根据流程节点的设计驱动流程运转。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-07-10-13-18-25.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>至此，APortal的第一个流程的设计、创建、提交已经全部完成。</p>            </blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>组织结构管理</title>
      <link href="/aportal/docs/introduction/orgchart.html"/>
      <url>/aportal/docs/introduction/orgchart.html</url>
      
        <content type="html"><![CDATA[<blockquote class="callout border-info bg-soft-info">              <p>组织结构以 “公司-部门-子部门-子子部门-……-用户” 的树状结构管理企业的公司、部门结构和用户信息。为确保用户正常使用，<span class="p-1 rounded mb-2 bg-danger text-white">必须</span>为每个用户在组织结构中设置一个默认的所属部门，每个用户均可以从属于多个部门角色。</p>            </blockquote><h2 id="公司设置"><a href="#公司设置" class="headerlink" title="公司设置"></a>公司设置</h2><p>&emsp;&emsp;系统初始化时将在组织结构中创建一个唯一的公司，组织结构下所有的部门、子部门等等都以该公司为顶级公司。在组织组织结构页面左侧的组织结构树中选择公司，并点击页面上的<span class="p-1 rounded mb-2 bg-primary text-white">编辑</span>按钮，可以编辑公司名称。</p><h2 id="部门设置"><a href="#部门设置" class="headerlink" title="部门设置"></a>部门设置</h2><p>&emsp;&emsp;系统初始化时，系统将默认设置一个顶级部门，从属于默认的公司。用户可以在公司下创建其他的顶级部门，或在顶级部门下创建子部门。<br>&emsp;&emsp;在左侧导航栏中选择公司，并点击 <span class="p-1 rounded mb-2 bg-primary text-white">新增</span>- <span class="p-1 rounded mb-2 bg-primary text-white">新增部门</span> 按钮，在弹出窗口中创建新的顶级部门。顶级部门的上级部门为空，公司由系统默认设置为系统中的唯一公司，不允许修改。<br>&emsp;&emsp;创建顶级部门完成后，可以在左侧导航栏中选择顶级部门节点，继续创建子部门。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-15-34-36.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>注1：在整个组织结构中，所有部门名称必须唯一，不允许重复</p>            </blockquote><h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h3 id="用户列表"><a href="#用户列表" class="headerlink" title="用户列表"></a>用户列表</h3><p>&emsp;&emsp;在组织结构树中点击部门节点时，在右侧列表中显示默认部门从属于该部门的所有用户信息。点击公司节点时，显示公司所有用户信息。<br>&emsp;&emsp;在用户列表上方的搜索框中输入用户名、电子邮件、电话号码等信息，可以对用户信息进行检索，检索结果将在用户列表中显示。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-36-06.png' ></img></div><h3 id="新增-编辑-删除用户"><a href="#新增-编辑-删除用户" class="headerlink" title="新增/编辑/删除用户"></a>新增/编辑/删除用户</h3><p>&emsp;&emsp;在人员列表上方点击“新增-新增用户”按钮，开始在系统中创建新用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-37-38.png' ></img></div><p>&emsp;&emsp;在用户列表中选择某条用户后，点击列表上方的『编辑』按钮，在弹出窗口中对用户信息进行编辑。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-38-20.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>注1：在整个组织结构中，所有用户的登录名必须唯一，不允许重复；<br>注2：人员信息编辑页面显示的字段名称和顺序根据系统人员列表的<ssadmindata>视图决定，系统管理员可以根据实际业务需求在系统后台进行设置</p>            </blockquote><h3 id="导入-导出用户"><a href="#导入-导出用户" class="headerlink" title="导入/导出用户"></a>导入/导出用户</h3><h4 id="用户信息导入"><a href="#用户信息导入" class="headerlink" title="用户信息导入"></a>用户信息导入</h4><p>&emsp;&emsp;组织结构中可以以Excel文件形式批量导入用户。导入用户前，在用户列表上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">导入</span> 按钮，在弹出窗口中点击 <span class="p-1 rounded mb-2 bg-danger text-white">模板下载</span> 超链接下载用于用户信息导入的Excel模板。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-38-58.png' ></img></div><p>&emsp;&emsp;打开下载的Excel模板，在模板中填写需要导入的内容，随后再次点击『导入』按钮，并选择编辑后的Excel文件进行导入。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-39-38.png' ></img></div><blockquote class="callout border-danger bg-soft-danger">              <p>注1：Excel导入文件中，必须填写的字段包括“标题 – 用户姓名”，”Login Name – 登录帐号”，“Department – 所属部门”等；其中“Login Name – 登录帐号”不允许重复，如果重复系统将作为同一个用户导入，也就是说以最后一条导入的相同的Login Name的数据作为该用户的用户信息；<br>注2：用户导入/导出Excel模板中包含的字段名和顺序由用户列表的<SSExportData>视图决定</p>            </blockquote><h4 id="用户信息导出"><a href="#用户信息导出" class="headerlink" title="用户信息导出"></a>用户信息导出</h4><p>&emsp;&emsp;在组织结构树中点击任意部门节点后，在右侧的用户列表中将列出该部门下的所有用户信息。点击用户信息列表上方的 <span class="p-1 rounded mb-2 bg-danger text-white">导出</span> 按钮，可以将该部门下的所有用户信息导出到Excel模板中。<br>&emsp;&emsp;在组织结构树中选择公司节点，再进行导出操作时，将导出组织结构中包含的所有用户信息。<br>&emsp;&emsp;导出的用户信息Excel文件也可以用户导入并批量更新用户信息。用户可以在导出的Excel文件中进行修改，随后执行导入操作。</p><h2 id="用户角色管理"><a href="#用户角色管理" class="headerlink" title="用户角色管理"></a>用户角色管理</h2><p>&emsp;&emsp;在组织结构的各个部门节点上，根据实际业务流程需求将用户组织成为不同的组，用于工作流的权限设置和审批、审阅流程节点设置。例如，在某个部门节点上设置“财务控制”角色，在流程设计过程中可以将相关的财务审核审批权限设置给这个角色，和该部门相关的流程可以自动流转到属于该角色的用户名下了。这种基于部门组织结构的用户分组操作就是用户角色管理。<br>&emsp;&emsp;系统中存在的所有角色名称都在SSO_Role列表中进行管理，该列表可以由管理员在后台管理。也可以由管理员将列表设置在系统提供的管理页面中，并授权给相关人员进行管理。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：角色名称在整个系统中应唯一，不允许重复的角色名称。</p>            </blockquote><p>&emsp;&emsp;角色列表完成后，可以将角色和部门、用户进行关联。在左侧的组织结构树中选择某个部门节点，在右侧用户列表上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">角色</span> 按钮，在弹出的“部门角色管理 – 部门名称”窗口中将显示所选择的部门节点上所有已经存在角色和相关用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-40-24.png' ></img></div><p>&emsp;&emsp;在“部门角色管理”窗口中点击 <span class="p-1 rounded mb-2 bg-danger text-white">新建</span> 按钮，可以开始为当前部门创建一个新的角色。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-40-47.png' ></img></div><p>&emsp;&emsp;在弹出的“部门角色用户管理 – 部门名称 – 新建”窗口右上方的角色名称列表中选择当前需要为该部门创建的角色名，随后点击左侧的 <span class="p-1 rounded mb-2 bg-danger text-white">添加用户</span> 按钮。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-41-13.png' ></img></div><p>&emsp;&emsp;在“用户选择”窗口左侧树中展开选择部门节点，或在上方搜索框中输入用户姓名、邮箱等信息进行检索，然后在右侧出现的部门用户列表中选择需要添加的用户。可以添加1个或多个用户，随后点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存并返回上一个页面。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-41-37.png' ></img></div><p>&emsp;&emsp;在“部门角色用户管理 – 部门名称 – 新建”窗口中将出现在前一个窗口中搜索并选择添加的用户列表。可以选择某个用户并点击 <span class="p-1 rounded mb-2 bg-danger text-white">移除用户</span> 按钮将该用户从当前角色中删除，或者点击 <span class="p-1 rounded mb-2 bg-danger text-white">添加用户</span> 用户按钮继续添加其他用户。完成角色用户的添加或删除操作后，可点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存当前的设置并退回上一窗口。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-42-04.png' ></img></div><p>&emsp;&emsp;在“部门角色管理 – 部门名称”窗口中列出了在前一窗口中设置的角色名和设置在该角色下的用户名。用户可以在列表中选择该角色，点击上方的 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮对角色用户信息进行编辑，或点击 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮将当前选择的角色用户信息删除。<br>&emsp;&emsp;点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮可关闭当前的“部门角色管理 – 部门名称”窗口。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：系统仅支持角色和部门进行关联，不支持角色和公司关联。如果需要设置全公司的角色，可以在公司下设置一个顶级部门，并将公司范围的角色与该顶级部门关联。</p>            </blockquote><p>&emsp;&emsp;在APortal系统中，每个用户都可以和多个用户角色关联，从而在不同的流程中，或同一个流程的不同节点被分配相应的权限。</p><h2 id="用户组管理"><a href="#用户组管理" class="headerlink" title="用户组管理"></a>用户组管理</h2><p>&emsp;&emsp;用户组是对用户信息的另一种组织方式，相对于用户角色来说，用户组可以理解为是一种不关联任何部门节点的角色。每个用户都可以设置属于多个用户组。用户组也可用于工作流节点的审批人设置和授权。<br>&emsp;&emsp;在左侧导航上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">用户组</span>，进入用户组显示和管理界面。左侧导航栏中将显示当前系统中已经创建的所有用户组列表。点击 <span class="p-1 rounded mb-2 bg-danger text-white">新建组</span> 按钮可创建新的组。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-27-23-42-47.png' ></img></div><p>&emsp;&emsp;组名称填写完成后点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存并关闭新建组弹出窗口。选中组后可以点击 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮对组名称进行修改，或点击 <span class="p-1 rounded mb-2 bg-danger text-white">添加用户</span> 按钮在当前选中的组中增加用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-43-18.png' ></img></div><p>&emsp;&emsp;在用户选择窗口中输入关键字搜索用户，或通过左侧树状部门结构查找并选择用户后，点击 <span class="p-1 rounded mb-2 bg-danger text-white">确定</span> 按钮保存需要添加到用户组的所有用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-43-47.png' ></img></div><p>&emsp;&emsp;在用户列表中选择需要移除的用户，点击 <span class="p-1 rounded mb-2 bg-danger text-white">移除用户</span> 按钮将用户从当前组中移除。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：组名称在系统中必须唯一，不允许重复。</p>            </blockquote>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>创建列表</title>
      <link href="/aportal/docs/thefirstworkflow/createlist.html"/>
      <url>/aportal/docs/thefirstworkflow/createlist.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;首先需根据实际业务需求在SharePoint站点中创建数据列表，用于关联表单存储业务数据。以企业中最常见的费用报销流程为例，在APortal安装过程中已经默认在站点中创建了一个名字为SS_Expense的列表，包含下列字段信息：</p><table style="width: 100%; border: 2px solid rgba(119,131,143,.1); margin-bottom: 20px;">    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>字段名称</b></td>        <td style="border: 2px solid rgba(119,131,143,.1); width: 20%;"><b>字段类型</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>字段属性</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>说明</b></td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">Title</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255字符</td>        <td style="border: 2px solid rgba(119,131,143,.1);">报销单据的标题</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">Amount</td>        <td style="border: 2px solid rgba(119,131,143,.1);">数字</td>        <td style="border: 2px solid rgba(119,131,143,.1);">2位小数</td>        <td style="border: 2px solid rgba(119,131,143,.1);">报销单据的合计金额</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">AmountInChinese</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255字符</td>        <td style="border: 2px solid rgba(119,131,143,.1);">报销合计金额的中文大写</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">Remark</td>        <td style="border: 2px solid rgba(119,131,143,.1);">多行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">纯文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">输入对于报销单据的说明信息</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSF_Attachment_1</td>        <td style="border: 2px solid rgba(119,131,143,.1);">多行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">纯文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">报销单据附件文档</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_WorkflowNumber</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单据编号</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_Applicant_Text</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255字符</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_CurrentStatus_Text</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255字符</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单据状态文本值</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_CurrentStatus</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单值查阅项</td>        <td style="border: 2px solid rgba(119,131,143,.1);">SSF_ApplicationStatus</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单据状态</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_Department_Text</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255字符</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单据所属的部门名称</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_WorkflowCategory_Text</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255字符</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单据类型</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_SubmitTime</td>        <td style="border: 2px solid rgba(119,131,143,.1);">日期+时间</td>        <td style="border: 2px solid rgba(119,131,143,.1);"></td>        <td style="border: 2px solid rgba(119,131,143,.1);">保存单据提交时间</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSOwner</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单值查阅项</td>        <td style="border: 2px solid rgba(119,131,143,.1);">SSO_User</td>        <td style="border: 2px solid rgba(119,131,143,.1);">创建单据的用户</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_Viewer</td>        <td style="border: 2px solid rgba(119,131,143,.1);">多值查阅项</td>        <td style="border: 2px solid rgba(119,131,143,.1);">SSO_User</td>        <td style="border: 2px solid rgba(119,131,143,.1);">所有对单据拥有查看权限的用户</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_Workflow_1002</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单值查阅项</td>        <td style="border: 2px solid rgba(119,131,143,.1);">SSW_Workflow</td>        <td style="border: 2px solid rgba(119,131,143,.1);">关联对应的流程数据，其中的『工作流类型ID』应使用实际的工作流类型ID取代。例如工作流类型ID为1002，则这个字段的名称就应设置为SSW_Workflow_1002</td>    </tr></table><p>&emsp;&emsp;接下来是SS_ExpenseDetail列表，用于存储相关的费用报销单据的明细信息，字段说明如下：</p><table style="width: 100%; border: 2px solid rgba(119,131,143,.1); margin-bottom: 20px;">    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>字段名称</b></td>        <td style="border: 2px solid rgba(119,131,143,.1); width: 20%;"><b>字段类型</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>字段属性</b></td>        <td style="border: 2px solid rgba(119,131,143,.1);"><b>说明</b></td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">Title</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">255字符</td>        <td style="border: 2px solid rgba(119,131,143,.1);">报销明细标题</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">ExpenseDate</td>        <td style="border: 2px solid rgba(119,131,143,.1);">日期</td>        <td style="border: 2px solid rgba(119,131,143,.1);"></td>        <td style="border: 2px solid rgba(119,131,143,.1);">费用发生的日期</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">ExpenseType</td>        <td style="border: 2px solid rgba(119,131,143,.1);">选择</td>        <td style="border: 2px solid rgba(119,131,143,.1);"></td>        <td style="border: 2px solid rgba(119,131,143,.1);">根据实际业务确定选项，例如：误餐费，市内交通费，招待费，其他，等等…</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">Amount</td>        <td style="border: 2px solid rgba(119,131,143,.1);">数字</td>        <td style="border: 2px solid rgba(119,131,143,.1);">2位小数</td>        <td style="border: 2px solid rgba(119,131,143,.1);">报销单据的明细金额</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">Description</td>        <td style="border: 2px solid rgba(119,131,143,.1);">多行文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">纯文本</td>        <td style="border: 2px solid rgba(119,131,143,.1);">报销明细说明</td>    </tr>    <tr>        <td style="border: 2px solid rgba(119,131,143,.1);">S2_SS_Expense</td>        <td style="border: 2px solid rgba(119,131,143,.1);">单值查阅项</td>        <td style="border: 2px solid rgba(119,131,143,.1);">SS_Expense</td>        <td style="border: 2px solid rgba(119,131,143,.1);">用于关联相应的费用报销单据主表，该字段由系统自动创建</td>    </tr></table><p>&emsp;&emsp;列表创建完成后，在列表中创建视图用于后续的表单设计和工作流中心展现。在SS_Expense列表上创建名称为：SSFormView_工作流类型ID的字段，例如工作流类型设置为1002，则视图名称为：SSFormView_1002，视图包含字段和顺序如下：</p><ul><li>SSW_WorkflowNumber</li><li>SSW_Applicant_Text</li><li>SSW_Department_Text</li><li>SSW_SubmitTime</li><li>SSW_CurrentStatus_Text</li><li>Title</li><li>Amount</li><li>AmountInChinese</li><li>Remark</li></ul><p>&emsp;&emsp;在ExpenseDetail列表上创建名为SSFormView的视图，包含下列字段：</p><ul><li>Title</li><li>ExpenseType</li><li>ExpenseDate</li><li>Amount</li><li>Description</li></ul>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>表单设计</title>
      <link href="/aportal/docs/introduction/form.html"/>
      <url>/aportal/docs/introduction/form.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;水杉表单设计器可以帮助用户基于SharePoint列表快速地设计和发布表单，表单可以和水杉工作流集成，构成完整的业务流程应用。用户可以通过下面的链接进入表单设计器：</p><blockquote class="callout border-info bg-soft-info">              <p>工作流站点URL/designer/designer.aspx</p>            </blockquote><h2 id="新建表单"><a href="#新建表单" class="headerlink" title="新建表单"></a>新建表单</h2><p>&emsp;&emsp;表单设计器页面地址：</p><blockquote class="callout border-info bg-soft-info">              <p>SharePoint网站地址/designer/designer.aspx</p>            </blockquote><p>进入表单设计器后，首先在页面上方点击『选择列表』按钮，选择需要创建表单的列表。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-16-30-27.png' ></img></div><p>&emsp;&emsp;选择列表后，点击 <span class="p-1 rounded mb-2 bg-danger text-white">+ 新建表单</span> 按钮，系统将提示“新建表单成功”，在左侧导航栏中出现一个新的表单，双击该表单可以编辑表单名称。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-16-32-40.png' ></img></div><p>&emsp;&emsp;点击 <span class="p-1 rounded mb-2 bg-danger text-white">保存表单</span> 按钮，将新建的表单保存到系统中，完成新建表单过程。</p><h2 id="设计表单"><a href="#设计表单" class="headerlink" title="设计表单"></a>设计表单</h2><p>&emsp;&emsp;通过在表单设计器中选择列表后，如果该列表下有现存的表单，可以进一步选择现存的表单名称。选择表单后，可以打开现存的表单进行设计和调整。</p><h3 id="表单属性"><a href="#表单属性" class="headerlink" title="表单属性"></a>表单属性</h3><p>&emsp;&emsp;在页面上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">表单属性</span> 按钮可打开表单属性窗口进行修改。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-16-35-15.png' ></img></div><p>&emsp;&emsp;表单属性包括下列信息：</p><ul><li><strong>FormId</strong>  <blockquote class="callout border-success bg-soft-success">              <p>表单ID在系统中（指同一个SharePoint网站中）必须唯一；ID为文本类型，通常建议和其关联的工作流类型ID保持一致或对照关系，以便管理；在工作流设置器中，FormId用于将表单关联到相关的流程。</p>            </blockquote></li><li><strong>isWorkflowForm</strong>  <blockquote class="callout border-success bg-soft-success">              <p>默认为是，也即默认为工作流表单；设置为工作流表单后，表单上可以关联和工作流相关的提交、审批控件以及审批历史列表的展示。</p>            </blockquote></li><li><strong>Width</strong>  <blockquote class="callout border-success bg-soft-success">              <p>默认不设置情况下，表单那宽度固定为1200px宽，可以以px为单位设置绝对宽度，或按照百分比设置相对宽度；例如设置为100%，就代表这个表单展现的宽度跟随浏览器宽度展开。</p>            </blockquote></li><li><strong>position</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在表单中显示的提示信息的显示位置，包括top-left, top-right, top-center, bottom-left, bottom-right, bottom-center等几个选项。</p>            </blockquote></li><li><strong>Global Js</strong>  <blockquote class="callout border-success bg-soft-success">              <p>填写自定义的JavaScript脚本文件地址和名称。</p>            </blockquote></li></ul><h3 id="表单控件"><a href="#表单控件" class="headerlink" title="表单控件"></a>表单控件</h3><p>&emsp;&emsp;表单控件用于在表单上显示和输入数据，或对表单展现样式进行设置。表单控件分为3种表单组件、工作流组件、布局组件三种类型。</p><h4 id="控件共通属性"><a href="#控件共通属性" class="headerlink" title="控件共通属性"></a>控件共通属性</h4><p>&emsp;&emsp;以下为表单控件通用属性列表：</p><ul><li>隐藏  <blockquote class="callout border-success bg-soft-success">              <p>该控件在表单上是否显示。</p>            </blockquote></li><li>内部名  <blockquote class="callout border-success bg-soft-success">              <p>从关联列表的所有单行文本字段中选择需关联的字段名称。</p>            </blockquote></li><li>标签<blockquote class="callout border-success bg-soft-success">              <p>显示在组件上方的标签，如果在这里设置，则表单上显示的标签以这里设置为准；如果不设置，则以对应字段的名称，或标签多语言的设定为准。</p>            </blockquote></li><li>标签多语言  <blockquote class="callout border-success bg-soft-success">              <p>多语言标签设置；此处设置的值为ModuleID.ResourceKey的形式；具体设置方式参见《多语言设置》的相关说明。</p>            </blockquote></li><li>禁用  <blockquote class="callout border-success bg-soft-success">              <p>设置该字段在默认的新建表单页面上是否允许编辑。</p>            </blockquote></li><li>必填  <blockquote class="callout border-success bg-soft-success">              <p>设置该字段是否必须填写。</p>            </blockquote></li><li>屏幕&lt;480px所占列数  <blockquote class="callout border-success bg-soft-success">              <p>在小屏幕情况下控件宽度（以列数计，屏幕以12列平分，12列代表满屏），默认为12列。</p>            </blockquote></li><li>480px&lt;屏幕&lt;640px所占列数  <blockquote class="callout border-success bg-soft-success">              <p>在中等屏幕情况下控件宽度，默认为6列。</p>            </blockquote></li><li>屏幕&gt;640px所占列数  <blockquote class="callout border-success bg-soft-success">              <p>在大屏幕情况下的控件宽度，默认为4列。</p>            </blockquote></li><li>占位符  <blockquote class="callout border-success bg-soft-success">              <p>在这里输入用于当前输入框中输入的数据提示信息，在表单上当输入框中没有数据时显示占位符信息，用户将光标放入输入框后占位符信息隐藏。</p>            </blockquote></li><li>前缀  <blockquote class="callout border-success bg-soft-success">              <p>固定显示在输入框前部的文本字符信息。</p>            </blockquote></li><li>后缀  <blockquote class="callout border-success bg-soft-success">              <p>固定显示在输入框后部的文本字符信息。</p>            </blockquote></li><li>默认值  <blockquote class="callout border-success bg-soft-success">              <p>新建情况下默认输入的值。</p>            </blockquote></li></ul><h4 id="表单组件"><a href="#表单组件" class="headerlink" title="表单组件"></a>表单组件</h4><p>&emsp;&emsp;表单组件为和业务单据列表字段关联，用于输入和显示数据的各种组件。</p><h5 id="输入框"><a href="#输入框" class="headerlink" title="输入框"></a>输入框</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 单行文本</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>最大字符</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置允许输入的最多字符数量。</p>            </blockquote></li></ul><h5 id="多行文本"><a href="#多行文本" class="headerlink" title="多行文本"></a>多行文本</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 多行文本<br>多行文本框在表单上显示的高度由列表字段属性的行数决定。</p>            </blockquote><h5 id="下拉选择"><a href="#下拉选择" class="headerlink" title="下拉选择"></a>下拉选择</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 选项<br>下拉选择控件以下拉框的形式显示选项类型字段内容。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>下拉框宽度</strong><blockquote class="callout border-success bg-soft-success">              <p>默认值为0，下拉框宽度和控件本身宽度一致；设置大于0的数字，则代表以像素（px）为单位设置下拉框宽度。</p>            </blockquote></li></ul><h5 id="选项组"><a href="#选项组" class="headerlink" title="选项组"></a>选项组</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 选项<br>以RadioButton组或CheckBox组的形式显示选项字段内容。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>默认值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置新建状态下，选项组中哪些选项被选中状态，设置值为选项名称，多个选项名称使用分号分隔，例如：“选项一;选项三”。</p>            </blockquote></li><li><strong>禁用值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置新建状态下，选项组中哪些选项处于不允许选择的状态，设置值为选项名称，多个选项名称使用分号分隔，例如：“选项一;选项三”。</p>            </blockquote></li></ul><h5 id="数字框"><a href="#数字框" class="headerlink" title="数字框"></a>数字框</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 数字</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>千位分隔符</strong>  <blockquote class="callout border-success bg-soft-success">              <p>标记在数字框中的数字是否显示千位分隔符号。</p>            </blockquote></li><li><strong>步进</strong>  <blockquote class="callout border-success bg-soft-success">              <p>单次点击数字框右侧的上下箭头时增加或减少的数字，默认为1。</p>            </blockquote></li></ul><h5 id="是否选择"><a href="#是否选择" class="headerlink" title="是否选择"></a>是否选择</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 是/否</p>            </blockquote><h5 id="日期选择"><a href="#日期选择" class="headerlink" title="日期选择"></a>日期选择</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 日期</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>格式</strong><blockquote class="callout border-success bg-soft-success">              <p>日期显示格式字符串，默认为：“YYYY/MM/DD”。</p>            </blockquote></li></ul><h5 id="列表附件"><a href="#列表附件" class="headerlink" title="列表附件"></a>列表附件</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 列表附件</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>文件类型</strong>   <blockquote class="callout border-success bg-soft-success">              <p>  设置控件选择文档时的默认文档类型，使用MIME类型字符串设置, 多个类型使用逗号分隔, 常见的MIME类型包括:</p><ul><li>.doc: application/msword</li><li>.docx: application/vnd.openxmlformats-officedocument.wordprocessingml.document</li><li>.pdf: application/pdf</li><li>.xls: application/vnd.ms-excel</li><li>.xlsx: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</li><li>.ppt: application/vnd.ms-powerpoint</li><li>.pptx: application/vnd.openxmlformats-officedocument.presentationml.presentation</li></ul>            </blockquote></li></ul><h5 id="查阅项"><a href="#查阅项" class="headerlink" title="查阅项"></a>查阅项</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 查阅项</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>下拉框宽度</strong>  <blockquote class="callout border-success bg-soft-success">              <p>默认值为0，下拉框宽度和控件本身宽度一致；设置大于0的数字，则代表以像素（px）为单位设置下拉框宽度。</p>            </blockquote></li><li><strong>加载数据</strong>  <blockquote class="callout border-success bg-soft-success">              <p>默认为No，也就是新建状态下不加载数据；设置为Yes时在新建状态下将加载数据。</p>            </blockquote></li><li><strong>最大查询条数</strong><blockquote class="callout border-success bg-soft-success">              <p>在加载数据设置为Yes的情况下，最多加载多少条数据供选择，默认值为200。</p>            </blockquote></li><li><strong>数据视图</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择查阅项关联的列表视图，加载数据将根据该列表视图的数据过滤条件进行加载。</p>            </blockquote></li><li><strong>过滤条件Caml</strong>  <blockquote class="callout border-success bg-soft-success">              <p>过滤数据的Caml语句，如果设置了Caml则忽略数据视图的设定。</p>            </blockquote></li></ul><h5 id="高级查阅项"><a href="#高级查阅项" class="headerlink" title="高级查阅项"></a>高级查阅项</h5><blockquote class="callout border-info bg-soft-info">              <p>关联字段类型: 查阅项<br>高级查阅项可以在弹出窗口中对查阅项内容进行关键字搜索，并从搜索结果中进行选择。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>加载数据</strong>  <blockquote class="callout border-success bg-soft-success">              <p>默认为No，也就是新建状态下不加载数据；设置为Yes时在新建状态下将加载数据。</p>            </blockquote></li><li><strong>异步查询</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否在页面加载时同时加载数据，如果设定为No，则在页面加载时同时加载数据；如果设置为Yes，则仅在搜索时才根据搜索条件去获取和加载数据（如果加载数据和异步查询同时设定为Yes时，忽略加载数据的选项不加载数据）。</p>            </blockquote></li><li><strong>弹出内容宽度</strong>  <blockquote class="callout border-success bg-soft-success">              <p>弹出窗口的宽度，以px为单位。</p>            </blockquote></li><li><strong>弹出内容高度</strong>  <blockquote class="callout border-success bg-soft-success">              <p>弹出窗口的高度，以px为单位。</p>            </blockquote></li><li><strong>最大查询条数</strong>  <blockquote class="callout border-success bg-soft-success">              <p>最多每次查询出来的记录数量，默认值为200。</p>            </blockquote></li><li><strong>列表显示</strong>  <blockquote class="callout border-success bg-soft-success">              <p>高级查阅项弹出的列表显示样式</p><ul><li>Justified：列宽根据内容自适应</li><li>Fixed column：列宽固定</li></ul>            </blockquote></li><li><strong>列最小宽度</strong>  <blockquote class="callout border-success bg-soft-success">              <p>弹出列表每列的最小宽度设置，整数设置，以px为单位，多列设置以逗号分隔。</p>            </blockquote></li><li><strong>列最大宽度</strong>  <blockquote class="callout border-success bg-soft-success">              <p>弹出列表每列的最大宽度设置，整数设置，以px为单位，多列设置以逗号分隔。</p>            </blockquote></li><li><strong>紧凑模式</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置为Yes或No，分别代表弹出的数据列表行高较紧凑且无行分隔线，或行高较宽松且有行间分隔线。</p>            </blockquote></li><li><strong>显示视图</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置查阅项关联的数据列表视图，根据该视图确定弹出列表显示的数据字段。</p>            </blockquote></li><li><strong>数据视图</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择查阅项关联的列表视图，加载数据将根据该列表视图的数据过滤条件进行加载。</p>            </blockquote></li><li><strong>过滤条件Caml</strong>  <blockquote class="callout border-success bg-soft-success">              <p>过滤数据的Caml语句，如果设置了Caml则忽略数据视图的设定。</p>            </blockquote></li><li><strong>异步查询字段集</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果异步查询设置为Yes，在这里可以设置搜索时从那些字段进行搜索，如果不设置则默认从显示视图中的所有显示字段进行搜索。</p>            </blockquote></li></ul><h4 id="工作流组件"><a href="#工作流组件" class="headerlink" title="工作流组件"></a>工作流组件</h4><p>&emsp;&emsp;如果当前设计的表单是工作流表单，则工作流组件可以使用在当前表单上。工作流组件用于在表单上显示和工作流相关的信息和操作。</p><h5 id="工作流字段"><a href="#工作流字段" class="headerlink" title="工作流字段"></a>工作流字段</h5><blockquote class="callout border-info bg-soft-info">              <p>工作流字段信息由系统自动生成，用户不可修改；在表单设计器上通过“内部名”列表选择并设置与该工作流字段关联的工作流信息，常用的工作流信息包括：</p><ul><li>Application ID – 工作路编号；</li><li>Applicant – 申请人姓名；</li><li>Submission Time – 流程提交时间；</li><li>Application Status – 流程状态；</li></ul>            </blockquote><h5 id="审批控件"><a href="#审批控件" class="headerlink" title="审批控件"></a>审批控件</h5><blockquote class="callout border-info bg-soft-info">              <p>对于工作流表单，需要将审批控件放到表单上，在审批用户的界面上才能看到审批选项和流程提交按钮。审批控件可以放在表单的任何地方，通常放在表单的开头或结尾处。</p>            </blockquote><h5 id="审批历史"><a href="#审批历史" class="headerlink" title="审批历史"></a>审批历史</h5><blockquote class="callout border-info bg-soft-info">              <p>审批历史列表中显示当前流程从启动开始的审批历史信息。必须选择一个显示视图才能正常显示审批历史。显示视图是从SSW_WorkflowTask列表的视图中选择。</p>            </blockquote><h4 id="布局组件"><a href="#布局组件" class="headerlink" title="布局组件"></a>布局组件</h4><p>&emsp;&emsp;布局组件包含表单子表，表头，标签和标签组等和表单页面显示状态设置有关的组件。</p><h5 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h5><blockquote class="callout border-info bg-soft-info">              <p>通常可以使用标签将表单的业务或逻辑相关的组件管理在相同的标签下，并使用标签的标题对标签下的组件进行描述，以便表单用户更好地理解和操作。</p>            </blockquote><h5 id="标签组"><a href="#标签组" class="headerlink" title="标签组"></a>标签组</h5><blockquote class="callout border-info bg-soft-info">              <p>标签组可以用来将表单上的多个标签组织起来，在同一个时间只显示其中一个标签下的内容，用户可以点击标签切换表单页面上显示的标签内容。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>组头类型</strong>  <blockquote class="callout border-success bg-soft-success">              <ul><li>Links: 显示为下划线链接样式。</li><li>Tabs: 显示为标签样式。</li></ul>            </blockquote></li><li><strong>默认选中项</strong>  <blockquote class="callout border-success bg-soft-success">              <p>输入需要在表单上默认显示的标签名称；留空则默认显示第一个标签。</p>            </blockquote></li><li><strong>颜色</strong>  <blockquote class="callout border-success bg-soft-success">              <p>输入颜色名称或16进制编号，显示为标签组的编号。</p>            </blockquote></li></ul><h5 id="子表"><a href="#子表" class="headerlink" title="子表"></a>子表</h5><blockquote class="callout border-info bg-soft-info">              <p>子表控件用于显示和管理和当前表单关联的子表信息。<br>在子表列表上点击 <span class="p-1 rounded mb-2 bg-danger text-white">新增</span> 按钮，或双击子表列表，可以在弹出的子表内容显示/编辑窗口上对子表表单进行设计。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>列表显示</strong><blockquote class="callout border-success bg-soft-success">              <ul><li>Justified（按内容宽度自适应）。</li><li>FixedColumns（固定列宽）。</li></ul>            </blockquote></li><li><strong>列表最大显示行数</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表在页面上最多显示的行数，超过该行数的记录将用滚动条形式向下滚动显示。</p>            </blockquote></li><li><strong>关联列表</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从当前网站的所有列表中选择与当前表单关联的子表列表名称。</p>            </blockquote></li><li><strong>关联列表视图</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表列表显示视图。</p>            </blockquote></li><li><strong>关联列表导入视图</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表列表在表单上导入使用的视图。</p>            </blockquote></li><li><strong>关联列表导出视图</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表列表在表单上导出使用的视图。</p>            </blockquote></li><li><strong>面板类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在表单上对子表内容进行展示和编辑的弹出窗口类型。</p>            </blockquote></li><li><strong>日期格式</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表显示日期的格式，默认值为：YYYY/MM/DD。</p>            </blockquote></li><li><strong>弹出框内容标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>弹出框标题下方显示的副标题。</p>            </blockquote></li><li><strong>弹出框标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>弹出框上方显示的标题。</p>            </blockquote></li><li><strong>排序字段</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表显示的排序字段名称，如果有多个字段则以逗号分隔</p>            </blockquote></li><li><strong>是否降序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否以排序字段的降序排列。</p>            </blockquote></li></ul><h5 id="HTML容器"><a href="#HTML容器" class="headerlink" title="HTML容器"></a>HTML容器</h5><blockquote class="callout border-info bg-soft-info">              <p>HTML容器默认为宽度占12列的空白占位符号，可以通过自定义宽度、高度实现对于表单控件排列的灵活调整。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>内容</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可写入HTML脚本用于显示固定信息。</p>            </blockquote></li></ul><h5 id="表头"><a href="#表头" class="headerlink" title="表头"></a>表头</h5><blockquote class="callout border-info bg-soft-info">              <p>表头控件用于对表单的表头显示和按钮控件进行自定义，如果表单上不放表头控件，则显示默认表头信息。其中，表头显示的标题默认为工作流版本的标题。表头默认包含的按钮包括：撤回、终止、提交、保存、取消。<br>如果在表单上放置了表头控件，则标题需要自定义写入，并在表头上放置工具栏和工具栏按钮，以实现对表单上包含的按钮的灵活定义。</p>            </blockquote><h5 id="工具栏"><a href="#工具栏" class="headerlink" title="工具栏"></a>工具栏</h5><blockquote class="callout border-info bg-soft-info">              <p>用于承载工具栏按钮的容器。</p>            </blockquote><h5 id="工具栏按钮"><a href="#工具栏按钮" class="headerlink" title="工具栏按钮"></a>工具栏按钮</h5><blockquote class="callout border-info bg-soft-info">              <p>可自定义表单上需要显示和使用的按钮。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>按钮类型</strong>  <blockquote class="callout border-success bg-soft-success">              <ul><li>ReCall – 召回按钮，在流程启动后，当流程停留在允许召回的节点上时，如果流程申请人打开流程表单则显示该按钮；点击这个按钮可以将流程收回到启动节点，供申请人修改后重新提交。</li><li>Terminate – 终止按钮，当流程被拒绝或收回到启动节点时，如果流程申请人打开流程表单则显示该按钮；点击这个按钮可以将流程设置为终止状态，流程终止后所有未完成的任务均被设置为取消状态。</li><li>提交按钮，工作流表单在新建和审批处理状态下显示该按钮，点击这个按钮可以将流程单据信息提交到审批流程中进行处理。</li><li>保存按钮，工作流表单在新建和草稿编辑状态下显示该按钮，点击这个按钮可以将流程单据信息保存到系统中并关闭当前的编辑页面。</li><li>取消或返回按钮，在新建、编辑或审批处理状态下，点击该按钮将提示用户是否取消当前的操作，如果确定则不作任何保存并关闭表单；在显示状态的表单上点击该按钮，不做任何提示直接关闭表单</li><li>空 – 不选择按钮类型则为自定义按钮。</li></ul>            </blockquote></li><li><strong>颜色</strong>  <blockquote class="callout border-success bg-soft-success">              <p>自定义按钮的颜色，不设置则默认显示为蓝色。</p>            </blockquote></li><li><strong>Hover颜色</strong>  <blockquote class="callout border-success bg-soft-success">              <p>自定义鼠标经过按钮时显示的颜色。</p>            </blockquote></li><li><strong>关键字</strong>  <blockquote class="callout border-success bg-soft-success">              <p>自定义按钮关键字，用于表单自定义脚本引用。</p>            </blockquote></li><li><strong>名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>自定义按钮名称。</p>            </blockquote></li><li><strong>名称多语言</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果需要以多语言形式显示按钮名称，则在这里输入资源文件的ModuleID.ResourceKey。</p>            </blockquote></li></ul><h5 id="子表工具栏"><a href="#子表工具栏" class="headerlink" title="子表工具栏"></a>子表工具栏</h5><blockquote class="callout border-info bg-soft-info">              <p>用于承载子表工具栏按钮的容器。</p>            </blockquote><h5 id="子表工具栏按钮"><a href="#子表工具栏按钮" class="headerlink" title="子表工具栏按钮"></a>子表工具栏按钮</h5><blockquote class="callout border-info bg-soft-info">              <p>在子表上方显示和使用的按钮。</p>            </blockquote><p>&emsp;&emsp;此组件有以下属性：</p><ul><li><strong>按钮类型</strong>  <blockquote class="callout border-success bg-soft-success">              <ul><li>New – 子表新建按钮。</li><li>Edit – 子表编辑按钮。</li><li>Delete – 子表删除按钮。</li><li>Import – 子表导入按钮。</li><li>Export – 子表导出按钮。</li><li>空 – 自定义按钮。</li></ul>            </blockquote></li><li><strong>图标</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可自定义按钮前显示的图标，图标名称参照下面的链接：<a href="https://developer.microsoft.com/en-us/fabric#/styles/web/icons" target="_blank" rel="noopener external nofollow noreferrer">https://developer.microsoft.com/en-us/fabric#/styles/web/icons</a> 。</p>            </blockquote></li><li><strong>关键字</strong>  <blockquote class="callout border-success bg-soft-success">              <p>自定义按钮关键字，用于表单自定义脚本引用。</p>            </blockquote></li><li><strong>名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>自定义按钮名称。</p>            </blockquote></li><li><strong>名称多语言</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果需要以多语言形式显示按钮名称，则在这里输入资源文件的ModuleID.ResourceKey。</p>            </blockquote></li></ul><h3 id="自定义样式和脚本"><a href="#自定义样式和脚本" class="headerlink" title="自定义样式和脚本"></a>自定义样式和脚本</h3><p>&emsp;&emsp;表单设计器支持自定义样式和脚本开发，在表单设计其中点击『css文件上传』或『js文件上传』，选择自定义的css文件或js文件并上传到系统中。</p><h3 id="表单设计和保存"><a href="#表单设计和保存" class="headerlink" title="表单设计和保存"></a>表单设计和保存</h3><p>&emsp;&emsp;在表单设计器中，通过选择列表和表单打开已经存在的表单后，根据业务需求使用表单控件组合构成表单样式，点击表单设计器上方的『保存表单』按钮，保存成功后页面上将显示“保存表单成功”的提示信息，如下图所示。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-04-02-10-02-00.png' ></img></div><p>&emsp;&emsp;表单保存成功后，在引用表单的流程或其他列表中重新打开表单，就可以看到修改后的表单样式。</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>系统管理</title>
      <link href="/aportal/docs/introduction/admin.html"/>
      <url>/aportal/docs/introduction/admin.html</url>
      
        <content type="html"><![CDATA[<h2 id="系统管理中心"><a href="#系统管理中心" class="headerlink" title="系统管理中心"></a>系统管理中心</h2><p>&emsp;&emsp;APortal提供系统管理中心页面供管理用户对系统中的数据进行管理，管理中心页面访问地址为：网站URL/SitePages/admincenter.rest.aspx 。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-13-16-54.png' ></img></div><p>&emsp;&emsp;管理员用户可以通过管理中心页面对当前网站下的列表数据执行检索、新增、编辑、删除、导入、导出等操作。要对列表数据执行操作，首先需要在SSF_Admin列表中进行登记。通过点击左侧导航栏中的“Admin Menu”选项可打开SSF_Admin列表。在SSF_Admin列表中创建或编辑已有记录。</p><ul><li><strong>Title</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在左侧导航栏中显示的标题信息。</p>            </blockquote></li><li><strong>Parent</strong>  <blockquote class="callout border-success bg-soft-success">              <p>上级导航栏，支持两级导航栏。</p>            </blockquote></li><li><strong>Menu URL</strong>  <blockquote class="callout border-success bg-soft-success">              <p> 以”#/listdetail/”开头，后面拼接“{1}/{2}/{3}/{4}/{5}/{6}/{7}”的字符串，用于设置需要管理的列表的显示和管理功能。</p><ul><li>{1} – 列表名称。</li><li>{2} – 设置1或0代表是否支持在管理中心页面对该列表进行导出导入的操作。</li><li>{3} – 如果需要执行数据导入，用来判断数据唯一性的关键字段名，如果多个字段名以“,”分隔。</li><li>{4} – 系统保留，空白。</li><li>{5} – 列表显示视图，默认为ssadmin。</li><li>{6} – 在列表中新建、编辑记录使用的表单视图，默认为ssadmindata。</li><li>{7} – 导出导入使用的列表视图，默认为SSExportView。</li></ul>            </blockquote></li><li><strong>Display Order</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置当前管理的记录在左侧导航栏中的同级别下的显示顺序。</p>            </blockquote></li></ul><p>&emsp;&emsp;创建或编辑完成后，保存记录并刷新管理中心页面，新建的记录将显示在管理中心页面左侧导航栏中。</p><h2 id="系统参数设置"><a href="#系统参数设置" class="headerlink" title="系统参数设置"></a>系统参数设置</h2><p>&emsp;&emsp;APortal系统参数存储在/Lists/SSF_Parameters列表中，在系统初始化时包含下列参数。</p><ul><li><strong>SSF_CurrentVersion</strong>  <blockquote class="callout border-success bg-soft-success">              <p>控制所有客户端的浏览器缓存；工作流中心的左侧导航栏，标题部分的菜单，以及数据列表使用的用户试图，都是缓存在客户端浏览器中的。<br>如果上述信息发生了修改，则需要将这个参数值修改为新的值。客户端浏览器打开系统页面时将加载新的缓存数据。</p><ul><li>参数类别： 系统参数（值=1）。</li><li>参数值类型： 单行文本（值=2）。</li></ul>            </blockquote></li><li><strong>SSF_DateOnlyFormat</strong>  <blockquote class="callout border-success bg-soft-success">              <p>单据列表中显示的日期格式，默认值为：YYYY/MM/DD。</p><ul><li>参数类别： 系统参数（值=1）。</li><li>参数值类型： 单行文本（值=2）。</li></ul>            </blockquote></li><li><strong>SSF_DateTimeFormat</strong>  <blockquote class="callout border-success bg-soft-success">              <p>单据列表中显示的日期+时间格式，默认值为：YYYY/MM/DD HH:mm。</p><ul><li>参数类别： 系统参数（值=1）。</li><li>参数值类型： 单行文本（值=2）。</li></ul>            </blockquote></li></ul><h2 id="系统邮件模板设置"><a href="#系统邮件模板设置" class="headerlink" title="系统邮件模板设置"></a>系统邮件模板设置</h2><p>&emsp;&emsp;邮件模板分为邮件标题和邮件内容两部分的模板，其中邮件标题仅支持纯文本格式的模板，邮件内容则采用HTML格式进行模板的设置。<br>&emsp;&emsp;邮件标题模板在系统中使用单行文本格式保存，最多不应超过255个字符。邮件内容则采用多行文本格式保存，内容长度没有限制。<br>&emsp;&emsp;在邮件模板的定义中，除了可以使用固定文字以外，还可以使用下列格式的动态参数，在流程实际流转时从流程或业务单据获取相应的信息替换为实际的邮件或短信内容。<br>&emsp;&emsp;流程将在启动节点（仅限第二次进入启动节点），审批处理和审阅处理节点上发送电子邮件和短信通知。在节点上发送通知时，首先获取节点上设置的相关模板内容，如果节点上没有配置，则获取系统参数列表（『SSF_Parameters』）中设置的相应模板内容。系统参数列表中设置的相应模板的参数名称和类型如下：</p><ul><li>SSW_ApprovalEmailSubject  <blockquote class="callout border-success bg-soft-success">              <p>邮件标题模板。</p><ul><li>参数类别： 系统参数（值=1）。</li><li>参数值类型： 单行文本（值=2）。</li></ul>            </blockquote></li><li>SSW_ApprovalEmailBody  <blockquote class="callout border-success bg-soft-success">              <p>邮件内容模板。</p><ul><li>参数类别： 系统参数（值=1）。</li><li>参数值类型： 多行文本（值=3）。</li></ul>            </blockquote></li></ul><p>&emsp;&emsp;在流程设计器中可以在工作流版本或工作流节点处设置系统发送的提醒邮件模板。工作流节点属性里设置的邮件模板优先级高于工作流版本属性里设置的。也就是说如果需要发送提醒邮件，系统将首先判断需要发送提醒邮件的节点上是否设置了邮件模板，如果没有再去看工作流版本是否设置了提醒邮件模板。如果都没有设置，则去系统参数里获取SSW_ApprovalEmaiSubject和SSW_ApprovalEmailBody作为提醒邮件的模板。<br>&emsp;&emsp;在工作流版本或工作流节点上设置提醒邮件模板有2种方式，一种是直接在邮件标题和邮件内容里写入模板内容。另一种则以：“SSW_EmailTemplate:邮件标题/内容参数名”的形式，分别写入邮件标题和邮件内容。邮件标题/内容参数则需要在系统参数表里进行定义，参数类别和参数值类别分别是“1，2”和“1，3”。<br>&emsp;&emsp;在模板中可使用的获取流程运行时上下文信息内容的语法如下：</p><ul><li><strong>{Context:SSWF.工作流列表字段名称}</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从工作流上下文信息中获取相应的内容，例如：{Context:SSWF.Applicant}代表工作流申请人。</p>            </blockquote></li><li><strong>{Context:业务列表字段名称}</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从流程相关的业务单据中获取相应的内容，例如：{Context:Title}代表业务单据的Title字段内容。</p>            </blockquote></li><li><strong>{Context:SSW.WebUrl}</strong>  <blockquote class="callout border-success bg-soft-success">              <p>代表当前系统的根网站Web链接。</p>            </blockquote></li><li><strong>{Context:SSWF.查阅项字段.查阅项字段属性}</strong>  <blockquote class="callout border-success bg-soft-success">              <p>代表工作流信息中的查阅项字段相关的列表属性，例如：{Context:SSWF.Applicant.EnglishName}代表申请人的英文姓名。</p>            </blockquote></li><li><strong>{Context:查阅项字段.查阅项字段属性}</strong>  <blockquote class="callout border-success bg-soft-success">              <p>代表业务单据信息中的查阅项字段相关的列表属性，例如：{Context:Vendor.Title}代表业务单据中的供应商名称。</p>            </blockquote></li></ul><h3 id="电子邮件模板样例"><a href="#电子邮件模板样例" class="headerlink" title="电子邮件模板样例"></a>电子邮件模板样例</h3><h4 id="发送给审批用户"><a href="#发送给审批用户" class="headerlink" title="发送给审批用户"></a>发送给审批用户</h4><p>&emsp;&emsp;在流程中发送给审批用户的电子邮件模板样例：</p><ul><li><strong>标题</strong>  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">工作流任务通知 &#x2F; Workflow Task Reminder: &#123;Context:SSWF.WorkflowCategory&#125;, &#123;Context:SSWF.Applicant.Title&#125; (&#123;Context:SSWF.WorkflowNumber&#125;)</span><br></pre></td></tr></table></figure></li><li><strong>内容</strong>  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size: small;"</span>&gt;</span></span><br><span class="line">    您好，&#123;Context:SSWFT.Approver.Title&#125;，</span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    有一条工作流任务正在等待您的处理。</span><br><span class="line"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">'0'</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size:small;margin-bottom: 20px;"</span> <span class="attr">width</span>=<span class="string">'80%'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:10px"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:100px"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>申请人：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.Applicant.Title&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>申请时间：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.SubmitTime&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>申请类别：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowCategory.Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>单据编号：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowNumber&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>主题<span class="tag">&lt;/<span class="name">b</span>&gt;</span>：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">'2'</span>&gt;</span>请点击<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'&#123;Context:SSW.WebUrl&#125;'</span>&gt;</span>这里<span class="tag">&lt;/<span class="name">a</span>&gt;</span>进入工作流系统处理。<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">Dear &#123;Context:SSWFT.Approver.Title&#125;,</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">There is a pending task in workflow system waiting for your process.</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">'0'</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size:small;margin-bottom: 20px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:10px"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:100px"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Applicant<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.Applicant.Title&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Submit Time<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.SubmitTime&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Category<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowCategory.Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Application No.<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowNumber&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Subject<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">'2'</span>&gt;</span>You may access workflow system by click <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'&#123;Context:SSW.WebUrl&#125;'</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="申请被拒绝退回给申请人"><a href="#申请被拒绝退回给申请人" class="headerlink" title="申请被拒绝退回给申请人"></a>申请被拒绝退回给申请人</h4><p>&emsp;&emsp;申请被拒绝并退回给流程发起人时，系统发送给申请人使用的邮件通知模板样例：</p><ul><li><strong>标题</strong>  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">申请被拒绝 &#x2F; Application Rejected: &#123;Context:SSWF.WorkflowCategory&#125;, &#123;Context:SSWF.Applicant.Title&#125; (&#123;Context:SSWF.WorkflowNumber&#125;)</span><br></pre></td></tr></table></figure></li><li><strong>内容</strong>  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size: small;"</span>&gt;</span></span><br><span class="line">    您好，&#123;Context:SSWFT.Approver.Title&#125;，</span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    您的单据在审批过程中被拒绝并退回。</span><br><span class="line"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">'0'</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size: small;margin-bottom: 20px;"</span> <span class="attr">width</span>=<span class="string">"80%"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:10px"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:100px"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>申请时间：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.SubmitTime&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>申请类别：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowCategory.Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>单据编号：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowNumber&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>主题<span class="tag">&lt;/<span class="name">b</span>&gt;</span>：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">'2'</span>&gt;</span>请点击<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'&#123;Context:SSW.WebUrl&#125;'</span>&gt;</span>这里<span class="tag">&lt;/<span class="name">a</span>&gt;</span>进入工作流系统处理。<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">Dear &#123;Context:SSWFT.Approver.Title&#125;,</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">Your application has been rejected and returned.</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">'0'</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size: small;margin-bottom: 20px;"</span> <span class="attr">width</span>=<span class="string">"80%"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:10px"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:100px"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Submit Time<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.SubmitTime&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Category<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowCategory.Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Application No.<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowNumber&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Subject<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">'2'</span>&gt;</span>You may access workflow system by click <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'&#123;Context: SSW.WebUrl &#125;'</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="审批完成发给申请人"><a href="#审批完成发给申请人" class="headerlink" title="审批完成发给申请人"></a>审批完成发给申请人</h4><p>&emsp;&emsp;审批完成后给申请人发送的通知邮件模板样例：</p><ul><li><strong>标题</strong>  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">申请已通过 &#x2F; Application Approved: &#123;Context:SSWF.WorkflowCategory&#125;, &#123;Context:SSWF.Applicant.Title&#125; (&#123;Context:SSWF.WorkflowNumber&#125;)</span><br></pre></td></tr></table></figure></li><li><strong>内容</strong>  <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size: small;"</span>&gt;</span></span><br><span class="line">    您好，&#123;Context:SSWF.Applicant.Title&#125;，</span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    您的申请已经审批通过。</span><br><span class="line"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">'0'</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size: small;margin-bottom: 20px;"</span> <span class="attr">width</span>=<span class="string">"80%"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:10px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:100px;"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>申请时间：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.SubmitTime&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>申请类别：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowCategory&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>单据编号：<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowNumber&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>主题<span class="tag">&lt;/<span class="name">b</span>&gt;</span>：<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">'2'</span>&gt;</span>请点击<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'&#123;Context: SSW.WebUrl&#125;'</span>&gt;</span>这里<span class="tag">&lt;/<span class="name">a</span>&gt;</span>进入工作流系统查看详细信息。<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">Dear &#123; Context:SSWF.Applicant.Title&#125;,</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">Your application has been approved.</span><br><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">'0'</span> <span class="attr">style</span>=<span class="string">"font-family:'Microsoft YaHei', Tahoma; font-size: small;margin-bottom: 20px;"</span> <span class="attr">width</span>=<span class="string">"80%"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:10px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">style</span>=<span class="string">"width:100px;"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Submit Time<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.SubmitTime&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Category<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowCategory&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Application No.<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:SSWF.WorkflowNumber&#125; <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>Subject<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;Context:Title&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">'2'</span>&gt;</span>You may access workflow system by click <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'&#123;Context: SSW.WebUrl &#125;'</span>&gt;</span>here<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="电子邮件审批设置"><a href="#电子邮件审批设置" class="headerlink" title="电子邮件审批设置"></a>电子邮件审批设置</h2><p>&emsp;&emsp;电子邮件审批，是指审批用户通过直接回复系统发送的审批提醒邮件，在回复邮件的第一行写入代表同意或拒绝的关键字，以完成审批操作的过程。<br>&emsp;&emsp;要实现电子邮件审批，需要在系统中做如下的设置：</p><ul><li>传入邮件设置，也即将发送提醒邮件的邮箱配置为可以允许系统收取该邮箱的邮件。系统可接受的账户类型包括IMAP和POP，设置方式参照下图所示：  <div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-13-57-25.png' ></img></div>  <div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-04-02-13-58-20.png' ></img></div>  <blockquote class="callout border-danger bg-soft-danger">              <p>注：传入邮件设置在工作流引擎程序中设置。工作流引擎可以由水杉提供的云机托管，或用户自行运营云机托管。</p>            </blockquote></li><li>在审批节点上将“允许邮件审批”设置为“是”。  <blockquote class="callout border-info bg-soft-info">              <p>系统默认支持的关键字包括：</p><ul><li>代表同意的关键字： 同意，好，Agree，Yes，OK。</li><li>代表拒绝的关键字： 拒绝，不同意，Reject，No，Disagree。</li></ul><p>系统还支持自定义的同意或拒绝的关键字，分别使用下面两个系统参数进行定义，多个关键字使用竖线或逗号或分号进行（|,;）分隔。</p><ul><li>SSW_AgreedKeys： 自定义同意关键字<ul><li>参数类别： 系统参数（值=1）。</li><li>参数值类型： 多行文本（值=3）。</li></ul></li><li>SSW_DisagreedKeys： 自定义拒绝关键字<ul><li>参数类别： 系统参数（值=1）。</li><li>参数值类型： 多行文本（值=3）。</li></ul></li></ul>            </blockquote></li></ul><h2 id="逻辑公式设置"><a href="#逻辑公式设置" class="headerlink" title="逻辑公式设置"></a>逻辑公式设置</h2><h3 id="变量和常量"><a href="#变量和常量" class="headerlink" title="变量和常量"></a>变量和常量</h3><h4 id="引用工作流变量"><a href="#引用工作流变量" class="headerlink" title="引用工作流变量"></a>引用工作流变量</h4><blockquote class="callout border-info bg-soft-info">              <p>$VAR.流程变量名称（或系统常量名称）。</p>            </blockquote><h4 id="引用业务单据主表字段"><a href="#引用业务单据主表字段" class="headerlink" title="引用业务单据主表字段"></a>引用业务单据主表字段</h4><blockquote class="callout border-info bg-soft-info">              <p>$SYW.字段名称（必须是字段Internal Name）。</p>            </blockquote><h4 id="引用流程字段"><a href="#引用流程字段" class="headerlink" title="引用流程字段"></a>引用流程字段</h4><blockquote class="callout border-info bg-soft-info">              <p>$SSW.字段名称（必须是字段Internal Name）。</p>            </blockquote><h4 id="级联引用查阅项字段引用列表包含的其他字段"><a href="#级联引用查阅项字段引用列表包含的其他字段" class="headerlink" title="级联引用查阅项字段引用列表包含的其他字段"></a>级联引用查阅项字段引用列表包含的其他字段</h4><blockquote class="callout border-info bg-soft-info">              <p>$SYW.查阅项字段名.查阅列表的其他字段，如果引用的“查阅列表的其他字段”也是查阅项，则可以根据同样规则继续以”.”的方式进一步引用该查阅项字段引用列表的其他字段，以此类推。</p>            </blockquote><h4 id="引用上下文变量"><a href="#引用上下文变量" class="headerlink" title="引用上下文变量"></a>引用上下文变量</h4><blockquote class="callout border-info bg-soft-info">              <p>$CON，可以通过变量上下文变量进一步引用下列变量：</p>            </blockquote><ul><li><strong>$CON.Applicant.AllRoles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程申请人的所有角色。</p>            </blockquote></li><li><strong>$CON.Applicant.Roles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程申请人在当前流程的部门（或Department0，如果设置了）的所有角色。</p>            </blockquote></li><li><strong>$CON.Applicant.UpRoles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程申请人在当前流程的部门（或Department0，如果设置了）的向上相对角色。</p>            </blockquote></li><li><strong>$CON.LastApprover.AllRoles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程最近审批人的所有角色。</p>            </blockquote></li><li><strong>$CON.LastApprover.Roles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程最近审批人在当前流程的部门（或Department0，如果设置了）的所有角色。</p>            </blockquote></li><li><strong>$CON.LastApprover.UpRoles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程最近审批人在当前流程的部门（或Department0，如果设置了）的向上相对角色。</p>            </blockquote></li><li><strong>$CON.Creator.AllRoles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程创建人的所有角色。</p>            </blockquote></li><li><strong>$CON.Creator.Roles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程创建人在当前流程的部门（或Department0，如果设置了）的所有角色。</p>            </blockquote></li><li><strong>$CON.Creator.UpRoles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程创建人在当前流程的部门（或Department0，如果设置了）的向上相对角色。</p>            </blockquote></li><li><strong>$CON.Department.Roles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程的部门（或Department0，如果设置了）的所有角色。</p>            </blockquote></li><li><strong>$CON.Department.UpRoles</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前流程的部门 （或Department0，如果设置了）的所有向上角色。</p>            </blockquote></li></ul><h4 id="日期时间变量"><a href="#日期时间变量" class="headerlink" title="日期时间变量"></a>日期时间变量</h4><ul><li><strong>$DTC.Today</strong><blockquote class="callout border-success bg-soft-success">              <p>当天日期对应的ticks值。</p>            </blockquote></li><li><strong>$DTC.Now</strong><blockquote class="callout border-success bg-soft-success">              <p>当时日期时间对应的ticks值。</p>            </blockquote></li><li><strong>$DTC.Year</strong><blockquote class="callout border-success bg-soft-success">              <p>当时时间对应的年份。</p>            </blockquote></li><li><strong>$DTC.Month</strong><blockquote class="callout border-success bg-soft-success">              <p>当时时间对应的月份。</p>            </blockquote></li><li><strong>$DTC.Day</strong><blockquote class="callout border-success bg-soft-success">              <p>当时时间对应的日。</p>            </blockquote></li><li><strong>$DTC.Hour</strong><blockquote class="callout border-success bg-soft-success">              <p>当时时间对应的小时。</p>            </blockquote></li><li><strong>$DTC.Minute</strong><blockquote class="callout border-success bg-soft-success">              <p>当时时间对应的分钟。</p>            </blockquote></li><li><strong>$DTC.Second</strong><blockquote class="callout border-success bg-soft-success">              <p>当时时间对应的秒。</p>            </blockquote><blockquote class="callout border-danger bg-soft-danger">              <p>注：ticks值代0001年1月1日午夜12:00以来所经过时间以 100 毫微秒为间隔表示时的数字</p>            </blockquote></li></ul><h4 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h4><ul><li><strong>文本类型</strong><blockquote class="callout border-success bg-soft-success">              <p>使用半角双引号包含，例如：“文本1”。</p>            </blockquote></li><li><strong>数字类型</strong><blockquote class="callout border-success bg-soft-success">              <p>直接写数字，例如：88。</p>            </blockquote></li><li><strong>日期类型</strong><blockquote class="callout border-success bg-soft-success">              <p>以yyyy-MM-dd的格式书写，例如：2015-01-01。</p>            </blockquote></li><li><strong>是否类型</strong><blockquote class="callout border-success bg-soft-success">              <p>True，False。</p>            </blockquote></li></ul><h3 id="逻辑计算符"><a href="#逻辑计算符" class="headerlink" title="逻辑计算符"></a>逻辑计算符</h3><table style="width: 90%; border: 2px solid rgba(119,131,143,.1);margin-bottom: 20px;"><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">==</td>    <td style="border: 2px solid rgba(119,131,143,.1);">等于</td>    <td style="border: 2px solid rgba(119,131,143,.1);">用于相同类型的变量或常量之间的比较</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">!=</td>    <td style="border: 2px solid rgba(119,131,143,.1);">不等于</td>    <td style="border: 2px solid rgba(119,131,143,.1);">用于相同类型的变量或常量之间的比较</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">></td>    <td style="border: 2px solid rgba(119,131,143,.1);">大于</td>    <td style="border: 2px solid rgba(119,131,143,.1);">用于数字类型的变量或常量之间的比较</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">>=</td>    <td style="border: 2px solid rgba(119,131,143,.1);">大于等于</td>    <td style="border: 2px solid rgba(119,131,143,.1);">用于数字类型的变量或常量之间的比较</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);"><</td>    <td style="border: 2px solid rgba(119,131,143,.1);">小于</td>    <td style="border: 2px solid rgba(119,131,143,.1);">用于数字类型的变量或常量之间的比较</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">&lt;=</td>    <td style="border: 2px solid rgba(119,131,143,.1);">小于等于</td>    <td style="border: 2px solid rgba(119,131,143,.1);">用于数字类型的变量或常量之间的比较</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">like</td>    <td style="border: 2px solid rgba(119,131,143,.1);">包含</td>    <td style="border: 2px solid rgba(119,131,143,.1);">判断左侧字符串变量或常量是否包含右侧的字符串变量或常量</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">notlike</td>    <td style="border: 2px solid rgba(119,131,143,.1);">不包含</td>    <td style="border: 2px solid rgba(119,131,143,.1);">判断左侧字符串变量或常量是否不包含右侧的字符串变量或常量</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">startwith</td>    <td style="border: 2px solid rgba(119,131,143,.1);">以…开始</td>    <td style="border: 2px solid rgba(119,131,143,.1);">判断左侧字符串变量或常量是否是否以右侧的字符串变量或常量开头</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">endwith</td>    <td style="border: 2px solid rgba(119,131,143,.1);">以…结尾</td>    <td style="border: 2px solid rgba(119,131,143,.1);">判断左侧字符串变量或常量是否是否以右侧的字符串变量或常量结尾</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">!</td>    <td style="border: 2px solid rgba(119,131,143,.1);">逻辑非</td>    <td style="border: 2px solid rgba(119,131,143,.1);">对右侧的逻辑判断公式或逻辑类型变量或常量进行否定操作</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">&&</td>    <td style="border: 2px solid rgba(119,131,143,.1);">逻辑与</td>    <td style="border: 2px solid rgba(119,131,143,.1);">连接逻辑判断公式或逻辑类型的变量或常量，进行与操作</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">||</td>    <td style="border: 2px solid rgba(119,131,143,.1);">逻辑或</td>    <td style="border: 2px solid rgba(119,131,143,.1);">连接逻辑判断公式或逻辑类型的变量或常量，进行或操作</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">()</td>    <td style="border: 2px solid rgba(119,131,143,.1);">括号</td>    <td style="border: 2px solid rgba(119,131,143,.1);">可以将多个逻辑判断公式使用多层括号加上逻辑非、逻辑与、逻辑或操作进行关联</td></tr></table><h3 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h3><table style="width: 90%; border: 2px solid rgba(119,131,143,.1);margin-bottom: 20px;"><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">&</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;amp;</CDATA></td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">(</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;lbrackets;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">)</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;rbrackets;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">></td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;gt;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);"><</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;lt;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">>=</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;geq;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">&lt;=</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;leq;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">=</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;eq;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">!</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;em;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">|</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;vline;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">/</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;slash;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">\</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;backslash;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">"</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;quot;</td></tr><tr>    <td style="border: 2px solid rgba(119,131,143,.1);">空格</td>    <td style="border: 2px solid rgba(119,131,143,.1);">&amp;nbsp;</td></tr></table><h3 id="常见示例"><a href="#常见示例" class="headerlink" title="常见示例"></a>常见示例</h3><ol><li>是否变量和常量的比较<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$VAR.是否变量_1 == True</span><br></pre></td></tr></table></figure></li><li>文本变量和常量比较<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$VAR.文本变量_1 == “我是一个常量”</span><br></pre></td></tr></table></figure></li><li>文本变量和包含特殊字符的常量（包含一个空格）比较<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$VAR.文本变量_1 == “我是一个&amp;nbsp;常量”</span><br></pre></td></tr></table></figure></li><li>数字变量和常量比较<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$VAR.数字变量_1 &gt;= <span class="number">2000</span></span><br></pre></td></tr></table></figure></li><li>判断文本变量是否包含一个字符串<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$VAR.文本变量_1 like “abc”</span><br></pre></td></tr></table></figure></li><li>判断文本变量是否不包含一个字符串<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$VAR.文本变量_1 notlike “abc”</span><br></pre></td></tr></table></figure></li><li>判断文本变量是否以一个字符串开始<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$VAR.文本变量_1 startwith “abc”</span><br></pre></td></tr></table></figure></li><li>返回一个逻辑变量（是否类型）的否定值<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">!$VAR.是否变量_1</span><br></pre></td></tr></table></figure></li><li>多个逻辑判断公式连接<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">(($VAR.是否变量_1 == True) &amp;&amp; ($VAR.文本变量_1 == “我是一个常量”)) || ($VAR.数字变量_1 &gt;= <span class="number">2000</span>)</span><br></pre></td></tr></table></figure></li><li>业务列表查阅项为空判断<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$SYW.字段名称 == “<span class="literal">null</span>”</span><br></pre></td></tr></table></figure></li><li>查阅字段的级联表达式<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$SSW.Department2.DepartmentType==<span class="string">"管理中心"</span></span><br></pre></td></tr></table></figure></li><li>$CON.Roles 表示当前申请人的所有角色，UpRoles表示向上相对角色,LastApprover.Roles 表示最后审批人的所有角色，LastApprover.UpRoles 表示最后审批人的向上相对角色<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">$CON.Roles like <span class="string">"部门主管"</span> &amp;&amp; $CON.UpRoles like <span class="string">"ABC"</span> &amp;&amp; $CON.LastApprover.Roles like <span class="string">"部门主管"</span> &amp;&amp; $CON.LastApprover.UpRoles like <span class="string">"ABCD"</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="多语言设置"><a href="#多语言设置" class="headerlink" title="多语言设置"></a>多语言设置</h2><p>&emsp;&emsp;APortal工作流系统默认可支持简体中文和英文两种界面语言。界面语言对应的信息存储在网站列表：/Lists/SSF_Resource中。<br>&emsp;&emsp;如果在系统中创建了新的业务列表，并且希望能以多语言形式在工作流中心的单据列表和表单上显示时，可以将自定义的资源文件信息写入/Lists/SSF_Resource，写入格式如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>列表名称，例如：SS_Form。</p>            </blockquote></li><li><strong>ModuleID</strong>  <blockquote class="callout border-success bg-soft-success">              <p>列表Url（由”/Lists/”+列表名构成），例如：/Lists/SS_Form。</p>            </blockquote></li><li><strong>ResourceKey</strong>  <blockquote class="callout border-success bg-soft-success">              <p>字段定义名称（Internal Name）。</p>            </blockquote></li><li><strong>Res_2052</strong>  <blockquote class="callout border-success bg-soft-success">              <p>中文状态下显示名。</p>            </blockquote></li><li><strong>Res_1033</strong>  <blockquote class="callout border-success bg-soft-success">              <p>英文状态下显示名。</p>            </blockquote></li></ul><p>&emsp;&emsp;资源文件信息写入并保存后，刷新相关的列表或表单页面，就可以看到新定义的相应语言状态下的显示名。</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>工作流设计</title>
      <link href="/aportal/docs/introduction/workflow.html"/>
      <url>/aportal/docs/introduction/workflow.html</url>
      
        <content type="html"><![CDATA[<p>&emsp;&emsp;水杉工作流以“工作流类别/工作流名/工作流版本”的基本结构进行管理。使用工作流类别将各种类型的工作流根据其业务用途、面向用户群或其他需要的属性进行分类。例如：员工自主服务流程、财务类流程、生产类流程、供应商管理类流程、采购管理类流程等。工作流名称是指具体实施的流程，从属于某个工作流类别。例如：个人费用报销流程，从属于员工自主服务流程类别。<br>&emsp;&emsp;在每个工作流下，可以创建和管理多个工作流版本，在任意时间一个工作流只能有一个有效的版本（或称之为“当前版本”）。新发起的流程实例提交时，将会引用当前流程下的有效版本进行流转，并在流程结束前一直保持使用同一个流程版本。</p><h2 id="工作流类别"><a href="#工作流类别" class="headerlink" title="工作流类别"></a>工作流类别</h2><p>&emsp;&emsp;进入工作流设计器时，如果当前系统中还没有创建过任何工作流，则可以点击 <span class="p-1 rounded mb-2 bg-danger text-white">+工作流分类</span> 按钮开始创建第一个工作流类别。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-45-02.png' ></img></div><p>&emsp;&emsp;在工作流类别新增/编辑页面中，可以填写下列内容：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>工作流类别的名称。</p>            </blockquote></li><li><strong>中文/英文/日文名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在系统中选择相应语言作为界面语言时显示的名称。</p>            </blockquote></li><li><strong>显示顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>输入数字，用于控制在工作流中心页面中该工作流类别在左侧导航栏中显示的顺序（从上至下）。</p>            </blockquote></li></ul><p>&emsp;&emsp;输入完成后，点击 <span class="p-1 rounded mb-2 bg-danger text-white">保存</span> 按钮保存当前输入的内容。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='30%' width='30%' src='images/aportal-2020-03-27-23-45-27.png' ></img></div><p>&emsp;&emsp;保存成功后，页面左侧导航栏中将显示出新添加或修改的工作流类别，页面转入不可编辑状态。如果需要对已经存在的工作流类别进行修改，则从左侧导航栏选择该工作流类别并点击 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮，进入编辑状态。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-45-49.png' ></img></div><p>&emsp;&emsp;选中工作流类别后，点击 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮可以将工作流类别从系统中删除。</p><blockquote class="callout border-danger bg-soft-danger">              <p>注：如果工作流类别下已经有工作流，则工作流类别不允许删除。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-46-15.png' ></img></div><h2 id="工作流"><a href="#工作流" class="headerlink" title="工作流"></a>工作流</h2><p>&emsp;&emsp;在工作流设计器中选择工作流类别，点击 <span class="p-1 rounded mb-2 bg-danger text-white">+新增/工作流</span> 按钮，可以开始创建新的工作流。工作流信息分为3个主要区域：</p><ul><li><strong>基本信息</strong></li><li><strong>权限设定</strong>  <blockquote class="callout border-success bg-soft-success">              <p>包括对于该工作流拥有读写权限的用户群设置。</p>            </blockquote></li><li><strong>重定向设置</strong>  <blockquote class="callout border-success bg-soft-success">              <p>包括对于该工作流的链接属性设置。</p>            </blockquote></li></ul><h3 id="工作流基本信息"><a href="#工作流基本信息" class="headerlink" title="工作流基本信息"></a>工作流基本信息</h3><p>&emsp;&emsp;工作流基本信息包括：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>工作流名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的工作流标题。</p>            </blockquote></li><li><strong>工作流类别</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从现有的工作流类别列表中选择该工作流所属类别，这个选择决定了在工作流中心页面的左侧导航栏中，该工作流显示在那个类别下。</p>            </blockquote></li><li><strong>显示顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>输入数字，工作流中心页面根据该数字的顺序显示工作流。</p>            </blockquote></li><li><strong>流程ID</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在系统中唯一标识该工作流的ID，数字输入，在整个系统范围内唯一。</p>            </blockquote></li><li><strong>当前版本</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该工作流当前版本，这是一个只读字段，其包含的信息在工作流发布后自动更新，不允许填写</p>            </blockquote></li><li><strong>SEQFormat</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置单据编号的格式，默认格式为”{0}-{1:D6}”。</p>            </blockquote><ul><li><strong>{0}</strong><blockquote class="callout border-success bg-soft-success">              <p>SEQKey，单据编号关键字，格式设置参照下面的SEQKeyFormat。</p>            </blockquote></li><li><strong>{1}</strong><blockquote class="callout border-success bg-soft-success">              <p>流水号，D6表示6位流水号</p>            </blockquote></li><li><strong>{2}</strong><blockquote class="callout border-success bg-soft-success">              <p>公司查阅值，工作流列表上的Company字段值。</p>            </blockquote></li><li><strong>{3}</strong><blockquote class="callout border-success bg-soft-success">              <p>部门查阅值，工作流列表上的Department字段值。</p>            </blockquote></li><li><strong>{4}</strong><blockquote class="callout border-success bg-soft-success">              <p>申请人查阅值，工作流列表上的Applicant字段值。</p>            </blockquote></li><li><strong>{5:日期格式化字符串}</strong><blockquote class="callout border-success bg-soft-success">              <p>当前时间，在冒号后写日期时间格式化字符串，例如：yyyyMMddhhmmssfff</p>            </blockquote></li></ul></li><li><strong>SEQKeyFormat</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置单据编号关键字格式，如果不设置，则默认格式为”{0}-{1:yyyyMM}”。</p>            </blockquote><ul><li><strong>{0}</strong><blockquote class="callout border-success bg-soft-success">              <p>工作流版本缩写。</p>            </blockquote></li><li><strong>{1}</strong><blockquote class="callout border-success bg-soft-success">              <p>当前时间，在冒号后写日期时间格式化字符串，例如：yyyyMMddhhmmssfff。</p>            </blockquote></li></ul></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>文本输入对该工作流的描述信息。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-46-50.png' ></img></div></li></ul><h3 id="工作流权限设定"><a href="#工作流权限设定" class="headerlink" title="工作流权限设定"></a>工作流权限设定</h3><p>&emsp;&emsp;权限设定部分包含下列信息：</p><ul><li><strong>可编辑公司 (Edit Company)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择可以对该流程拥有创建和编辑权限的公司；也即从属于该公司的用户对于该流程拥有创建和编辑权限。系统中仅支持唯一的公司，因此选择可编辑公司也即代表当前系统中所有用户都对于该流程拥有创建和编辑权限。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-47-17.png' ></img></div></li><li><strong>可编辑部门 (Edit Department)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择可以对该流程拥有创建和编辑权限的部门；也即从属于所选择部门的用户对于该流程拥有创建和编辑权限，可选择多个部门。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-47-41.png' ></img></div></li><li><strong>可编辑角色 (Edit Role)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于该流程拥有创建、编辑权限的角色，也即从属于被选择角色的用户对于流程拥有创建、编辑权限，可选择多个角色。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-48-18.png' ></img></div></li><li><strong>可查看角色 (View Role)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于该流程拥有查看权限的角色，也即从属于被选择角色的用户对于流程拥有查看权限，可选择多个角色；用户可查看的流程单据范围取决于流程本身的设置。</p>            </blockquote></li><li><strong>可查看部门角色 (Department View Roles)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于本部门流程拥有查看权限的角色，也即从属于被选择角色的用户对于属于其所属部门的当前流程类型拥有全部查看权限，可选择多个角色。</p>            </blockquote></li><li><strong>可查看子部门角色 (Sub Department View Roles)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于本部门及所有下属子部门的流程拥有查看权限的角色，也即从属于被选择角色的用户对于属于其所属部门及所有下属子部门的当前流程类型拥有全部查看权限，可选择多个角色。</p>            </blockquote></li><li><strong>可查看公司角色 (Company View Roles)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择对于当前流程类型拥有全部查看权限的角色，可多选。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-48-46.png' ></img></div></li></ul><h3 id="重定向设置"><a href="#重定向设置" class="headerlink" title="重定向设置"></a>重定向设置</h3><p>&emsp;&emsp;工作流重定向设置是指在工作流中心页面中的左侧导航栏中点击当前流程名称后，在系统中展现的列表属性或转向的链接地址的设置。<br>&emsp;&emsp;链接类型有3个选项，默认为“工作流列表”。选择工作流列表代表当前设置的是一个工作流相关的列表，此时“重定向URL（Redirect URL）”属性无效，不需要设置。<br>&emsp;&emsp;列表属性里包含下列属性可以设置：</p><ul><li><strong>DisplayView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于和工作流相关的业务单据列表在工作流页面上显示的列表视图名称。</p>            </blockquote></li><li><strong>ShowExportButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于控制在当前工作流页面上是否显示『导出（Export）』按钮，配置值为true或false。</p>            </blockquote></li><li><strong>ExportView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于设置当前工作流列表导出时使用的列表视图名称，导出的字段及字段顺序根据该视图确定。</p>            </blockquote></li><li><strong>SubListURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表名称，用于设置在列表数据导出时同时导出数据的子表；子表和主表关联的字段为“S2_主表名”；配置值为子表的列表名称，例如：/Lists/SubListName。</p>            </blockquote></li><li><strong>SearchFields</strong>  <blockquote class="callout border-success bg-soft-success">              <p>配置当前列表上可以用于关键字模糊检索的列表字段名。</p>            </blockquote></li><li><strong>OrderBy</strong>  <blockquote class="callout border-success bg-soft-success">              <p>排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li><li><strong>OrderByDesc</strong>  <blockquote class="callout border-success bg-soft-success">              <p>逆向排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li></ul><p>&emsp;&emsp;上述列表属性字段以json格式组织并填写在列表属性（List Property）文本框中，例如：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"DisplayView"</span>:<span class="string">"SSFormView_2005"</span>,</span><br><span class="line">    <span class="attr">"ShowExportButton"</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"ExportView"</span>:<span class="string">"SSExportView"</span>,</span><br><span class="line">    <span class="attr">"SubListURL"</span>:<span class="string">"/Lists/ESTRA_DeliveryBatchDetail"</span>,</span><br><span class="line">    <span class="attr">"SearchFields"</span>:<span class="string">"SSW_WorkflowNumber,SSW_CurrentStatus_Text,Supplier,Planner,GenerateLabelMessage"</span>,</span><br><span class="line">    <span class="attr">"OrderByDesc"</span>:<span class="string">"SSW_WorkflowNumber,Supplier"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;链接类型的第2个选择为“自定义链接”。选择这种链接类型时，在重定向URL（Redirect URL）字段中设置超链接。在工作流首页的左侧导航栏中点击当前工作流时，将转向这里设置的超链接对应的网络路径。<br>&emsp;&emsp;链接类型的第3个选择为“自定义列表”。选择这种链接类型时，在列表属性（List Property）文本框中设置列表属性，在工作流首页的左侧导航栏中点击当前工作流时，根据这里设置的列表属性显示相应的列表信息。列表属性包含下列设置项目：</p><ul><li><strong>Key</strong>  <blockquote class="callout border-success bg-soft-success">              <p>显示的列表关键字段，用于列表导入。</p>            </blockquote></li><li><strong>ListURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>显示的列表名称，设置为“/Lists/ListName”。</p>            </blockquote></li><li><strong>SubListURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>子表名称，用于设置在列表数据导出时同时导出数据的子表；子表和主表关联的字段为“S2_主表名”；配置值为子表的列表名称，例如：/Lists/SubListName。</p>            </blockquote></li><li><strong>FormURL</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于显示列表信息的表单名称，该表单可以使用APortal表单设计器设计并发布。</p>            </blockquote></li><li><strong>LinkFields</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于设置列表中关联表单的字段名称，点击该字段对应的超链接可打开FormURL属性中设置的表单。</p>            </blockquote></li><li><strong>DisplayView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置控制列表显示的字段和字段顺序的列表视图名称。</p>            </blockquote></li><li><strong>DataView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置控制列表显示的数据范围的列表视图名称。</p>            </blockquote></li><li><strong>ImportView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置用于列表数据导入的字段和字段顺序的列表视图名称；数据导入时使用的关键字根据Key属性设置。</p>            </blockquote></li><li><strong>ExportView</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置用于列表数据导出的字段和字段顺序的列表视图名称；如果设置了子表（SubListURL），则子表的导出视图名称也相同，且导出时主表的字段在子表字段之前显示（按照从左至右的顺序）。</p>            </blockquote></li><li><strong>ShowNewButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">新增</span> 按钮；如果设置为true，则点击该按钮时以新建模式打开FormURL中设置的表单。</p>            </blockquote></li><li><strong>ShowEditButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮；如果设置为true，则在列表中选择了单行数据时，列表上方的 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮显示且被激活，点击 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮时以编辑模式打开FormURL中设置的表单，装载当前选中行的数据。</p>            </blockquote></li><li><strong>ShowDeleteButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮；如果设置为true，则在列表中选择了一行或多行数据时，列表上方的 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮显示且被激活，点击 <span class="p-1 rounded mb-2 bg-danger text-white">删除</span> 按钮并确认后，可将选中行的数据从列表中删除（发送到网站回收站）。</p>            </blockquote></li><li><strong>ShowExportButton</strong>  <blockquote class="callout border-success bg-soft-success">              <p>是否显示 <span class="p-1 rounded mb-2 bg-danger text-white">导出</span> 按钮。</p>            </blockquote></li><li><strong>OrderBy</strong>  <blockquote class="callout border-success bg-soft-success">              <p>排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li><li><strong>OrderByDesc</strong>  <blockquote class="callout border-success bg-soft-success">              <p>逆向排序字段，可支持多个字段以半角逗号分隔。</p>            </blockquote></li><li><strong>SearchFields</strong>  <blockquote class="callout border-success bg-soft-success">              <p>配置当前列表上可以用于关键字模糊检索的列表字段名。</p>            </blockquote></li><li><strong>ShowAll</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置true或false，默认值为true，代表当前自定义的列表不限制权限，用户可以看到所有列表内容；如果设置为false，则当前用户只能看到列表上的SSW_Viewer（关联SSO_User列表的多值查阅项字段）或SSOwner（关联SSO_User列表的单值查阅项字段）字段里包含自己的那些记录内容。</p>            </blockquote></li><li><strong>URLQueryString</strong>  <blockquote class="callout border-success bg-soft-success">              <p>用于设置装载表单的iframe链接后面增加QueryString参数。</p>            </blockquote></li></ul><p>&emsp;&emsp;上述列表属性字段以json格式组织并填写在列表属性（List Property）文本框中，例如：</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"Key"</span>:<span class="string">"Title"</span>,</span><br><span class="line">    <span class="attr">"ListURL"</span>:<span class="string">"/Lists/ESTRA_DelFor"</span>,</span><br><span class="line">    <span class="attr">"SubListURL"</span>:<span class="string">"/Lists/ESTRA_DelForDetail"</span>,</span><br><span class="line">    <span class="attr">"FormURL"</span>:<span class="string">"Form_2001"</span>,</span><br><span class="line">    <span class="attr">"LinkFields"</span>:<span class="string">"MaterialNumber"</span>,</span><br><span class="line">    <span class="attr">"DisplayView"</span>:<span class="string">"SSFormView_2001"</span>,</span><br><span class="line">    <span class="attr">"DataView"</span>:<span class="string">"SSFormView_2001"</span>,</span><br><span class="line">    <span class="attr">"ImportView"</span>:<span class="string">""</span>,</span><br><span class="line">    <span class="attr">"ExportView"</span>:<span class="string">"SSExportView"</span>,</span><br><span class="line">    <span class="attr">"ShowNewButton"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"ShowEditButton"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"ShowDeleteButton"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"ShowExportButton"</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"OrderByDesc"</span>:<span class="string">"ReleaseDateTime"</span>,</span><br><span class="line">    <span class="attr">"SearchFields"</span>:<span class="string">"SSW_WorkflowNumber,Plant,MaterialNumber,MaterialDescription,SupplierCode,SupplierDescription,ScheduleAgreement"</span>,</span><br><span class="line">    <span class="attr">"ShowAll"</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"URLQueryString"</span>:<span class="string">"&amp;display=1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-49-25.png' ></img></div><h3 id="系统常量定义"><a href="#系统常量定义" class="headerlink" title="系统常量定义"></a>系统常量定义</h3><p>&emsp;&emsp;系统常量中可以定义在整个系统中通用的常量，系统常量的值在定义时写入，不能修改，可以被系统中所有流程引用。<br>&emsp;&emsp;在工作流设计器左侧点击工作流名称，进入工作流属性设置页面。点击页面上方的 <span class="p-1 rounded mb-2 bg-danger text-white">系统常量</span> 按钮，在弹出的“系统常量定义”窗口中可进行系统常量的增加、修改和删除。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-49-46.png' ></img></div><p>&emsp;&emsp;点击系统常量定义窗口的 <span class="p-1 rounded mb-2 bg-danger text-white">+新增</span> 按钮，开始创建一个新的系统常量：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在系统中，流程常量的标题必须唯一。</p>            </blockquote></li><li><strong>变量类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>系统常量，不允许修改。</p>            </blockquote></li><li><strong>值类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选项目包括：单行文本、数字、日期时间、是否、用户。</p>            </blockquote></li><li><strong>值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据变量值类型设置或选择相应的初始值，允许为空。</p>            </blockquote></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>对系统常量进行说明的备注信息。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-50-11.png' ></img></div><h2 id="工作流版本"><a href="#工作流版本" class="headerlink" title="工作流版本"></a>工作流版本</h2><p>&emsp;&emsp;工作流版本是实际承载流程节点、流程操作、流程变量、流程角色以及附着在这些元素上的流程逻辑的载体。从结构上来说，工作流版本附着于工作流之下。每个工作流下都会有至少一个，多则数量不限的工作流版本。<br>&emsp;&emsp;一个工作流正式启用以后，在任意时间点都只会有一个工作流版本作为当前的工作版本，新提交的流程单据会以当前工作版本为基础启动新的流程。如果有新的工作版本发布，则其他已经在运行过程中的流程会按照启动时的流程版本继续流转，不会受新发布的工作版本影响。</p><h3 id="工作流版本属性"><a href="#工作流版本属性" class="headerlink" title="工作流版本属性"></a>工作流版本属性</h3><p>&emsp;&emsp;在工作流设计器左侧导航栏中选中需要增加/管理工作流版本的工作流名称，然后在右侧内容区域上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">+ 新增/工作流版本</span> 按钮，进入工作流版本新增页面。工作流版本属性分为3个主要区域：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-50-43.png' ></img></div><ul><li><strong>基本信息</strong><ul><li><strong>标题</strong><blockquote class="callout border-success bg-soft-success">              <p>工作流版本的标题，默认为工作流名称+V+版本顺序号，可根据实际需要修改。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong><blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的工作流版本标题。</p>            </blockquote></li><li><strong>工作流 (Workflow Category)</strong><blockquote class="callout border-success bg-soft-success">              <p>当前工作流版本所属的工作流，不允许修改。</p>            </blockquote></li><li><strong>版本号 (Workflow Version)</strong><blockquote class="callout border-success bg-soft-success">              <p>当前工作流版本的版本号，当工作流版本发布后系统自动生成，不允许修改。</p>            </blockquote></li><li><strong>流程缩写 (Short Name)</strong><blockquote class="callout border-success bg-soft-success">              <p>流程缩写，用于生成流程单据编号，对应工作流设置中的SEQKeyFormat里的{0}。</p>            </blockquote></li><li><strong>流程表单 (FormURL)</strong><blockquote class="callout border-success bg-soft-success">              <p>流程表单名称，填写表单设计器中设计的FormId（从表单属性页面获取，参照《工作流表单设计/设计表单/表单属性》。</p>            </blockquote></li><li><strong>备注 (Memo)</strong><blockquote class="callout border-success bg-soft-success">              <p>文本输入对工作流的备注说明。</p>            </blockquote></li></ul></li><li><strong>审批任务提醒</strong><ul><li><strong>提醒邮件标题</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务提醒邮件标题模板。</p>            </blockquote></li><li><strong>提醒邮件内容</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务提醒邮件内容模板。</p>            </blockquote></li></ul></li><li><strong>审批超时提醒</strong><ul><li><strong>超时提醒邮件标题</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务超时提醒邮件标题模板。</p>            </blockquote></li><li><strong>超时提醒邮件内容</strong><blockquote class="callout border-success bg-soft-success">              <p>设置当前流程版本特定的审批任务超时提醒邮件内容模板。</p>            </blockquote></li></ul></li></ul><blockquote class="callout border-danger bg-soft-danger">              <p>注：邮件标题、内容模板具体设定规则可参照《系统管理/系统邮件模板设置》章节的相关说明。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-51-15.png' ></img></div><p>&emsp;&emsp;创建工作流版本并保存后，进入图形化的工作流版本设计页面。也可以从左侧导航栏中选择需要设置流程节点的工作流版本，进入相应的工作流版本设计页面。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-51-49.png' ></img></div><h3 id="流程变量定义"><a href="#流程变量定义" class="headerlink" title="流程变量定义"></a>流程变量定义</h3><p>&emsp;&emsp;流程变量可以用于在流程实例的流转过程中记录和流程或业务单据相关的中间结果，并根据流程流转条件对流程变量值进行修改。对于较复杂的业务逻辑也可以在自定义代码中给流程变量赋值。流程变量可以用于逻辑判断节点的逻辑条件判断，或列表赋值等操作。<br>&emsp;&emsp;在工作流版本设计页面上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">变量定义</span> 按钮，在弹出的变量列表窗口中创建或编辑流程变量。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-52-06.png' ></img></div><p>&emsp;&emsp;点击 <span class="p-1 rounded mb-2 bg-danger text-white">+ 新增</span> 按钮创建一个新的流程变量，流程变量包含下列属性：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在同一个工作流中，流程变量的标题必须唯一</p>            </blockquote></li><li><strong>变量类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>工作流变量，不允许修改。</p>            </blockquote></li><li><strong>变量值类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选项目包括：单行文本、数字、日期时间、是否、用户。</p>            </blockquote></li><li><strong>初始值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据变量值类型设置或选择相应的初始值，允许为空。</p>            </blockquote></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>对变量进行说明的备注信息。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-56-30.png' ></img></div><h3 id="流程节点定义"><a href="#流程节点定义" class="headerlink" title="流程节点定义"></a>流程节点定义</h3><p>&emsp;&emsp;工作流版本创建后，用户可以在工作流版本设计页面中通过添加流程节点，并使用流程操作将流程节点进行关联的方式对实际业务场景下的业务流程进行定义。<br>&emsp;&emsp;在工作流版本设计页面中，点击 <span class="p-1 rounded mb-2 bg-danger text-white">+ 新增/工作流节点/节点类型</span> 开始创建当前工作流版本中需要的流程节点。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-27-23-58-46.png' ></img></div><h4 id="启动节点"><a href="#启动节点" class="headerlink" title="启动节点"></a>启动节点</h4><p>&emsp;&emsp;工作流版本创建时，系统默认为该工作流版本创建一个启动节点。每个工作流版本必须且仅允许创建一个启动节点。在工作流版本设计页面中选中“启动节点”，点击上方的 <span class="p-1 rounded mb-2 bg-danger text-white">编辑</span> 按钮，在弹出的节点属性窗口中进行设置，启动节点属性包括：</p><ul><li><strong>标题</strong>   <blockquote class="callout border-success bg-soft-success">              <p>默认为“启动节点”，可修改。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的标题。</p>            </blockquote></li><li><strong>节点顺序 (Node Order)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>启动节点顺序默认为0，不允许修改；在每个工作流版本下只允许有一个顺序为0的节点。</p>            </blockquote></li><li><strong>流程状态 (Workflow Status)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>启动节点的流程状态默认设置为“退回修改/Rejected”状态，不允许修改；流程状态是指流程流转到该节点时流程所处的状态，启动节点的流程状态较为特殊，当流程实例第一次启动时，启动节点的状态默认为“启动/Starting”，当流程流转过程中被拒绝退回到启动节点时，流程状态等于“退回修改/Rejected”状态。</p>            </blockquote></li><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>备注</strong>  <blockquote class="callout border-success bg-soft-success">              <p>对流程节点进行说明，这个备注信息将显示在流程图上，当用户鼠标停留在节点上时。</p>            </blockquote></li></ul><blockquote class="callout border-danger bg-soft-danger">              <p>注1：在工作流实际流转过程中，如果流程被退回到启动节点时在流程实例中还存在未完成的审批任务，这些任务均会被置为 <span class="p-1 rounded mb-2 bg-danger text-white">取消</span> 状态。这是为了避免流程退回并重新提交可能造成的任务重复分配和任务状态不一致。</p><p>注2：其他设置参照《流程节点通用设置》章节的说明。</p>            </blockquote><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-09-54.png' ></img></div><h4 id="审批节点"><a href="#审批节点" class="headerlink" title="审批节点"></a>审批节点</h4><p>&emsp;&emsp;审批处理节点是办公流程设计中最关键的流程节点，通过这个节点完成流程审批任务的分发和审批操作。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-12-22.png' ></img></div><p>&emsp;&emsp;审批处理节点特定的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>备注</strong></li><li><strong>审批类型</strong><ul><li><strong>单人审批</strong><blockquote class="callout border-success bg-soft-success">              <p>代表该审批节点分发的审批任务（如果有多条）只要有一个任务被处理，其他所有任务都会被取消，流程将根据用户选定的操作继续流转。</p>            </blockquote></li><li><strong>并行审批</strong><blockquote class="callout border-success bg-soft-success">              <p>设为并行审批的情况下，节点操作只允许设置2条，并且操作数值分别设定为1和0，使用1代表同意（或类似操作，操作名称可自定义）；使用0代表拒绝（或类似操作，操作名称可自定义）。<br>并行审批节点分配出审批任务（如果有多条）中，如果任意一条被处理时选择了操作数值0对应的节点操作（拒绝），则同节点上其他所有未处理任务都将被取消，流程将按照拒绝操作继续流转；如果所有任务都被处理并且选择了操作数值1对应的节点操作（同意），则流程将按照同意操作继续流转。<br>并行审批节点可以设置“最少并行审批数”参数，如果该参数不设置或设置为0，则并行节点上分配的所有任务必须全部审批通过才算通过；如果该参数设置为大于0的正整数，则当并行节点上审批通过的任务数量（也即选择操作数值为1的审批操作数量）大于等于该数字时，该节点通过审批，否则等待。</p>            </blockquote></li></ul></li><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>任务分发类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该属性仅对需要在该节点前一步的审批处理（或单据提交）页面上选择下步节点的审批角色和审批用户时有效。</p>            </blockquote><ul><li><strong>角色</strong><blockquote class="callout border-success bg-soft-success">              <p>仅列出根据该节点的角色设置中设置的角色解析出的所有部门角色用户关系列表供审批用户选择。</p>            </blockquote></li><li><strong>用户</strong><blockquote class="callout border-success bg-soft-success">              <p>同时列出部门角色用户关系列表和用户列表，用户列表根据所选择的部门角色用户关系自动过滤出相关联的用户列表供审批用户选择。</p>            </blockquote></li></ul></li><li><strong>避免重复审批</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该属性设置为“是”时，在当前审批节点上分配的工作流任务中如果包含在当前流程实例的前面节点中进行过审批，且选择了“审批通过”操作的审批用户，则在当前节点上自动作为“审批通过”处理；也就是说同一个用户可避免两次对同一个流程进行“审批通过”的操作。</p>            </blockquote></li><li><strong>允许召回 (Can be retrived)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>加签类型</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在审批处理节点上设置加签后，审批用户在流程中可以在当前节点之前或之后增加原流程设计中不包含的其他审批处理用户。</p>            </blockquote><ul><li><strong>前加签</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户可以在其本人的审批之前增加其他审批处理用户，前加签的用户完成审批后，无论前加签用户选择的审批意见是『同意』（审批操作数值为1）还是『拒绝』（审批操作数值为0），审批任务都会回到原来的审批用户处继续处理。</p>            </blockquote></li><li><strong>后加签</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户可以在其本人的审批之后增加其他审批处理用户，后加签的用户选择的审批意见将替代当前审批用户的审批意见。</p>            </blockquote></li><li><strong>委派</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户可以将自己的审批任务委派给其他用户处理。</p>            </blockquote></li><li><strong>要求解释</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户将当前任务转发给流程申请人，流程申请人对该单据进行解释后重新提交回到当前审批用户处进行审批。</p>            </blockquote></li><li><strong>加签</strong><blockquote class="callout border-success bg-soft-success">              <p>审批用户将其他用户设置为审批用户，增加的用户和当前审批用户对于审批任务的操作的效果是相同的，也就是说无论是加签的用户还是原审批用户都可以对单据进行审批。</p>            </blockquote></li></ul></li><li><strong>最少并行审批数</strong>  <blockquote class="callout border-success bg-soft-success">              <p>审批类型选择为并行审批时，如果该属性设置的数字为大于0的整数，则判断该节点上已经有大于或等于该数字的审批人员，或是所有审批人员执行了代表“审批通过（操作数值=1）”的审批操作时，该节点被判定为审批通过，并按照设置的流程继续向下流转；如果该属性未设置或设置为0，则必须是所有审批人员审批通过，该节点才被判定为审批通过。</p>            </blockquote></li><li><strong>允许邮件审批</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设定在本节点的用户，是否可以通过回复电子邮件进行审批处理。通过电子邮件审批需要在系统中进行相应的设定，详细请参照《系统管理/电子邮件审批设置』。</p>            </blockquote></li><li><strong>发送邮件附件</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设定是否将流程单据上的附件（如果有，仅限主表单上的附件）作为通知任务审批用户的电子邮件附件；结合邮件附件 (MailAttachments)属性一起使用。</p>            </blockquote></li><li><strong>邮件附件 (MailAttachments)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果发送邮件附件设置为“是”，则判断MailAttachments是否有值，如果没有值则将当前表单上所有以“SSF_Attachments”开头的文本附件字段和列表本身的附件字段 (Attachments)包含的所有附件作为当前节点发送的电子邮件附件发送给审批用户；如果MailAttachments字段中设置了内容，则仅将该字段中设置的字段内包含的附件作为邮件附件发送。</p>            </blockquote></li><li><strong>邮件标题模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>邮件内容模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》</p>            </blockquote></li><li><strong>可编辑字段</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》</p>            </blockquote></li></ul><h4 id="审阅节点"><a href="#审阅节点" class="headerlink" title="审阅节点"></a>审阅节点</h4><p>&emsp;&emsp;审阅节点通常用于在流程中给相关人员发送通知提醒。审阅节点将审阅任务分配给相关人员，审阅节点不会阻止流程，审阅节点分发审阅任务后就将继续转向下步节点的处理。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-33-03.png' ></img></div><p>&emsp;&emsp;审阅节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>备注</strong></li><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>邮件附件 (MailAttachments)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果发送邮件附件设置为“是”，则判断MailAttachments是否有值，如果没有值则将当前表单上所有以“SSF_Attachments”开头的文本附件字段和列表本身的附件字段 (Attachments)包含的所有附件作为当前节点发送的电子邮件附件发送给审批用户；如果MailAttachments字段中设置了内容，则仅将该字段中设置的字段内包含的附件作为邮件附件发送。</p>            </blockquote></li><li><strong>邮件标题模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>邮件内容模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《系统邮件模板设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>可编辑字段</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li></ul><h4 id="逻辑判断节点"><a href="#逻辑判断节点" class="headerlink" title="逻辑判断节点"></a>逻辑判断节点</h4><p>&emsp;&emsp;逻辑判断节点可以在不同的流程分支上设置逻辑判断公式，让流程根据逻辑判断的结果走向不同的分支，从而实现对流程走向的灵活控制。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-38-40.png' ></img></div><p>&emsp;&emsp;逻辑判断节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>允许召回</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>多操作执行 (Multioperation)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该字段设置为Yes时，当前的逻辑判断节点在流程实例中如果有多个节点操作的逻辑公式都满足True的条件，则多个节点操作将被同时启动；否则，仅第一个满足逻辑公式==True的节点操作将被启动。</p>            </blockquote></li><li><strong>备注</strong></li></ul><h4 id="并行节点"><a href="#并行节点" class="headerlink" title="并行节点"></a>并行节点</h4><p>&emsp;&emsp;并发处理节点用于在流程中判断多条并发的流程分支是否完成，并在和该节点关联的所有并发流程分支完成后向下继续流转。在工作流中启动并发并不需要使用并发节点，只需要在一个操作下设置多个下步流程节点，就可以开始并发处理。<br>&emsp;&emsp;在并发处理结束的地方，必须将所有并发处理的流程分支均指向同一个并发处理节点判断，并使用该节点判断并发流程分支是否已经全部处理完成。<br>&emsp;&emsp;并发节点的节点操作只能设定一个，如果设定多个，流程会从最后一个创建的节点操作流转。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-42-19.png' ></img></div><p>&emsp;&emsp;并行节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>允许召回 (Can be retrived)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li><li><strong>并发数量</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前并发节点对应的并发数量。如果设定了该值，则并发处理节点判断已经完成的并发操作数是否等于设定的并发数量，等于则继续流转流程，否则继续等待。</p>            </blockquote></li><li><strong>并发启动节点</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当前并发节点对应的所有并发的最初启动节点。如果设定了该值，则并发处理节点找到该启动节点，计算从该启动节点启动的实际并发分支数量（和工作流实例相关的并发数量，当前实例中未启动的分支不计算），并以该数量判断已经结束的并发数量是否满足继续向下流转的条件。</p>            </blockquote></li></ul><h4 id="结束节点"><a href="#结束节点" class="headerlink" title="结束节点"></a>结束节点</h4><p>&emsp;&emsp;流程结束节点标志一个流程已经完成或终止。在流程中，一旦流程结束节点被触发，流程实例关联的所有未完成任务和处于等待状态的节点都将被取消。流程结束节点的状态通常设置为“流程结束”或“流程中止”。<br>&emsp;&emsp;流程结束节点通常可以用来结束一个流程，或是中止一个不需要继续执行的流程。每个流程中可以有多个流程结束节点。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-00-46-33.png' ></img></div><p>&emsp;&emsp;结束节点的节点属性如下：</p><ul><li><strong>标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>节点名称。</p>            </blockquote></li><li><strong>中文/英文/日文标题</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在多语言环境下显示的节点标题。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《流程节点通用设置》的说明。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>参见《通用设置》。</p>            </blockquote></li></ul><blockquote class="callout border-danger bg-soft-danger">              <p>注：如果流程设置合理，流程中的任务都可以正常结束的情况下，理论上来讲流程结束节点是非必须的。</p>            </blockquote><h4 id="通用设置"><a href="#通用设置" class="headerlink" title="通用设置"></a>通用设置</h4><p>&emsp;&emsp;以下是多个类型的流程节点通用设置：</p><ul><li><strong>附件上传 (Attachment Upload)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>不需要/可选/必须上传；流程提交前审批人员可以做的审批附件操作；如果设置为“不需要”，则审批页面上不会出现审批附件上传控件，如果设置为“必须上传”，则审批人员必须上传审批附件后才能提交流程；该属性适用于启动节点、审批节点、审阅节点。</p>            </blockquote></li><li><strong>审批说明 (Comments Input)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>不需要/可选/必须填写；流程提交前当前的审批人员是否需要/允许输入审批说明；如果设置为“不需要”，则审批界面上将不显示审批说明输入框，如果设置为“必须填写”，则审批人员必须填写审批说明后才能提交流程；该属性适用于启动节点、审批节点、审阅节点。</p>            </blockquote></li><li><strong>节点顺序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从参见《流程节点通用设置》的说明；节点在流程图中显示的顺序，可以以整数+小数的形式设置；整数决定节点所在的行数（以启动节点为第0行，依次向下延伸），小数部分决定节点在行上从左开始所在的列数。</p>            </blockquote></li><li><strong>允许召回</strong>  <blockquote class="callout border-success bg-soft-success">              <p>该属性设置为“是”时，当流程单据处于审批节点或逻辑判断节点上等待的情况下（如果有多个节点同时处于等待状态，则必须所有等待中的节点的“允许召回”属性都被设置为“是”），申请人打开单据时可以通过点击单据页面上的『召回』按钮将单据回收到启动节点；在启动节点上申请人可以对单据进行修改后重新提交，流程将从头开始重新执行；在启动节点上申请人也可以通过点击单据页面上的 <span class="p-1 rounded mb-2 bg-danger text-white">终止</span> 按钮来终止该单据，</p>            </blockquote></li><li><strong>工作流状态</strong>  <blockquote class="callout border-success bg-soft-success">              <p>当流程到达某个节点时，节点上设置的工作流状态将被设置为当前流程的工作流状态；“启动/Starting”和“回收中/Withdrawing”两个状态用于系统启动和回收流程，不可设置在流程节点上。</p>            </blockquote></li><li><strong>自定义代码</strong>  <blockquote class="callout border-success bg-soft-success">              <p>使用自定义代码，可以在流程中完成流程节点操作和流程逻辑不支持的特殊业务逻辑，给需要复杂计算的流程变量赋值，启动和本流程相关的子流程，或者和第三方系统的交互。<br>自定义代码需继承水杉工作流节点事件基类：S2WorkflowNodeEvent。在该基类中开发了4个事件供开发者调用，分别对应流程节点处理的不同时机：</p>            </blockquote><ul><li><strong>Inited</strong><blockquote class="callout border-success bg-soft-success">              <p>流程节点启动时，也即进入流程节点前。</p>            </blockquote></li><li><strong>Processed</strong><blockquote class="callout border-success bg-soft-success">              <p>流程节点启动完成，也即进入流程节点后。</p>            </blockquote></li><li><strong>TaskCompleted</strong><blockquote class="callout border-success bg-soft-success">              <p>审批任务完成后，该事件仅适用于审批处理节点。</p>            </blockquote></li><li><strong>Completed</strong><blockquote class="callout border-success bg-soft-success">              <p>节点完成后，也即流程离开节点之前。</p>            </blockquote></li></ul></li></ul><p>&emsp;&emsp;继承S2WorkflowNodeEvent实现流程自定义代码片段如下图所示：</p><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">APortal.NodeEvents</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GetCustomerService</span> : <span class="title">ExternalEvent</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Completed</span> (<span class="params">SSWorkflowControl wfc</span>)</span> &#123;</span><br><span class="line">            Log.WriteLine (String.Format (<span class="string">"节点[id=&#123;0&#125;,title=&#123;1&#125;] Completed GetCustomerService_自定义代码调用成功"</span>, wfc.Id, wfc.Title));</span><br><span class="line">            Web web = wfc.web;</span><br><span class="line">            List customerOUCList = ListExtensions.GetListByUrl (web, <span class="string">"Lists/APortal_CustomerOUC"</span>);</span><br><span class="line">            SSListItem formDataItem = wfc.SSWorkflow.FormDataItem;</span><br><span class="line">            <span class="keyword">int</span> customerID = formDataItem.GetFieldValue&lt;FieldLookupValue&gt; (<span class="string">"CUID"</span>).LookupId;</span><br><span class="line">            <span class="keyword">int</span> endCustomerID = formDataItem.GetFieldValue&lt;FieldLookupValue&gt; (<span class="string">"EndCustomer"</span>).LookupId;</span><br><span class="line">            <span class="keyword">int</span> companyCodeID = formDataItem.GetFieldValue&lt;FieldLookupValue&gt; (<span class="string">"CompanyCode"</span>).LookupId;</span><br><span class="line"></span><br><span class="line">            CamlQuery camlQuery_CustomerOUC = <span class="keyword">new</span> CamlQuery ();</span><br><span class="line">            camlQuery_CustomerOUC.ViewXml = CAML.ViewQuery (ViewScope.Recursive,</span><br><span class="line">                CAML.Where (</span><br><span class="line">                    CAML.And (</span><br><span class="line">                        CAML.Eq (CAML.FieldValue (<span class="string">"CompanyCode"</span>, <span class="string">"Lookup"</span>, companyCodeID.ToString (), <span class="string">"LookupId='true'"</span>)),</span><br><span class="line">                        <span class="keyword">string</span>.Format (<span class="string">"&lt;In&gt;&lt;FieldRef Name=\"WorkflowNode\" LookupId=\"True\" /&gt;&lt;Values&gt;&lt;Value Type=\"Integer\"&gt;&#123;0&#125;&lt;/Value&gt;&lt;Value Type=\"Integer\"&gt;&#123;1&#125;&lt;/Value&gt;&lt;/Values&gt;&lt;/In&gt;"</span>, customerID, endCustomerID)</span><br><span class="line">                    )), <span class="string">""</span>, CAML.ViewFields (CAML.FieldRef (<span class="string">"ID"</span>), CAML.FieldRef (<span class="string">"Title"</span>), CAML.FieldRef (<span class="string">"CustomerService"</span>)), <span class="number">99</span>);</span><br><span class="line"></span><br><span class="line">            ListItemCollection customerOUCListItems = customerOUCList.GetItems (camlQuery_CustomerOUC);</span><br><span class="line">            web.Context.Load (customerOUCListItems);</span><br><span class="line">            web.Context.ExecuteQueryRetry (<span class="number">3</span>, <span class="number">100</span>);</span><br><span class="line">            <span class="keyword">string</span> user4Value = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">if</span> (customerOUCListItems.Count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                SSListItem customerOUCListItem = <span class="keyword">new</span> SSListItem (customerOUCListItems[<span class="number">0</span>]);</span><br><span class="line">                <span class="keyword">if</span> (customerOUCListItem[<span class="string">"CustomerService"</span>] != <span class="literal">null</span>) &#123;</span><br><span class="line">                    FieldLookupValue[] customerServiceValues = customerOUCListItem.GetFieldValue&lt;FieldLookupValue[]&gt; (<span class="string">"CustomerService"</span>);</span><br><span class="line">                    <span class="keyword">foreach</span> (<span class="keyword">var</span> customerServiceValue <span class="keyword">in</span> customerServiceValues) &#123;</span><br><span class="line">                        user4Value = <span class="keyword">string</span>.Format (<span class="string">"&#123;0&#125;&#123;1&#125;;#&#123;2&#125;;#"</span>, user4Value, customerServiceValue.LookupId, customerServiceValue.LookupValue);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            formDataItem[<span class="string">"User4"</span>] = user4Value;</span><br><span class="line">            formDataItem.Update (<span class="literal">false</span>);</span><br><span class="line">            Log.WriteLine (String.Format (<span class="string">"GetCustomerService_自定义代码调用结束。"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;S2WorkflowNodeEvent接口的代码片段如下图所示：</p><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">APortal.NodeEvents</span> &#123;</span><br><span class="line">    public class ExternalEvent : ShuiShan.S3.Workflow.ISSWNodeExternalEvent &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Inited</span> (<span class="params">SSWorkflowControl wfc</span>)</span> &#123;</span><br><span class="line">            <span class="comment">//wfc.Memo = String.Format("&#123;0&#125;,&#123;1&#125;:&#123;2&#125;", wfc.Memo, System.DateTime.Now, "S3NodeEventTesting.Inited");</span></span><br><span class="line">            <span class="comment">//wfc.Update();</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Processed</span> (<span class="params">SSWorkflowControl wfc</span>)</span> &#123;</span><br><span class="line">            <span class="comment">//wfc.Memo = String.Format("&#123;0&#125;,&#123;1&#125;:&#123;2&#125;", wfc.Memo, System.DateTime.Now, "S3NodeEventTesting.Processed");</span></span><br><span class="line">            <span class="comment">//wfc.Update();</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">TaskCompleted</span> (<span class="params">SSWorkflowTask task</span>)</span> &#123;</span><br><span class="line">            <span class="comment">//task.SSWorkflowControl.Memo = String.Format("&#123;0&#125;,&#123;1&#125;:&#123;2&#125;-&#123;3&#125;", task.SSWorkflowControl.Memo, System.DateTime.Now, "S3NodeEventTesting.TaskCompleted", task.Id);</span></span><br><span class="line">            <span class="comment">//task.SSWorkflowControl.Update();</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Completed</span> (<span class="params">SSWorkflowControl wfc</span>)</span> &#123;</span><br><span class="line">            <span class="comment">//wfc.Memo = String.Format("&#123;0&#125;,&#123;1&#125;:&#123;2&#125;", wfc.Memo, System.DateTime.Now, "S3NodeEventTesting.Completed");</span></span><br><span class="line">            <span class="comment">//wfc.Update();</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;自定义代码部署后，将自定义代码名称写入相应的流程节点的节点处理代码处，包括下列部分：节点处理代码的完整命名空间和类名称，项目名称，版本号，Culture=neutral，PublicKeyTokey，如下图所示：</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-01-01-48.png' ></img></div><ul><li><strong>可编辑字段</strong>  <blockquote class="callout border-success bg-soft-success">              <p>流程处于审批、审阅或启动节点时，流程审批人员打开流程表单时，表单上可以设置部分字段允许审批人员进行编辑，以满足特定的业务需求；需要在节点所对应的审批/审阅流程表单上编辑的字段可以在节点的“可编辑字段”中写入字段的名称（列表字段的定义名称），每个字段占一行；如果需要在页面上支持子表的编辑，可配置子表名称，按照：“Lists/子表名称”的格式设置；如果某个节点上需要设置页面上所有可编辑字段都放开编辑，则可以设置关键字：”&lt;ALL&gt;”。</p>            </blockquote></li></ul><h3 id="节点设置"><a href="#节点设置" class="headerlink" title="节点设置"></a>节点设置</h3><h4 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h4><p>&emsp;&emsp;可以在流程节点上为已经定义的流程变量进行赋值。在工作流设计器中选择工作流节点，并点击『变量赋值』按钮，在弹出的『变量赋值』窗口中可以新增、编辑和删除变量赋值定义记录。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-11-35-36.png' ></img></div><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-11-36-27.png' ></img></div><ul><li><strong>工作流变量</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择需要进行赋值的工作流变量。</p>            </blockquote></li><li><strong>变量赋值事件</strong><ul><li><strong>节点预处理</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动前进行赋值，这个赋值事件仅适用于审批、审阅类型节点，预处理事件在审批、审阅类型节点的工作流任务被分配前触发，可以在这个事件中写入或修改和当前节点审批相关的用户类型变量。</p>            </blockquote></li><li><strong>节点启动</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动时进行赋值。</p>            </blockquote></li><li><strong>节点结束</strong><blockquote class="callout border-success bg-soft-success">              <p>节点结束时（流程离开该节点前）进行赋值。</p>            </blockquote><blockquote class="callout border-danger bg-soft-danger">              <p>注意：在流程启动节点上对变量进行赋值时，如果需要在流程退回启动节点并重新提交后对变量进行重新赋值的话，则应考虑在启动节点的“节点结束”事件中进行变量赋值；启动节点的“节点启动”事件仅在进入启动节点时触发，此时流程单据还没有进行修改，可能会影响流程变量获得正确的值。</p>            </blockquote></li></ul></li><li><strong>赋值来源</strong><ul><li><strong>特定值</strong><blockquote class="callout border-success bg-soft-success">              <ul><li><strong>文本、数字类型等可输入固定值。</strong></li><li><strong>文本类型可输入：$DTC.今天，$DTC.今日，$DTC.Today：代表变量赋值时当天的日期，不带时间。</strong></li><li><strong>文本类型可输入：$DTC.现在，$DTC.Now：代表变量赋值时的日期时间，包含时间。</strong></li><li><strong>日期类型变量可选择特定日期。</strong></li><li><strong>是否类型可选择Yes/No作为设置值。</strong></li><li><strong>用户类型可从系统的用户列表中选择特定的用户。</strong></li></ul>            </blockquote></li><li><strong>工作流变量</strong><blockquote class="callout border-success bg-soft-success">              <p>可以选择当前流程中相同类型的变量进行赋值。</p>            </blockquote></li><li><strong>系统常量</strong><blockquote class="callout border-success bg-soft-success">              <p>可以从当前系统中定义的同类型的系统常量列表中选择需要赋值给当前变量的常量名称。</p>            </blockquote></li><li><strong>工作流列表</strong><blockquote class="callout border-success bg-soft-success">              <p>可以选择工作流信息中相同类型的字段值进行赋值。</p>            </blockquote></li><li><strong>业务列表</strong><blockquote class="callout border-success bg-soft-success">              <p>可以选择业务单据列表中相同类型的字段值进行赋值。</p>            </blockquote></li><li><strong>计算值</strong><blockquote class="callout border-success bg-soft-success">              <p>可写入公式引用来自业务单据或工作流单据的字段值（可参照《逻辑公式设置》的说明）；支持对数字类型变量的带括号的加减乘除四则运算，例如：($VAR.number1+$VAR.number2)*$VAR.number2。</p>            </blockquote></li></ul></li><li><strong>设置值</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据赋值来源分别选择或输入相应的值。</p>            </blockquote></li><li><strong>排序</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置赋值的顺序。</p>            </blockquote></li></ul><h4 id="列表赋值"><a href="#列表赋值" class="headerlink" title="列表赋值"></a>列表赋值</h4><p>&emsp;&emsp;在流程运转过程中，可以利用列表赋值功能给流程相关的工作流信息列表或业务单据信息列表上的特定字段进行赋值操作。<br>&emsp;&emsp;在工作流版本设计页面中，选择需要进行列表赋值操作的节点，点击页面上方的『列表赋值』按钮，在弹出页面中对当前节点的列表赋值操作进行新增、编辑和删除。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-11-50-28.png' ></img></div><p>点击 <span class="p-1 rounded mb-2 bg-danger text-white">新增</span> 按钮，在弹出窗口中开始定义新的列表赋值操作：</p><ul><li><strong>赋值目标列表 (Target List)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>从“工作流列表”或“业务单据列表”中选择。</p>            </blockquote></li><li><strong>字段名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>根据赋值目标列表的选择，分别列出工作流列表或业务单据列表的字段供选择。</p>            </blockquote></li><li><strong>赋值事件</strong><ul><li><strong>节点预处理</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动前进行赋值，这个赋值事件仅适用于审批、审阅类型节点，预处理事件在审批、审阅类型节点的工作流任务被分配前触发，可以在这个事件中写入或修改和当前节点审批相关的工作流或业务列表字段。</p>            </blockquote></li><li><strong>节点启动</strong><blockquote class="callout border-success bg-soft-success">              <p>节点启动时进行赋值。</p>            </blockquote></li><li><strong>节点结束</strong><blockquote class="callout border-success bg-soft-success">              <p>节点结束时（流程离开该节点前）进行赋值。</p>            </blockquote></li></ul></li><li><strong>赋值来源</strong><ul><li><strong>工作流变量</strong></li><li><strong>系统常量</strong></li><li><strong>计算值</strong></li></ul></li><li><strong>变量名称</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果在赋值来源设置了工作流量或系统常量，则变量名称中分别列出和当前选择的字段相同类型的工作流变量和系统常量供用户选择。</p>            </blockquote></li><li><strong>赋值顺序 (Order By)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>设置数字，定义当前的列表赋值顺序。</p>            </blockquote></li><li><strong>默认值 (Default Value)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>如果赋值来源选择了计算值，在默认值处写入确定值或公式引用来自业务单据或工作流单据的字段值（可参照《逻辑公式设置》的说明）。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-11-53-11.png' ></img></div><h4 id="节点超时操作"><a href="#节点超时操作" class="headerlink" title="节点超时操作"></a>节点超时操作</h4><p>&emsp;&emsp;节点超时操作用于定义审批节点在审批任务分发超过一定时间后，由工作流引擎自动执行的动作。在工作流设计器中选中需要设置超时操作的审批节点后，点击页面上方的 <span class="p-1 rounded mb-2 bg-danger text-white">节点超时操作</span> 按钮，在弹出窗口中将显示已经在该节点上定义的节点超时操作。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-11-59-00.png' ></img></div><p>点击 <span class="p-1 rounded mb-2 bg-danger text-white">新建</span> 按钮开始创建一个新的节点操作，包含下列属性设置：</p><ul><li><strong>超时操作</strong>  <blockquote class="callout border-success bg-soft-success">              <p>在超时发生时由系统自动执行的操作类型：</p>            </blockquote><ul><li><strong>邮件提醒</strong><blockquote class="callout border-success bg-soft-success">              <p>自动发送邮件。</p>            </blockquote></li><li><strong>同意</strong><blockquote class="callout border-success bg-soft-success">              <p>对当前审批节点自动执行“同意”操作。</p>            </blockquote></li><li><strong>拒绝</strong><blockquote class="callout border-success bg-soft-success">              <p>对当前审批节点自动执行“拒绝”操作</p>            </blockquote></li></ul></li><li><strong>提醒时间计算基础</strong>  <blockquote class="callout border-success bg-soft-success">              <p>选择计算应提醒时间的依据：</p>            </blockquote><ul><li><strong>节点启动时间</strong><blockquote class="callout border-success bg-soft-success">              <p>当前审批节点启动的时间。</p>            </blockquote></li><li><strong>流程启动时间</strong><blockquote class="callout border-success bg-soft-success">              <p>当前流程启动时间。</p>            </blockquote></li><li><strong>时间类型变量</strong><blockquote class="callout border-success bg-soft-success">              <p>从当前流程中定义的时间类型变量选择一个.</p>            </blockquote></li></ul></li><li><strong>提醒启动时间间隔 (Reminder Interval)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>定义从提醒时间计算基础开始以后多久时间进行第一次提醒。时间间隔定义为以分钟为单位的数字。</p>            </blockquote></li><li><strong>循环提醒</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选择一次（仅处理一次），选择每分，每时（每小时），每天，每周，每月，每年，则需要设定『循环提醒间隔』，工作流结合循环提醒和循环提醒间隔的设定进行重复触发的提醒操作；例如循环提醒设置了每天，循环提醒间隔设置了2，则代表每2天提醒一次。</p>            </blockquote></li><li><strong>循环提醒次数</strong>  <blockquote class="callout border-success bg-soft-success">              <p>循环提醒发生的次数。</p>            </blockquote></li><li><strong>循环提醒持续时间</strong>  <blockquote class="callout border-success bg-soft-success">              <p>以分钟为单位的时间，从提醒时间计算基础开始，超过这个时间点后，不再循环提醒；这个属性和前述的“循环提醒次数”共同生效，以先到者为准。</p>            </blockquote></li><li><strong>收件人、抄送</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可选择当前申请人，当前审批人，或从当前流程的人员类型变量中选择，可多选。</p>            </blockquote></li><li><strong>逻辑判断公式 (Formula)</strong>  <blockquote class="callout border-success bg-soft-success">              <p>可定义逻辑判断公式，来同时决定相应的节点超时操作是否执行；如果逻辑判断公式不为空，则当相应的节点启动时，逻辑判断公式的计算结果需等于True，当前的节点超时操作设置才能生效。</p>            </blockquote></li><li><strong>邮件标题模板、邮件内容模板、短信提醒模板</strong>  <blockquote class="callout border-success bg-soft-success">              <p>发送邮件和短信提醒的标题和内容模板，具体设置方式参照『流程相关设定/邮件和短信模板』章节的说明。</p>            </blockquote></li></ul><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-12-01-31.png' ></img></div><h3 id="节点角色"><a href="#节点角色" class="headerlink" title="节点角色"></a>节点角色</h3><p>&emsp;&emsp;节点角色适用于审批、审阅和启动节点的设置。节点角色的设置决定了在相应的节点上被分配审批、审阅处理任务的角色和用户。无论在节点角色中设置的是角色或用户，最终所有任务都将分配到具体的用户帐号。<br>&emsp;&emsp;在流程设计器中选择需要设定节点角色的节点后，点击页面上方的『角色定义』按钮，在弹出的“工作流节点角色”窗口中定义当前节点的角色、用户。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-12-15-32.png' ></img></div><ul><li>部门角色 (Department Role)  <blockquote class="callout border-success bg-soft-success">              <p>指定部门角色用户关系，设置特定部门上的某个角色中包含的用户作为流程审批或审阅人员。</p>            </blockquote></li><li>向上相对角色 (Up Role)  <blockquote class="callout border-success bg-soft-success">              <p>在角色列表里指定一个角色名称，从流程实例的所属部门向上寻找到的第一个对应该角色的部门角色用户关系中包含的用户即为该节点的审批或审阅人员。例如，设置向上相对角色为“副总经理”，则从发起人所属部门向上在组织结构树中逐层寻找，找到任何一个部门下有“副总经理”角色时就停止寻找，并将找到的第一个部门角色用户关系中包含的用户取出，并给这些用户分发该节点的任务。<br>流程实例的所属部门的默认值等于流程发起人的所属部门，也可以根据实际业务需求在表单或流程中修改这个默认的所属部门。此外，在流程实例上还有一个Department0字段，如果在流程中给该字段赋值，那么工作流引擎将以这个字段里存储的部门为基础向上寻找相对角色。</p>            </blockquote>  <blockquote class="callout border-danger bg-soft-danger">              <p>注1：设置向上相对角色时需要注意确保在流程的发起人所属部门向上可以找到这个角色，否则会导致该节点无法分配任务。当然，在特定情况下，也可以通过节点上的默认操作功能，在节点没有任务分配时自动转向默认操作，避免流程中断。</p>            </blockquote></li><li>特定角色：<ul><li>发起人<blockquote class="callout border-success bg-soft-success">              <p>发起流程的用户。</p>            </blockquote></li><li>发起人的直线经理<blockquote class="callout border-success bg-soft-success">              <p>在发起人的用户信息中定义的直线经理用户。</p>            </blockquote></li><li>最近审批人的直线经理<blockquote class="callout border-success bg-soft-success">              <p>在流程流转过程中，最近一个审批用户的直线经理用户。通常可以用来设置循着人员汇报线条逐步向上审批的流程。</p>            </blockquote></li><li>创建人<blockquote class="callout border-success bg-soft-success">              <p>创建流程的用户（通常和发起人相同，但是在某些流程中可以修改发起人，创建人则不能修改）。</p>            </blockquote></li><li>部门经理<blockquote class="callout border-success bg-soft-success">              <p>流程单据所属部门（默认为创建流程的用户的所属部门，可根据实际需要修改）的部门经理。</p>            </blockquote></li></ul></li><li>曾用处理人 (Prev. Approver)  <blockquote class="callout border-success bg-soft-success">              <p>从节点列表中选择一个启动、审批或审阅类型的节点，本节点将把审批或审阅任务分配给该节点同样的用户；通常可以使用曾用处理人功能让曾经在某个节点上处理过任务的用户在后续流程中再次确认处理结果。</p>            </blockquote></li><li>指定用户  <blockquote class="callout border-success bg-soft-success">              <p>指定特定用户作为节点任务处理人员，可设置多个。</p>            </blockquote></li><li>指定角色  <blockquote class="callout border-success bg-soft-success">              <p>从角色列表中指定一个或多个角色名称，组织结构中所有和该角色关联的部门角色用户关系中包含的用户均作为节点任务处理人员。</p>            </blockquote></li><li>用户组  <blockquote class="callout border-success bg-soft-success">              <p>从组织结构中定义的用户组中选择一个或多个，将工作流任务分配给属于这些用户组的所有用户。</p>            </blockquote></li><li>公式  <blockquote class="callout border-success bg-soft-success">              <p>此处可以填写工作流列表、业务列表或工作流变量中定义的用户类型字段或变量：</p>            </blockquote><ul><li>工作流列表<blockquote class="callout border-success bg-soft-success">              <p>$SSW.字段名称。</p>            </blockquote></li><li>表单关联的业务列表<blockquote class="callout border-success bg-soft-success">              <p>$SYW.字段名称。</p>            </blockquote></li><li>工作流变量<blockquote class="callout border-success bg-soft-success">              <p>$VAR.变量名称。</p>            </blockquote><blockquote class="callout border-danger bg-soft-danger">              <p>注：上面所写的字段名称或变量名称关联的数据必须是用户类型（关联SSO_User）的查阅项字段，否则在流程中将无法实现预想的效果。</p>            </blockquote></li></ul></li></ul><h3 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h3><p>&emsp;&emsp;节点操作构成流程图中连接不同流程节点的线条。在审批类型的流程节点中，节点操作对应审批用户选择的审批意见（例如：同意、拒绝等）。<br>&emsp;&emsp;在节点编辑页面中选择“节点操作”标签页，进入节点操作设置页面。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='50%' width='50%' src='images/aportal-2020-03-28-12-43-52.png' ></img></div><p>&emsp;&emsp;在节点操作列表上方点击 <span class="p-1 rounded mb-2 bg-danger text-white">新增</span> 按钮开始创建一个新的流程操作。</p><ul><li>工作流节点  <blockquote class="callout border-success bg-soft-success">              <p>即当前编辑的节点，不可修改。</p>            </blockquote></li><li>操作类型  <blockquote class="callout border-success bg-soft-success">              <p>操作类型包括同意、拒绝、其它、隐藏4种，选择不同的操作类型可以对操作名称、操作数值等属性进行快捷设置。</p>            </blockquote><ul><li>同意<blockquote class="callout border-success bg-soft-success">              <p>操作名称默认设置为“同意/Approve”，操作数值设置为1。</p>            </blockquote></li><li>拒绝<blockquote class="callout border-success bg-soft-success">              <p>操作名称默认设置为“拒绝/Reject”，操作数值设置为0。</p>            </blockquote></li><li>其他<blockquote class="callout border-success bg-soft-success">              <p>操作名称不设置默认值，操作数值设置为2。</p>            </blockquote></li><li>隐藏<blockquote class="callout border-success bg-soft-success">              <p>操作名称不设置默认值，操作数值设置为-1。</p>            </blockquote></li></ul></li><li>操作名称  <blockquote class="callout border-success bg-soft-success">              <p>文字输入，例如：同意、拒绝等；可输入中文/英文/日文三种多语言选项。</p>            </blockquote></li><li>操作数值  <blockquote class="callout border-success bg-soft-success">              <p>数字输入。如果仅有同意、拒绝操作，则同意操作使用数字1作为操作数值，拒绝操作则使用数字0。<br>如果操作名称为负数，则该操作为隐藏操作，将不会出现在审批用户的审批界面上供选择。这个功能可以用于需要设定特定的默认操作用于在流程实例流转到节点时，节点对应的角色中不包含任何实际用户时的自动转向；或是节点超时自动转向的操作。</p>            </blockquote>  <blockquote class="callout border-danger bg-soft-danger">              <p>注1：操作数值为负数的操作仅仅在审批任务界面上不会显示，在流程图上仍然会显示。因此，设定操作数值为负数仅对审批节点有实际意义；<br>注2：同一个节点下的所有节点操作的操作数值不能重复。</p>            </blockquote></li><li>操作后流转节点  <blockquote class="callout border-success bg-soft-success">              <p>指定该操作后流转向的其他工作流节点；操作后流转节点可以指定多个，也可以指向当前节点本身。</p>            </blockquote>  <blockquote class="callout border-danger bg-soft-danger">              <p>注：如果将操作后流转节点指向节点自身，则需小心设计流程避免死循环的产生。除非是故意要设计死循环流程。</p>            </blockquote></li><li>逻辑判断公式  <blockquote class="callout border-success bg-soft-success">              <p>逻辑判断公式适用于逻辑判断节点，在逻辑判断节点上符合逻辑判断公式==True的节点操作将被启动。逻辑公式设置方式参照《系统管理/逻辑公式设置》章节的相关说明。</p>            </blockquote></li><li>默认操作  <blockquote class="callout border-success bg-soft-success">              <p>如果流程实例运转到审批处理节点时根据节点的角色设置没有找到任何实际用户可以分配任务（或是没有分配任何角色），则流程将自动转向该节点关联的默认操作设置为“是”的操作，如果有多个默认操作则转向找到的第一个默认操作。</p>            </blockquote></li><li>备注  <blockquote class="callout border-success bg-soft-success">              <p>文本输入对该节点操作的说明信息。</p>            </blockquote></li></ul><h3 id="工作流版本发布"><a href="#工作流版本发布" class="headerlink" title="工作流版本发布"></a>工作流版本发布</h3><p>&emsp;&emsp;工作流版本定义完成后，可以点击工作流设计器上方的『发布』按钮，将当前设计的工作流版本发布为工作流的最新版本。<br>&emsp;&emsp;工作流版本发布后，当前工作流发起的新实例将以最新版本为基础启动和流转。在工作流最新版本发布前已经启动的流程，将按照上一个版本的工作流继续流转直至完成或终止。</p><div width='100%' class='text-center'><img class='pb-4 text-center class' height='80%' width='80%' src='images/aportal-2020-03-28-12-54-28.png' ></img></div>]]></content>
      
    </entry>
    
    
  
</search>
